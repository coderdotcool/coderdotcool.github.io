[{"title":"iOS Animations ç¬”è®°","date":"2016-06-15T01:33:11.000Z","path":"Notes/iOS-Animations-ç¬”è®°.html","text":"å¯¹iOSçš„åŠ¨ç”»ç›¸å…³çš„æ–¹é¢å•ç‹¬åšäº†ä¸€ä¸‹æ•´ç†ï¼Œä»¥åæœ‰æ—¶é—´ä¼šæŒç»­æ›´æ–°â€¦ View åŠ¨ç”»123456789UIView.animateWithDuration(0.5, animations: &#123; self.heading.center.x += self.view.bounds.width&#125;)UIView.animateWithDuration(0.5, delay: 0.3, options: [], animations: &#123; self.username.center.x += self.view.bounds.width&#125;, completion: nil)UIView.animateWithDuration(0.5, delay: 0.4, options: [], animations: &#123; self.password.center.x += self.view.bounds.width&#125;, completion: nil) å¯åšåŠ¨ç”»çš„å±æ€§Position and size bounds frame center Appearance backgroundColor alpha ###Transformation transform åŠ¨ç”» optionsRepeating .Repeat ä½¿ä½ çš„åŠ¨ç”»æ°¸è¿œå¾ªç¯é‡å¤ .Autoreverse è¿™ä¸ªé€‰é¡¹åªèƒ½å’Œ .Repeat ä¸€èµ·ä½¿ç”¨ï¼Œæ­£å‘åå‘çš„é‡å¤åŠ¨ç”» 123UIView.animateWithDuration(0.5, delay: 0.4, options: [.Repeat, .Autoreverse], animations: &#123; self.password.center.x += self.view.bounds.width &#125;, completion: nil) Easing .Linear :çº¿æ€§ .CurveEaseIn : åŠ¨ç”»å¼€å§‹æ—¶ï¼ŒåŠ é€Ÿ .CurveEaseOut : åŠ¨ç”»ç»“æŸæ—¶ï¼Œå‡é€Ÿ .CurveEaseInOut : åŠ¨ç”»å¼€å§‹æ—¶ï¼ŒåŠ é€Ÿï¼Œå¹¶ä¸”ï¼ŒåŠ¨ç”»ç»“æŸæ—¶ï¼Œå‡é€Ÿ 123UIView.animateWithDuration(0.5, delay: 0.4, options: [.Repeat, .Autoreverse, .CurveEaseOut], animations: &#123; self.password.center.x += self.view.bounds.width &#125;, completion: nil) Springs usingSpringWithDamping : å¼¹ç°§åŠ¨ç”»çš„é˜»å°¼å€¼ï¼Œä¹Ÿå°±æ˜¯ç›¸å½“äºæ‘©æ“¦åŠ›çš„å¤§å°ï¼Œè¯¥å±æ€§çš„å€¼ä»0.0åˆ°1.0ä¹‹é—´ï¼Œè¶Šé è¿‘0ï¼Œé˜»å°¼è¶Šå°ï¼Œå¼¹åŠ¨çš„å¹…åº¦è¶Šå¤§ï¼Œåä¹‹é˜»å°¼è¶Šå¤§ï¼Œå¼¹åŠ¨çš„å¹…åº¦è¶Šå°ï¼Œå¦‚æœå¤§é“ä¸€å®šç¨‹åº¦ï¼Œä¼šå‡ºç°å¼¹ä¸åŠ¨çš„æƒ…å†µã€‚ initialSpringVelocity : å¼¹ç°§åŠ¨ç”»çš„é€Ÿç‡ï¼Œæˆ–è€…è¯´æ˜¯åŠ¨åŠ›ã€‚å€¼è¶Šå°å¼¹ç°§çš„åŠ¨åŠ›è¶Šå°ï¼Œå¼¹ç°§æ‹‰ä¼¸çš„å¹…åº¦è¶Šå°ï¼Œåä¹‹åŠ¨åŠ›è¶Šå¤§ï¼Œå¼¹ç°§æ‹‰ä¼¸çš„å¹…åº¦è¶Šå¤§ã€‚è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœè®¾ç½®ä¸º0ï¼Œè¡¨ç¤ºå¿½ç•¥è¯¥å±æ€§ï¼Œç”±åŠ¨ç”»æŒç»­æ—¶é—´å’Œé˜»å°¼è®¡ç®—åŠ¨ç”»çš„æ•ˆæœã€‚ 1234UIView.animateWithDuration(0.5, delay: 0.5, usingSpringWithDamping: 0.5, initialSpringVelocity: 0.0, options: [], animations: &#123; self.loginButton.center.y -= 30.0 self.loginButton.alpha = 1.0 &#125;, completion: nil) TransitionsOptions .TransitionFlipFromLeft .TransitionFlipFromRight .TransitionCurlUp .TransitionCurlDown .TransitionCrossDissolve .TransitionFlipFromTop .TransitionFlipFromBottom 123456789//æ·»åŠ ä¸€ä¸ªæ–° viewï¼Œéœ€è¦æ›´æ”¹ view çš„å±‚æ¬¡ï¼Œtransition éœ€è¦ container viewUIView.transitionWithView(animationContainerView!, duration: 0.33, options: [.CurveEaseOut, .TransitionFlipFromBottom], animations: &#123; self.animationContainerView!.addSubview(newView) &#125;, completion: nil) //remove the view via transitionUIView.transitionWithView(animationContainerView!, duration: 0.33, doptions: [.CurveEaseOut, .TransitionFlipFromBottom], animations: &#123; self.newView.removeFromSuperview() &#125;, completion: nil) 12345//æ˜¾ç¤ºéšè— viewï¼Œæ— éœ€æ›´æ”¹ view çš„å±‚æ¬¡ï¼Œtransition æ— éœ€ container view//hide the view via transitionUIView.transitionWithView(self.newView, duration: 0.33, options: [.CurveEaseOut, .TransitionFlipFromBottom], animations: &#123; self.newView.hidden = true &#125;, completion: nil) 1234//æ›¿æ¢ view//replace via transitionUIView.transitionFromView(self.oldView!, toView: self.newView!, duration: 0.33, options: [.TransitionFlipFromTop],completion: nil) å…³é”®å¸§åŠ¨ç”»123456789101112131415161718192021222324252627282930313233343536let originalCenter = planeImage.centerUIView.animateKeyframesWithDuration(1.5, delay: 0.0, options: [], animations: &#123; //add keyframes UIView.addKeyframeWithRelativeStartTime(0.0, relativeDuration: 0.25, animations: &#123; self.planeImage.center.x += 80.0 self.planeImage.center.y -= 10.0 &#125;) UIView.addKeyframeWithRelativeStartTime(0.1, relativeDuration: 0.4) &#123; self.planeImage.transform = CGAffineTransformMakeRotation(CGFloat(-M_PI_4/2)) &#125; UIView.addKeyframeWithRelativeStartTime(0.25, relativeDuration: 0.25) &#123; self.planeImage.center.x += 100.0 self.planeImage.center.y -= 50.0 self.planeImage.alpha = 0.0 &#125; UIView.addKeyframeWithRelativeStartTime(0.51, relativeDuration: 0.01) &#123; self.planeImage.transform = CGAffineTransformIdentity self.planeImage.center = CGPoint(x: 0.0, y: originalCenter.y) &#125; UIView.addKeyframeWithRelativeStartTime(0.55, relativeDuration: 0.45) &#123; self.planeImage.alpha = 1.0 self.planeImage.center = originalCenter &#125; &#125;, completion: nil) Auto Layout123456789101112131415161718isMenuOpen = !isMenuOpen for constraint in titleLabel.superview!.constraints &#123; //å¾ªç¯çº¦æŸï¼Œæ‰¾å‡ºç›¸åº”çš„æ‰€éœ€çš„çº¦æŸ if constraint.firstItem as? NSObject == titleLabel &amp;&amp; constraint.firstAttribute == .CenterX &#123; constraint.constant = isMenuOpen ? -100.0 : 0.0 continue &#125;&#125;//menuHeightConstraint ä¸º Menu çš„ é«˜åº¦çº¦æŸmenuHeightConstraint.constant = isMenuOpen ? 200.0 : 60.0titleLabel.text = isMenuOpen ? \"Select Item\" : \"Packing List\" UIView.animateWithDuration(1.0, delay: 0.0, usingSpringWithDamping: 0.4, initialSpringVelocity: 10.0, options: .CurveEaseIn, animations: &#123; //è°ƒç”¨ layoutIfNeeded æ›´æ–°çº¦æŸï¼Œæ›´æ–°å¸ƒå±€ï¼Œäº§ç”ŸåŠ¨ç”» self.view.layoutIfNeeded() &#125;, completion: nil) å±æ€§ constant æ˜¯ NSLayoutConstraint ç±»ä¸­ä»…æœ‰çš„å¯å˜çš„å±æ€§ï¼ˆmutable propertyï¼‰ï¼Œè‹¥è¦ä¿®æ”¹ multiplier æˆ–ä¿®æ”¹ä¸ºå¦ä¸€ä¸ªçº¦æŸï¼Œåˆ™éœ€è¦åˆ é™¤è¿™ä¸ªçº¦æŸå†å¢åŠ ä¸€ä¸ªæ–°çš„çº¦æŸï¼ˆreplaceï¼‰ 123456789101112131415161718192021222324252627282930313233343536isMenuOpen = !isMenuOpen for constraint in titleLabel.superview!.constraints &#123; if constraint.firstItem as? NSObject == titleLabel &amp;&amp; constraint.firstAttribute == .CenterX &#123; constraint.constant = isMenuOpen ? -100.0 : 0.0 continue &#125; //é€šè¿‡æ ‡è¯†ç¬¦æ‰¾åˆ°å¯¹åº”æ‰€éœ€çš„çº¦æŸ if constraint.identifier == \"TitleCenterY\" &#123; //é€šè¿‡å°†çº¦æŸçš„ active è®¾ä¸º false æ¥åˆ é™¤æ­¤çº¦æŸï¼Œå¦‚æœæ²¡æœ‰å¼•ç”¨æŒ‡å‘è¿™ä¸ªçº¦æŸï¼Œè¿™ä¸ªçº¦æŸå¯¹è±¡å°†ä»å†…å­˜ä¸­åˆ é™¤ constraint.active = false //add new constraint let newConstraint = NSLayoutConstraint( item: titleLabel, attribute: .CenterY, relatedBy: .Equal, toItem: titleLabel.superview!, attribute: .CenterY, multiplier: isMenuOpen ? 0.67 : 1.0, constant: 5.0) newConstraint.identifier = \"TitleCenterY\" //é€šè¿‡è®¾ç½® newConstraint çš„å±æ€§ active ä¸º trueï¼Œæ¥é€šçŸ¥ Auto Layout åº”ç”¨æ–°çš„çº¦æŸ(newConstraint) newConstraint.active = true continue &#125;&#125;menuHeightConstraint.constant = isMenuOpen ? 200.0 : 60.0titleLabel.text = isMenuOpen ? \"Select Item\" : \"Packing List\" UIView.animateWithDuration(1.0, delay: 0.0, usingSpringWithDamping: 0.4, initialSpringVelocity: 10.0, options: .CurveEaseIn, animations: &#123; self.view.layoutIfNeeded() &#125;, completion: nil) 1234567891011121314151617181920212223242526272829303132333435func showItem(index: Int) &#123; print(\"tapped item \\(index)\") let imageView = UIImageView(image: UIImage(named: \"summericons_100px_0\\(index).png\")) imageView.backgroundColor = UIColor(red: 0.0, green: 0.0, blue: 0.0, alpha: 0.5) imageView.layer.cornerRadius = 5.0 imageView.layer.masksToBounds = true imageView.translatesAutoresizingMaskIntoConstraints = false view.addSubview(imageView) //iOS 9.0 ä¹‹åï¼Œçº¦æŸçš„æ–°ç”¨æ³• let conX = imageView.centerXAnchor.constraintEqualToAnchor( view.centerXAnchor) let conBottom = imageView.bottomAnchor.constraintEqualToAnchor( view.bottomAnchor, constant: imageView.frame.height) let conWidth = imageView.widthAnchor.constraintEqualToAnchor( view.widthAnchor,multiplier: 0.33,constant: -50.0) let conHeight = imageView.heightAnchor.constraintEqualToAnchor( imageView.widthAnchor) NSLayoutConstraint.activateConstraints([conX, conBottom, conWidth, conHeight]) //ä½¿çº¦æŸç”Ÿæ•ˆï¼Œä½œä¸ºåé¢åŠ¨ç”»çš„åˆå§‹çŠ¶æ€ï¼Œè¿™æ ·åé¢çš„åŠ¨ç”»æ‰ä¼šæ­£å¸¸ view.layoutIfNeeded() UIView.animateWithDuration(0.8, delay: 0.0, usingSpringWithDamping: 0.4, initialSpringVelocity: 0.0, options: [], animations: &#123; conBottom.constant = -imageView.frame.size.height/2 conWidth.constant = 0.0 self.view.layoutIfNeeded() &#125;, completion: nil) UIView.animateWithDuration(0.8, delay: 1.0,usingSpringWithDamping: 0.4, initialSpringVelocity: 0.0,options: [], animations: &#123; conBottom.constant = imageView.frame.size.height conWidth.constant = -50.0 self.view.layoutIfNeeded() &#125;, completion: &#123;_ in imageView.removeFromSuperview() &#125;) &#125; Layer åŠ¨ç”»èƒ½ç”¨ View åŠ¨ç”»æ—¶å°±ç”¨ View åŠ¨ç”»ï¼Œä½†å½“éœ€è¦æ›´å¤šæ€§èƒ½ä¸çµæ´»æ€§æ˜¯ï¼Œå¯ä»¥è€ƒè™‘ç”¨ Layer åŠ¨ç”» Views Layers å¤æ‚çš„Viewå±‚æ¬¡å¸ƒå±€ï¼ŒAuto Layout ç­‰ ç®€å•çš„å±‚æ¬¡ï¼Œæ›´å¿«çš„å¸ƒå±€ï¼Œæ›´å¿«çš„ç»˜åˆ¶ ç”¨æˆ·äº¤äº’ æ²¡æœ‰å“åº”äº‹ä»¶é“¾çš„å¼€é”€ ç»å¸¸åœ¨CPUä¸»çº¿ç¨‹ä¸Šæ‰§è¡Œè‡ªå®šä¹‰é€»è¾‘å’Œè‡ªå®šä¹‰ç»˜åˆ¶ä»£ç  é»˜è®¤æ²¡æœ‰è‡ªå®šä¹‰é€»è¾‘ã€‚ç»å¸¸æœ‰ç¼“å­˜ï¼Œåœ¨GPUä¸Šç›´æ¥ç»˜åˆ¶ éå¸¸çµæ´»ï¼Œå¼ºå¤§ï¼Œæœ‰å¾ˆå¤šå­ç±» ä¸çµæ´»ï¼Œå¾ˆå°‘å­ç±» å¯åšåŠ¨ç”»çš„å±æ€§Position and size bounds position transform Border borderColor borderWidth cornerRadius Shadow shadowOffset shadowOpacity shadowPath shadowRadius Contents contents mask opacity ä»¥ä¸Šå¯åŠ¨ç”»çš„å±æ€§åªæ˜¯ä¸€éƒ¨åˆ†ï¼ŒCALayerçš„å­ç±»å¦å¤–ä¹Ÿæœ‰å¾ˆå¤šå¯åŠ¨ç”»çš„å±æ€§ 123456789101112//CABasicAnimation åªæ˜¯ä¸€ä¸ªæ•°æ®æ¨¡å‹ï¼Œæ²¡æœ‰å±€é™äºå…·ä½“çš„ layerlet flyRight = CABasicAnimation(keyPath: \"position.x\")flyRight.fromValue = -view.bounds.size.width/2flyRight.toValue = view.bounds.size.width/2flyRight.duration = 0.5heading.layer.addAnimation(flyRight, forKey: nil)flyRight.beginTime = CACurrentMediaTime() + 0.3//å¯ä»¥é‡ç”¨åŠ¨ç”» flyRight åœ¨å…¶ä»– layer ä¸Šï¼Œæ¯ä¸ª layer éƒ½å°†ç‹¬ç«‹è¿è¡Œè¯¥åŠ¨ç”»çš„ä¸€ä¸ªå‰¯æœ¬//addAnimation(_:forKey:) ä¼šåˆ›å»ºä¸€ä¸ªåŠ¨ç”»å¯¹è±¡çš„å‰¯æœ¬username.layer.addAnimation(flyRight, forKey: nil) fillMode","tags":[{"name":"iOS","slug":"iOS","permalink":"https://coderdotcool.github.io/tags/iOS/"},{"name":"Animations","slug":"Animations","permalink":"https://coderdotcool.github.io/tags/Animations/"},{"name":"Swift","slug":"Swift","permalink":"https://coderdotcool.github.io/tags/Swift/"}]},{"title":"Swiftç¬”è®°","date":"2016-05-19T12:22:07.000Z","path":"Notes/Swiftç¬”è®°.html","text":"é—²æš‡å­¦ä¹ Swiftè®°çš„ç¬”è®°ï¼Œåæœ‰æ—¶é—´ä¼šæŒç»­æ›´æ–°ï¼ŒæŸ¥æ¼è¡¥ç¼ºâ€¦ğŸ˜€ åŸºæœ¬å¸¸é‡1let pi: Double = 3.14159 å˜é‡12var variableNumber: Int = 42variableNumber = 1_000_000 å‘½å12//You can even use the full range of Unicode charactersvar å˜é‡ÃŸÅ“âˆšÃ¥: Int = -1 ç±»å‹æ¨å¯¼12let coordinates3D: (x: Int, y: Int, z: Int) = (2, 3, 1)let (x, y, z) = coordinates3D ç±»å‹è½¬æ¢1234567var integer: Int = 100var decimal: Double = 12.5integer = Int(decimal)let hourlyRate = 19.5let hoursWorked = 10let totalCost = hourlyRate * Double(hoursWorked) å…ƒç»„(Tuples)12345678910let coordinates: (Int, Int) = (2, 3)let x: Int = coordinates.0let y: Int = coordinates.1let coordinates3D: (x: Int, y: Int, z: Int) = (2, 3, 1)let x1 = coordinates3D.xlet y1 = coordinates3D.ylet z1 = coordinates3D.zlet (x2, y2, _) = coordinates3D å–æ¨¡12let moduloDecimal = 11.6 % 1.2//moduloDecimal ç­‰äº 0.8ï¼Œå› ä¸º11.6 = 1.2*9+0.8 Shift operations123let shiftLeft = 1 &lt;&lt; 3let shiftRight = 32 &gt;&gt; 2//ç»“æœéƒ½ç­‰äº 8 å­—ç¬¦ä¸²12345678910111213141516let name = \"Matt\"let message = \"Hello my name is \\(name)!\" // \"Hello my name is Matt!\"let oneThird = 1.0 / 3.0let oneThirdLongString = \"One third is \\(oneThird) as a decimal.\" //One third is 0.3333333333333333 as a decimal.//combining characterlet stringA = \"cafÃ©\"let stringB = \"cafe\\u&#123;0301&#125;\"stringA.characters.count //4stringB.characters.count //4let equal = stringA == stringB //equal ä¸º truelet string = \"Swift Apprentice is a great book!\"string.uppercaseString //SWIFT APPRENTICE IS A GREAT BOOK!string.lowercaseString //swift apprentice is a great book! åˆ¤æ–­if1234567891011var hoursWorked = 45var price = 0if hoursWorked &gt; 40 &#123; let hoursOver40 = hoursWorked - 40 price += hoursOver40 * 50 hoursWorked -= hoursOver40&#125;price += hoursWorked * 25print(price)//1250 switch12345678910111213141516171819let hourOfDay = 12let timeOfDay: Stringswitch (hourOfDay) &#123;case 0, 1, 2, 3, 4, 5: timeOfDay = \"Early morning\"case 6, 7, 8, 9, 10, 11:timeOfDay = \"Morning\"case 12, 13, 14, 15, 16: timeOfDay = \"Afternoon\"case 17, 18, 19: timeOfDay = \"Evening\"case 20, 21, 22, 23: timeOfDay = \"Late evening\"default: timeOfDay = \"INVALID HOUR!\"&#125;print(timeOfDay)//Afternoon 123456789let number = 10switch (number) &#123;case let x where x % 2 == 0: print(\"Even\")default: print(\"Odd\")&#125;//Even 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748let coordinates: (x: Int, y: Int, z: Int) = (3, 2, 5)switch (coordinates) &#123;case (0, 0, 0): // 1 print(\"Origin\")case (_, 0, 0): // 2 print(\"On the x-axis.\")case (0, _, 0): // 3 print(\"On the y-axis.\")case (0, 0, _): // 4 print(\"On the z-axis.\")default: // 5 print(\"Somewhere in space\")&#125;switch (coordinates) &#123;case (let x, let y, let z) where x == y &amp;&amp; y == z: print(\"x = y = z\")case (_, _, 0): print(\"On the x/y plane\")case (_, 0, _): print(\"On the x/z plane\")case (0, _, _): print(\"On the y/z plane\")default: print(\"Nothing special\")&#125;switch (coordinates) &#123;case (0, 0, 0): print(\"Origin\")case (let x, 0, 0): print(\"On the x-axis at x = \\(x)\")case (0, let y, 0): print(\"On the y-axis at y = \\(y)\")case (0, 0, let z): print(\"On the z-axis at z = \\(z)\")case (let x, let y, let z): print(\"Somewhere in space at x = \\(x), y = \\(y), z = \\(z)\")&#125;switch (coordinates) &#123;case (let x, let y, _) where y == x: print(\"Along the y = x line.\")case (let x, let y, _) where y == x * x: print(\"Along the y = x^2 line.\")default:break&#125; Ranges12let closedRange = 0...5let halfOpenRange = 0..&lt;5 12345678910111213141516let hourOfDay = 12let timeOfDay: Stringswitch (hourOfDay) &#123;case 0...5: timeOfDay = \"Early morning\"case 6...11: timeOfDay = \"Morning\"case 12...16: timeOfDay = \"Afternoon\"case 17...19: timeOfDay = \"Evening\"case 20..&lt;24: timeOfDay = \"Late evening\"default: timeOfDay = \"INVALID HOUR!\"&#125; å¾ªç¯for12345let count = 10var sum = 0for i in 1...count &#123; sum += i &#125; 12345678let count = 10var sum = 1var lastSum = 0for _ in 0..&lt;count &#123; let temp = sum sum = sum + lastSum lastSum = temp&#125; while1234var sum = 1while sum &lt; 1000 &#123; sum = sum + (sum + 1)&#125; repeat1234var sum = 1repeat &#123; sum = sum + (sum + 1)&#125; while sum &lt; 1000 labeled statements123456789var sum = 0rowLoop: for row in 0..&lt;8 &#123; columnLoop: for column in 0..&lt;8 &#123; if row == column &#123; continue rowLoop &#125; sum += row * column &#125;&#125; å‡½æ•°å‚æ•°1234func printMyName() &#123; print(\"My name is Matt Galloway.\")&#125;printMyName() 1234func printMultipleOf(multiplier: Int, and andValue: Int) &#123; print(\"\\(multiplier) * \\(andValue) = \\(multiplier * andValue)\")&#125;printMultipleOf(4, and: 2) 1234func printMultipleOf(multiplier: Int, _ andValue: Int) &#123; print(\"\\(multiplier) * \\(andValue) = \\(multiplier * andValue)\")&#125;printMultipleOf(4, 2) 1234func printMultipleOf(multiplier: Int, and andValue: Int = 1) &#123; print(\"\\(multiplier) * \\(andValue) = \\(multiplier * andValue)\")&#125;printMultipleOf(4) è¿”å›å€¼1234func multiply(number: Int, by byValue: Int) -&gt; Int &#123; return number * byValue&#125;let result = multiply(4, by: 2) 1234567func multiplyAndDivide(number: Int, by byValue: Int) -&gt; (multiply: Int,divide: Int) &#123; return (number * byValue, number / byValue)&#125;let result = multiplyAndDivide(4, by: 2)let multiply = result.multiplylet divide = result.divide é»˜è®¤pass-by-valueå‡½æ•°å‚æ•°ä¸ç”¨letå£°æ˜çš„å¸¸é‡ç­‰ä»·. 12345func incrementAndPrint(value: Int) &#123; value += 1 print(value)&#125;//Error : Left side of mutating operator isn't mutable: 'value' is a 'let' constant pass-by-reference12345678910func incrementAndPrintInOut(inout value: Int) &#123; value += 1 print(value)&#125;var value = 5incrementAndPrintInOut(&amp;value)print(value)// 6 // 6 å‡½æ•°ä½œä¸ºå˜é‡123456789101112func add(a: Int, _ b: Int) -&gt; Int &#123; return a + b &#125;var function: (Int, Int) -&gt; Int = addfunc printResult(function: (Int, Int) -&gt; Int, _ a: Int, _ b: Int) &#123; let result = function(a, b) print(result)&#125;printResult(add, 4, 2)//6 ClosureA closure is simply a function with no name. åŒ¿åå‡½æ•° 1234567var multiplyClosure: (Int, Int) -&gt; IntmultiplyClosure = &#123; (a: Int, b: Int) -&gt; Int in return a * b &#125;let result = multiplyClosure(4, 2)//8 ç®€å†™123456789101112131415161718192021var multiplyClosure: (Int, Int) -&gt; Int//å¯ä»¥çœæ‰returnmultiplyClosure = &#123; (a: Int, b: Int) -&gt; Int in a*b &#125;//å¯ä»¥çœæ‰è¿”å›ç±»å‹multiplyClosure = &#123; (a: Int, b: Int) in a*b &#125;//å¯ä»¥çœæ‰å‚æ•°ç±»å‹multiplyClosure = &#123; (a, b) in a*b &#125;//å¯ä»¥çœæ‰å‚æ•°åˆ—è¡¨multiplyClosure = &#123; $0 * $1 &#125; 123456789101112131415161718192021222324252627282930313233func operateOnNumbers(a: Int, _ b: Int, operation: (Int, Int) -&gt; Int) -&gt; Int &#123; let result = operation(a, b) print(result) return result&#125;//1let addClosure = &#123; (a: Int, b: Int) in a+b &#125;operateOnNumbers(4, 2, operation: addClosure)//2func addFunction(a: Int, b: Int) -&gt; Int &#123; return a + b &#125;operateOnNumbers(4, 2, operation: addFunction)//3operateOnNumbers(4, 2, operation: &#123; (a: Int, b: Int) -&gt; Int in return a + b &#125;)//4operateOnNumbers(4, 2, operation: &#123; $0 + $1 &#125;)//æœ€ç»ˆå¯ç®€å†™ä¸ºï¼šoperateOnNumbers(4, 2) &#123; $0 + $1 &#125; æ— è¿”å›å€¼1234let voidClosure: () -&gt; Void = &#123; print(\"Swift is awesome!\")&#125;voidClosure() é—­åŒ…1234567891011121314151617func countingClosure() -&gt; (() -&gt; Int) &#123; var counter = 0 let incrementCounter: () -&gt; Int = &#123; counter += 1 return counter &#125; return incrementCounter&#125;let counter1 = countingClosure()let counter2 = countingClosure()counter1() // 0counter2() // 0counter1() // 1counter1() // 2counter2() // 1 Optionalsforce unwrapping12345var authorName: String? = \"Matt Galloway\"var unwrappedAuthorName = authorName!print(\"Author is \\(unwrappedAuthorName)\")//Author is Matt Galloway If let binding12345678let authorName: String? = \"Matt Galloway\"let authorAge: Int? = 30if let name: String = authorName, age: Int = authorAge &#123; print(\"The author is \\(name) who is \\(age) years old.\")&#125; else &#123; print(\"No author or no age.\")&#125; nil coalescing123456789101112var optionalInt: Int? = 10//result = optionalInt ï¼ŸoptionalInt : 0var result: Int = optionalInt ?? 0//ç­‰ä»·äºï¼švar optionalInt: Int? = 10var result: Intif let unwrapped = optionalInt &#123; result = unwrapped&#125; else &#123; result = 0 &#125; é›†åˆæ•°ç»„åˆ›å»ºæ•°ç»„12345678let numbers: Array&lt;Int&gt;let inferredNumbers = Array&lt;Int&gt;()let alsoInferredNumbers = [Int]()let evenNumbers = [2, 4, 6, 8]let allZeros = [Int](count: 5, repeatedValue: 0) //[0, 0, 0, 0, 0] å±æ€§å’Œæ–¹æ³•1234567891011121314151617181920212223242526272829303132333435363738var players = [\"Alice\", \"Bob\", \"Cindy\", \"Dan\"]print(players.isEmpty)// &gt; falsevar currentPlayer = players.firstprint(currentPlayer)// &gt; Optional(\"Alice\")print(players.last)// &gt; Optional(\"Dan\")currentPlayer = players.minElement()print(currentPlayer)// &gt; Optional(\"Alice\")if let currentPlayer = currentPlayer &#123; print(\"\\(currentPlayer) will start\")&#125;// &gt; Alice will startprint([2, 3, 1].first)// &gt; Optional(2)print([2, 3, 1].minElement())// &gt; Optional(1)print([2, 3, 1].maxElement())// &gt; Optional(3)var firstPlayer = players[0]print(\"First player is \\(firstPlayer)\")// &gt; First player is \"Alice\"//ç”¨ Rangelet upcomingPlayers = players[1...2]print(upcomingPlayers)// &gt; [\"Bob\", \"Cindy\"]players[1...3].contains(\"Bob\")// &gt; true æ•°ç»„æ“ä½œ123456789101112131415161718192021222324252627282930313233343536373839//è¿½åŠ var players = [\"Alice\", \"Bob\", \"Cindy\", \"Dan\"]players.append(\"Eli\")players += [\"Gina\"] print(players)// &gt; [\"Alice\", \"Bob\", \"Cindy\", \"Dan\", \"Eli\", \"Gi//æ’å…¥players.insert(\"Frank\", atIndex: 5)//åˆ é™¤var removedPlayer = players.removeLast()print(\"\\(removedPlayer) was removed\")// &gt; Gina was removedremovedPlayer = players.removeAtIndex(2)print(\"\\(removedPlayer) was removed\")// &gt; Cindy was removed//æ›´æ–°print(players)// &gt; [\"Alice\", \"Bob\", \"Dan\", \"Eli\", \"Frank\"]players[4] = \"Franklin\"print(players)// &gt; [\"Alice\", \"Bob\", \"Dan\", \"Eli\", \"Franklin\"]players[0...1] = [\"Donna\", \"Craig\", \"Brian\", \"Anna\"]print(players)// &gt; [\"Donna\", \"Craig\", \"Brian\", \"Anna\", \"Dan\", \"Eli\", \"Franklin\"]//ç§»åŠ¨let playerAnna = players.removeAtIndex(3)players.insert(playerAnna, atIndex: 0)print(players)// &gt; [\"Anna\", \"Donna\", \"Craig\", \"Brian\", \"Dan\", \"Eli\", \"Franklin\"]players = players.sort()print(players)// &gt; [\"Anna\", \"Brian\", \"Craig\", \"Dan\", \"Donna\", \"Eli\", \"Franklin\"] éå†123456789101112131415161718var players = [\"Alice\", \"Bob\", \"Cindy\", \"Dan\"]for playerName in players &#123; print(playerName)&#125;// &gt; Anna// &gt; Bob// &gt; Cindy// &gt; Danfor (index, playerName) in players.enumerate() &#123; print(\"\\(index + 1). \\(playerName)\")&#125;// &gt; 1. Anna// &gt; 2. Bob// &gt; 3. Cindy// &gt; 4. Dan Sequence operations1234567891011121314151617181920let scores = [2, 2, 8, 6, 1, 2]//reduce//ç”¨ç¬¬ä¸€ä¸ªå‚æ•°ä½œä¸ºåˆå§‹å€¼ï¼Œç”¨combileæ“ä½œç¬¦ç´¯è®¡æ•°ç»„(scores)å…ƒç´ let sum = scores.reduce(0, combine: +)print(sum)// &gt; 21//filter//æ¥å—ä¸€ä¸ªclosureä½œä¸ºå‚æ•°ï¼Œå¯¹æ•°ç»„(scores)æ¯ä¸ªå…ƒç´ æ‰§è¡Œæ­¤closureï¼Œè‹¥æ­¤closureè¿”å›trueï¼Œåˆ™å°†å¯¹åº”çš„å…ƒç´ æ·»åŠ åˆ°è¿”å›æ•°ç»„ä¸­print(scores.filter(&#123; $0 &gt; 5 &#125;))// &gt; [8, 6]//map//æ¥å—ä¸€ä¸ªclosureä½œä¸ºå‚æ•°,å¯¹æ•°ç»„(scores)æ¯ä¸ªå…ƒç´ æ‰§è¡Œæ­¤closureï¼Œè¿”å›ä¸€ä¸ªæ–°çš„å…ƒç´ å¹¶å°†ä¹‹æ·»åŠ åˆ°è¿”å›æ•°ç»„ä¸­print(scores)// &gt; [2, 2, 8, 6, 1, 2]let newScores = scores.map(&#123; $0 * 2 &#125;)print(newScores)// &gt; [4, 4, 16, 12, 2, 4] å­—å…¸åˆ›å»ºå­—å…¸123456789101112let pairs: Dictionary&lt;String, Int&gt;let inferredPairs = Dictionary&lt;String, Int&gt;()let alsoInferredPairs = [String: Int]()let namesAndScores = [\"Anna\": 2, \"Brian\": 2, \"Craig\": 8, \"Donna\": 6]print(namesAndScores)// &gt; [\"Brian\": 2, \"Anna\": 2, \"Craig\": 8, \"Donna\": 6]var emptyDictionary: [Int: Int]emptyDictionar = [:] å±æ€§å’Œæ–¹æ³•1234567891011121314151617let namesAndScores = [\"Anna\": 2, \"Brian\": 2, \"Craig\": 8, \"Donna\": 6]print(namesAndScores[\"Anna\"])// &gt; Optional(2)print(namesAndScores[\"Greg\"])// &gt; nilprint(namesAndScores.isEmpty)// &gt; falseprint(namesAndScores.count)// &gt; 4print(Array(namesAndScores.keys))// &gt; [\"Brian\", \"Anna\", \"Craig\", \"Donna\"]print(Array(namesAndScores.values))// &gt; [2, 2, 8, 6] å­—å…¸æ“ä½œ123456789var bobData = [\"name\": \"Bob\", \"profession\": \"Card Player\", \"country\": \"USA\"]//æ›´æ–°bobData.updateValue(\"CA\", forKey: \"state\")bobData[\"city\"] = \"San Francisco\"//åˆ é™¤bobData.removeValueForKey(\"state\")bobData[\"city\"] = nil éå†123456789101112131415let namesAndScores = [\"Anna\": 2, \"Brian\": 2, \"Craig\": 8, \"Donna\": 6]for (key, value) in namesAndScores &#123; print(\"\\(key) - \\(value)\")&#125;// &gt; Brian - 2// &gt; Anna - 2// &gt; Craig - 8// &gt; Donna - 6for key in namesAndScores.keys &#123; print(\"\\(key), \", terminator: \"\") // no newline&#125;print(\"\") // print one final newline// &gt; Brian, Anna, Craig, Donna, Sequence operations123456789101112let namesAndScores = [\"Anna\": 2, \"Brian\": 2, \"Craig\": 8, \"Donna\": 6]//reduce//ç¬¬ä¸€ä¸ªå‚æ•°ä¸º\"\"ï¼Œç”¨combile closureç´¯è®¡(å‰é¢å­—ç¬¦ä¸²åŠ ä¸Šåé¢å­—å…¸é”®å€¼å­—ç¬¦ä¸²)å­—å…¸(namesAndScores)å…ƒç´ (é”®å€¼)let namesString = namesAndScores.reduce(\"\", combine: &#123; $0 + \"\\($1.0), \" &#125;)print(namesString)// &gt; Brian, Anna, Craig, Donna,//filter//æ¥å—ä¸€ä¸ªclosureä½œä¸ºå‚æ•°ï¼Œå¯¹å­—å…¸(namesAndScores)æ¯ä¸ªå…ƒç´ æ‰§è¡Œæ­¤closureï¼Œå–å‡ºå­—å…¸ value å°äº 5 çš„å…ƒç´ print(namesAndScores.filter(&#123; $0.1 &lt; 5 &#125;))// &gt; [(\"Brian\", 2), (\"Anna\", 2)] Setsåˆ›å»ºSet1234567891011121314let setOne: Set&lt;Int&gt;let setTwo = Set&lt;Int&gt;() print(setTwo)// &gt; []//å¿…é¡»æ˜¾å¼å£°æ˜æ˜¯Setï¼Œå¦åˆ™ï¼Œåˆ™åˆ›å»ºäº†æ•°ç»„let someSet: Set&lt;Int&gt; = [1, 2, 3, 1]//å¯ä»¥çœç•¥Setä¸­çš„å…ƒç´ ç±»å‹let anotherSet: Set = [1, 2, 3, 1] print(someSet)// &gt; [2, 3, 1] å±æ€§å’Œæ–¹æ³•1234567891011121314let someSet: Set&lt;Int&gt; = [1, 2, 3, 1]print(someSet.isEmpty)// &gt; falseprint(someSet.count)// &gt; 3print(someSet.contains(1))// &gt; trueprint(someSet.contains(4))// &gt; falseprint(someSet.first)// &gt; Optional(2) Setæ“ä½œ123456789101112131415161718192021222324252627282930313233343536var myTimes: Set = [\"8am\", \"9am\", \"10am\"] //æ’å…¥myTimes.insert(\"11am\")print(myTimes)// &gt; [\"9am\", \"8am\", \"11am\", \"10am\"]//åˆ é™¤let removedElement = myTimes.remove(\"8am\")print(removedElement)// &gt; Optional(\"8am\")print(myTimes)//&gt;[\"9am\", \"11am\", \"10am\"]let adamTimes: Set = [\"9am\", \"11am\", \"1pm\"]//å¹¶é›† unionlet unionSet = myTimes.union(adamTimes)print(unionSet)// &gt; [\"9am\", \"11am\", \"10am\", \"1pm\"]//äº¤é›† intersectlet intersectSet = myTimes.intersect(adamTimes)print(intersectSet)// &gt; [\"9am\", \"11am\"]//å·®é›† subtractlet subtractSet = myTimes.subtract(adamTimes)print(subtractSet)// &gt; [\"10am\"]//å¼‚æˆ– Exclusive Orlet exclusiveOrSet = myTimes.exclusiveOr(adamTimes)print(exclusiveOrSet)// &gt; [\"10am\", \"1pm\"] éå†1234567var myTimes: Set = [\"8am\", \"9am\", \"10am\"]for element in myTimes &#123; print(element)&#125;// &gt; 9am// &gt; 11am// &gt; 10am è‡ªå®šä¹‰ç±»å‹ç»“æ„ä½“ç»“æ„ä½“æ— å¤„ä¸å­˜åœ¨ï¼Œè®¸å¤šSwiftæ ‡å‡†ç±»å‹éƒ½æ˜¯ç»“æ„ä½“ï¼Œæ¯”å¦‚ï¼ŒArray, Int, Float, Double, Bool, Dictionary, Set å’Œ Stringéƒ½æ˜¯è¢«å®šä¹‰ä¸ºç»“æ„ä½“ã€‚æ‰€ä»¥å®ƒä»¬æ‰€æœ‰è‡ªå·±çš„æ–¹æ³•å’Œå±æ€§ã€‚ ç®€å•åˆ›å»ºä½¿ç”¨12345678910111213141516171819202122struct Location &#123; let latitude: Double let longitude: Double&#125;let pizzaLocation = Location(latitude: 44.9871, longitude: -93.2758) struct DeliveryRange &#123; var range: Double let center: Location&#125;//å¸¸é‡ï¼Œä¸èƒ½ä¿®æ”¹å±æ€§å€¼let storeLocation = Location(latitude: 44.9871, longitude: -93.2758)//å¸¸é‡ï¼Œå¯ä»¥ä¿®æ”¹å±æ€§å€¼var pizzaRange = DeliveryRange(range: 200, center: storeLocation) print(pizzaRange.range) // 200print(pizzaRange.center.latitude) // 44.9871pizzaRange.range = 250 è‡ªå®šä¹‰æ„é€ æ–¹æ³•123456789101112131415struct Location &#123; let latitude: Double let longitude: Double // String in GPS format \"44.9871,-93.2758\" init(coordinateString: String) &#123; let crdSplit = coordinateString.characters.split(\",\") latitude = atof(String(crdSplit.first!)) longitude = atof(String(crdSplit.last!)) &#125; &#125;//ä¸€æ—¦è‡ªå®šä¹‰æ„é€ æ–¹æ³•ï¼Œé»˜è®¤æ„é€ æ–¹æ³•å°†æ— æ•ˆ//æ•…ï¼Œä¸èƒ½æ‰§è¡Œ Location(latitude: 44.9871, longitude: -93.2758)let coords = Location(coordinateString: \"44.9871,-93.2758\")print(coords.latitude) // 44.9871print(coords.longitude) // -93.2758 æ„é€ æ–¹æ³•é‡è½½ 1234567891011121314151617181920212223242526struct Order &#123; var toppings: [String] var size: String var crust: String init(toppings: [String], size: String, crust: String) &#123; self.toppings = toppings self.size = size self.crust = crust &#125; init(size: String, crust: String) &#123; self.toppings = [\"Cheese\"] self.size = size self.crust = crust &#125; init(special: String) &#123; self.size = \"Large\" self.crust = \"Regular\" if special == \"Veggie\" &#123; self.toppings = [\"Tomatoes\", \"Green Pepper\", \"Mushrooms\"] &#125; else if special == â€œMeatâ€ &#123; self.toppings = [\"Sausage\", \"Pepperoni\", \"Ham\", \"Bacon\"] &#125; else &#123; self.toppings = [\"Cheese\"] &#125; &#125; &#125; æ„é€ æ–¹æ³•å¿…é¡»æ˜¾å¼çš„ç»™é™¤äº†Optionç±»å‹çš„æ‰€æœ‰å±æ€§èµ‹å€¼ 1234567891011121314struct ClimateControl &#123; var temperature: Double var humidity: Double? init(temp: Double) &#123; temperature = temp &#125; init(temp: Double, hum: Double) &#123; temperature = temp humidity = hum &#125;&#125;let ecoMode = ClimateControl(temp: 75.0)let dryAndComfortable = ClimateControl(temp: 71.0, hum: 30.0) é»˜è®¤å€¼ 123456struct ClimateControl &#123; var temperature: Double = 68.0 var humidity: Double?&#125;let defaultClimate = ClimateControl()print(defaultClimate.temperature) // 68.0 æ–¹æ³•123456789101112struct DeliveryRange &#123; var range: Double let center: Location func isInRange(customer: Location) -&gt; Bool &#123; let difference = sqrt(pow((latitude - center.latitude), 2) + pow((longitude - center.longitude), 2)) return difference &lt; range &#125;&#125;let range = DeliveryRange(range: 150, center: Location(\"44.9871,-93.2758\"))let customer = Location(coordinateString: â€œ44.9850,-93.2750â€)range.isInRange(customer) // true! Extensions1234567891011121314151617struct Location &#123; let latitude: Double let longitude: Double // String in GPS format \"44.9871,-93.2758\" init(coordinateString: String) &#123; let crdSplit = coordinateString.characters.split(\",\") latitude = atof(String(crdSplit.first!)) longitude = atof(String(crdSplit.last!)) &#125; &#125;extension Location &#123; func isNorthernHemisphere() -&gt; Bool &#123; return latitude &gt; 0.0 &#125;&#125;let location = Location(coordinateString: \"44.9850,-93.2750\")location.isNorthernHemisphere() // true 123456extension String &#123; func evenOrOdd() -&gt; String &#123; return characters.count % 2 == 0 ? \"Even!\" : \"Odd!\" &#125;&#125;\"I'm odd\".evenOrOdd() // \"Odd!\" ç»“æ„ä½“å˜é‡123456789101112var range1: DeliveryRange = DeliveryRange(range: 200, center: Location(â€œ44.9871,-93.2758â€))// å°† range1 èµ‹å€¼ç»™ range2var range2: DeliveryRange = range1print(range1.range) // 200print(range2.range) // 200// ä¿®æ”¹ range1 çš„ range ä¸º '100'range1.range = 100// range1 çš„ range ä¸º '100', ä½†æ˜¯ range2 çš„ range ä»ç„¶ä¸º '200'// ç»“æ„ä½“æ˜¯å€¼ç±»å‹,è€Œéå¼•ç”¨ç±»å‹print(range1.range) // 100print(range2.range) // 200 ç±»åˆ›å»º12345678910111213//ç±»ä¸åƒç»“æ„ä½“ï¼Œç±»æ²¡æœ‰æä¾›é»˜è®¤æ„é€ æ–¹æ³•ï¼Œå¿…é¡»è¦å†™æ„é€ æ–¹æ³•æ˜¾å¼çš„ç»™å±æ€§èµ‹å€¼ã€‚class Person &#123; var firstName: String var lastName: String init(firstName: String, lastName: String) &#123; self.firstName = firstName self.lastName = lastName &#125; func fullName() -&gt; String &#123; return \"\\(firstName) \\(lastName)\" &#125;&#125;let john = Person(firstName: \"Johnny\", lastName: \"Appleseed\") ç»“æ„ä½“æ˜¯ä¸å¯å˜çš„å€¼ç±»å‹ï¼Œç±»æ˜¯å¯å˜çš„åº”ç”¨ç±»å‹ã€‚ç±»é€šå¸¸ç”¨æ¥ä»£è¡¨å¯¹è±¡ï¼Œç»“æ„ä½“ç”¨æ¥ä»£è¡¨å€¼ 1234567891011121314151617181920212223struct Grade &#123; let letter: String let points: Double let credits: Double&#125;class Student &#123; var firstName: String var lastName: String var grades: [Grade] = [] init(firstName: String, lastName: String) &#123; self.firstName = firstName self.lastName = lastName &#125; func recordGrade(grade: Grade) &#123; grades.append(grade) &#125;&#125;let jane = Student(firstName: â€œJaneâ€, lastName: â€œAppleseedâ€)let history = Grade(letter: â€œBâ€, points: 9.0, credits: 3.0)let math = Grade(letter: â€œAâ€, points: 16.0, credits: 4.0)jane.recordGrade(history)jane.recordGrade(math) è®¿é—®æ§åˆ¶ public : å¯ä»¥è®¿é—®å½“å‰æ¨¡å—åŠå…¶ä»–æ¨¡å—ä¸­çš„ä»»ä½•å®ä½“ï¼ˆé€šå¸¸ç”¨äºFrameworkï¼‰ã€‚ internal: å¯ä»¥è®¿é—®å½“å‰æ¨¡å—ä¸­çš„å…¶ä»–ä»»ä½•å®ä½“ï¼Œä½†æ˜¯åœ¨æ¨¡å—å¤–æ— æ³•è®¿é—®ï¼Œè¿™æ˜¯æ‰€æœ‰å®ä½“çš„é»˜è®¤è®¿é—®çº§åˆ«ï¼ˆé€šå¸¸åœ¨ä¸€ä¸ªå•ç›®æ ‡Applicationä¸­ä¸éœ€è¦è‡ªè¡Œè®¾ç½®è®¿é—®çº§åˆ«ï¼‰ã€‚ private: åªèƒ½è®¿é—®å½“å‰æºæ–‡ä»¶ä¸­çš„å®ä½“ï¼ˆæ³¨æ„, Swiftä¸­çš„privateå’Œå…¶ä»–è¯­è¨€ä¸å¤ªä¸€æ ·ï¼Œå®ƒæ˜¯åŸºäºæºæ–‡ä»¶çš„ï¼Œä½œç”¨èŒƒå›´æ˜¯æ•´ä¸ªæºæ–‡ä»¶ï¼Œå¦‚æœä¸€ä¸ªæºæ–‡ä»¶ä¸­æœ‰ä¸¤ä¸ªç±»ï¼Œé‚£ä¹ˆä¸€ä¸ªç±»å¯ä»¥è®¿é—®å¦å¤–ä¸€ä¸ªç±»çš„ç§æœ‰æˆå‘˜ï¼‰ ç±»æˆå‘˜çš„è®¿é—®çº§åˆ«ä¸èƒ½é«˜äºç±»çš„è®¿é—®çº§åˆ« (æ³¨æ„, åµŒå¥—ç±»å‹çš„è®¿é—®çº§åˆ«ä¹Ÿç¬¦åˆæ­¤æ¡è§„åˆ™) ç»§æ‰¿1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889class Person &#123; var firstName: String var lastName: String init(firstName: String, lastName: String) &#123; self.firstName = firstName self.lastName = lastName &#125; //ææ„ deinit &#123; print(\"\\(firstName) \\(lastName) is being removed from memory!\") &#125;&#125;class Student: Person &#123; //weak è¡¨ç¤ºå¼±å¼•ç”¨ï¼Œå¯é¿å…å¾ªç¯å¼•ç”¨ã€‚è‹¥æ—  weak ä¿®é¥°ï¼Œéƒ½ä¸ºå¼ºå¼•ç”¨ã€‚ weak var partner: Student? var grades: [Grade] = [] func recordGrade(grade: Grade) &#123; grades.append(grade) &#125; //required è¦æ±‚å…¶å­ç±»ä¸ä»…å¿…é¡»è¦å®ç°æ­¤æ„é€ æ–¹æ³•ï¼Œè€Œä¸”å½“å…¶å­ç±»è°ƒç”¨super.initæ—¶ï¼Œå¿…é¡»è¦ç”¨æ­¤æ„é€ æ–¹æ³• override required init(firstName: String, lastName: String) &#123; grades = [] super.init(firstName: firstName, lastName: lastName) &#125; convenience init(transfer: Student) &#123; //ä½¿ç”¨ convenience å…³é”®å­—è¿›è¡Œä¿®é¥°çš„æ„é€ æ–¹æ³•å¿…é¡»è¦è°ƒç”¨ æœ¬ç±» çš„æ„é€ æ–¹æ³•è¿›è¡Œåˆå§‹åŒ– self.init(firstName: transfer.firstName, lastName: transfer.lastName) &#125;&#125;class StudentAthlete: Student &#123; var failedClasses: [Grade] = [] // å¿…é¡»è¦å®ç°ï¼Œå› ä¸ºå…¶çˆ¶ç±»çš„ requiredï¼Œå¦åˆ™ç¼–è¯‘å™¨æŠ¥é”™ override required init(firstName: String, lastName: String) &#123; self.sports = [] super.init(firstName: firstName, lastName: lastName) &#125; init(firstName: String, lastName: String, sports: [String]) &#123; self.sports = sports let passGrade = Grade(letter: \"P\", points: 0.0, credits: 0.0) //å¿…é¡»åœ¨åˆå§‹åŒ–æ‰€æœ‰å±æ€§åè°ƒç”¨super.init super.init(firstName: firstName, lastName: lastName) recordGrade(passGrade) &#125; //é‡å†™ override func recordGrade(grade: Grade) &#123; var newFailedClasses: [Grade] = [] for grade in grades &#123; if grade.letter == \"F\" &#123; newFailedClasses.append(grade) &#125; &#125; failedClasses = newFailedClasses super.recordGrade(grade) &#125; func athleteIsEligible() -&gt; Bool &#123; return failedClasses.count &lt; 3 &#125;&#125;//final é˜»æ­¢ç»§æ‰¿æˆ–é‡å†™final class Student: Person &#123; //...&#125;// Build error!class StudentAthlete: Student &#123; //...&#125;class Student: Person &#123; final func recordGrade(grade: Grade) &#123; //... &#125; &#125;class StudentAthlete: Student &#123; // Build error! override func recordGrade(grade: Grade) &#123; //... &#125; &#125; Swiftä¸­çš„æ„é€ æ–¹æ³•åˆ†ä¸ºdesignatedæ„é€ æ–¹æ³•ä¸convenienceæ„é€ æ–¹æ³•ä¸¤ç±» designatedæ„é€ æ–¹æ³•ä¹Ÿè¢«ç§°ä¸ºæŒ‡å®šæ„é€ æ–¹æ³•ï¼Œconvenienceæ„é€ æ–¹æ³•ä¹Ÿè¢«ç§°ä¸ºæ–¹ä¾¿æ„é€ æ–¹æ³•ã€‚ designatedæ„é€ æ–¹æ³•ä¸åŠ ä»»ä½•ä¿®é¥°å…³é”®å­—ï¼Œconvenienceæ„é€ æ–¹æ³•éœ€è¦ä½¿ç”¨convenienceå…³é”®å­—è¿›è¡Œä¿®é¥°ã€‚ å­ç±»designatedæ„é€ æ–¹æ³•ä¸­å¿…é¡»è°ƒç”¨çˆ¶ç±»çš„designatedæ„é€ æ–¹æ³•ã€‚ convenienceæ„é€ æ–¹æ³•ä¸­å¿…é¡»è°ƒç”¨å½“å‰ç±»çš„æ„é€ æ–¹æ³•ã€‚ convenienceæ„é€ æ–¹æ³•å½’æ ¹ç»“åº•è¦è°ƒç”¨åˆ°designatedæ„é€ æ–¹æ³•ã€‚ æšä¸¾åˆ›å»º1234567891011121314151617181920212223242526272829303132333435enum Month &#123; case January case February case March case April case May case June case July case August case September case October case November case December&#125;//ç­‰ä»·äºenum Month &#123; case January, February, March, April, May, June, July, August, September, October, November, December&#125;//æ—¢ç„¶ç¼–è¯‘å™¨å·²çŸ¥æ™“ç±»å‹ï¼Œå¯çœæ‰ç±»å‹func schoolSemester(month: Month) -&gt; String &#123; switch month &#123; case .August, .September, .October, .November, .December: return \"Autumn\" case .January, .February, .March, .April, .May: return \"Spring\" default: return \"Not in the school year\" &#125;&#125;var month = Month.Aprilmonth = .SeptemberschoolSemester(month) // \"Autumn\" Raw values123456789101112131415161718192021222324252627282930313233enum Month: Int &#123; case January = 1, February = 2, March = 3, April = 4, May = 5, June = 6, July = 7, August = 8, September = 9, October = 10, November = 11, December = 12&#125;//ç­‰ä»·äºenum Month: Int &#123; case January = 1, February, March, April, May, June, July, August, September, October, November, December&#125;//è®¿é—® raw valuefunc monthsUntilWinterBreak(month: Month) -&gt; Int &#123; return Month.December.rawValue - month.rawValue&#125;monthsUntilWinterBreak(.April) // 8//ç”¨ raw value åˆå§‹åŒ–//Month(rawValue: 5) è¿”å› Option ç±»å‹ï¼Œéœ€è¦è§£åŒ…if let fifthMonth = Month(rawValue: 5) &#123; monthsUntilWinterBreak(fifthMonth) // 7&#125;//éé€’å¢çš„æšä¸¾enum Coin: Int &#123; case Penny = 1 case Nickel = 5 case Dime = 10 case Quarter = 25&#125;let coin = Coin.Quartercoin.rawValue // 25 Associated values æ¯ä¸ªæšä¸¾ case å¯ä»¥æœ‰0ä¸ªæˆ–å¤šä¸ªå…³è”å€¼ï¼ˆAssociated valuesï¼‰ æ¯ä¸ªæšä¸¾ caseçš„å…³è”å€¼éƒ½å¯ä»¥æœ‰è‡ªå·±çš„æ•°æ®ç±»å‹ å¯ä»¥åƒå‘½åå‡½æ•°å‚æ•°é‚£æ ·å‘½åå…³è”å€¼ ä¸€ä¸ªæšä¸¾ä¸èƒ½åŒæ—¶æœ‰ Raw values æˆ– Associated values 12345678910111213141516171819202122232425262728293031323334var balance = 100enum WithdrawalResult &#123; case Success(Int) case Error(String)&#125;func withdraw(amount: Int) -&gt; WithdrawalResult &#123; if amount &lt;= balance &#123; balance -= amount return .Success(balance) &#125; else &#123; return .Error(\"Not enough money!\") &#125;&#125;let result = withdraw(99)switch result &#123;case let .Success(newBalance): print(\"Your new balance is: \\(newBalance)\")case let .Error(message): print(message)&#125;enum HTTPMethod &#123; case GET case POST(String)&#125;//æšä¸¾å¯ä»¥ç”¨ä½œçŠ¶æ€æœº(state machine)enum TrafficLight &#123; case Red, Yellow, Green&#125;let trafficLight = TrafficLight.Red OptionalsOptionals å°±æ˜¯æšä¸¾ç±»å‹ 123456789101112131415//ä¸ç”¨ `ï¼Ÿ` å£°æ˜ Optional ç±»å‹let email: Optional&lt;String&gt; = .None //.None è¡¨ç¤ºä¸ºæ²¡æœ‰å€¼ nillet website: Optional&lt;String&gt; = .Some(\"docoder.com\") //.Some è¡¨ç¤ºæœ‰å€¼ï¼Œä¸ºå…³è”å€¼(Associated values)switch website &#123;case .None: print(\"No value\")case let .Some(value): print(\"Got a value: \\(value)\")&#125;//&gt; Got a value: docoder.comlet optionalNil: Optional&lt;Int&gt; = .NoneoptionalNil == nil // trueoptionalNil == .None // true å±æ€§ (Properties)å­˜å‚¨å±æ€§123456789enum Type &#123; case Work, Family, Friend&#125;struct Contact &#123; var fullName: String let emailAddress: String var type: Type = .Friend //é»˜è®¤å€¼ä¸º .Friend&#125;//è™½ç„¶æœ‰é»˜è®¤å€¼ï¼Œä½†é»˜è®¤è‡ªåŠ¨ç”Ÿæˆçš„æ„é€ æ–¹æ³•ä¾ç„¶è¦å¯¹æ¯ä¸ªå±æ€§èµ‹å€¼ï¼Œé™¤éè‡ªå®šä¹‰æ„é€ æ–¹æ³•ã€‚ è®¡ç®—å±æ€§12345678910111213141516171819struct TV &#123; var height: Double var width: Double // è®¡ç®—å±æ€§ var diagonal: Int &#123; let aSquared = pow(height, 2) let bSquared = pow(width, 2) let cSquared = aSquared + bSquared let c = sqrt(cSquared) let rounded = round(c) return Int(rounded) &#125; &#125;var tv = TV(height: 53.93, width: 95.87)let size = tv.diagonal // 110tv.width = 53.93let diagonal = tv.diagonal // 76 Getter and setter123456789101112131415161718192021struct TV &#123; var height: Double var width: Double var diagonal: Int &#123; get &#123; return Int(round(sqrt(height * height + width * width))) &#125; set &#123; let ratioWidth: Double = 16 let ratioHeight: Double = 9 //newValue å…³é”®å­— ä¸º set æ–¹æ³•ä¼ è¿›çš„å€¼ height = Double(newValue) * ratioHeight / sqrt(ratioWidth * ratioWidth + ratioHeight * ratioHeight) width = height * ratioWidth / ratioHeight &#125; &#125;&#125;tv.diagonal = 70let height = tv.height // 34.32...let width = tv.width // 61.01... Type properties (é™æ€å±æ€§)ç”¨ static ä¿®é¥°çš„å±æ€§ä¸º Type propertiesï¼Œç±»å‹æœ¬èº«çš„å±æ€§ï¼Œå¯ä»¥è·¨æ‰€æœ‰å®ä¾‹ã€‚ 1234567891011struct Level &#123; static var highestLevel = 1 let id: Int var boss: String var unlocked: Bool&#125;// Error: you can't access a type property on an instancelet highestLevel = level3.highestLevel //ä¸èƒ½ç”¨å®ä¾‹è®¿é—®// å¿…é¡»ç”¨ç±»å‹åè®¿é—®let highestLevel = Level.highestLevel // 1 å•ä¾‹å£°æ˜å•ä¾‹è¦ç”¨å¼•ç”¨ç±»å‹çš„ class ,è€Œä¸èƒ½ç”¨å€¼ç±»å‹çš„ struct ,å¦åˆ™ä¸èƒ½ä¿®æ”¹å…¶å±æ€§ 12345678class GameManager &#123; // ç”¨ let ä¿®é¥°çš„ Type properties (static) å¸¸é‡ æ¥å­˜å‚¨ è¿™ä¸ªå•ä¸€å®ä¾‹ static let defaultManager = GameManager() var gameScore = 0 var saveState = 0 // private ä¿®é¥°æ„é€ æ–¹æ³•ï¼Œä½¿ä¹‹ä¸èƒ½è®¿é—®ï¼Œä¸èƒ½å†æ„é€ å…¶ä»–å®ä¾‹ private init() &#123;&#125;&#125; Property observers12345678910111213141516171819202122232425262728293031323334struct Level &#123; static var highestLevel = 1 let id: Int var boss: String var unlocked: Bool &#123; //didSetï¼Œå±æ€§è®¾å€¼åè°ƒç”¨ didSet &#123; if unlocked &amp;&amp; id &gt; Level.highestLevel &#123; Level.highestLevel = id &#125; &#125; &#125;&#125;class LightBulb &#123; static let maxCurrent = 40 var currentCurrent = 0 &#123; //ç”¨ didSet é™åˆ¶å±æ€§çš„å–å€¼ didSet &#123; if currentCurrent &gt; LightBulb.maxCurrent &#123; print(\"Current too high, falling back to previous setting.\") //oldValue å…³é”®å­— ä¸º didSet æä¾›çš„ï¼Œå¯ä»¥è®¿é—®è®¾å€¼ä¹‹å‰çš„å€¼ currentCurrent = oldValue &#125; &#125; &#125;&#125;var light = LightBulb()light.currentCurrent = 50var current = light.currentCurrent // 0light.currentCurrent = 40current = light.currentCurrent // 40 æ‡’åŠ è½½ï¼ˆLazy propertiesï¼‰123456789101112131415161718192021class Circle &#123; //lazy çš„ä¿®é¥°ï¼Œä½¿ pi è¿™ä¸ªç«‹å³æ‰§è¡Œçš„ closure æ²¡æœ‰è¿›è¡Œå®é™…è®¡ç®—ï¼Œç›´åˆ°ç¬¬ä¸€æ¬¡è¢«è®¿é—®æ—¶æ‰å¯¹å…¶è®¡ç®—ã€‚ //lazy å±æ€§å¿…é¡»ä¸ºå˜é‡ï¼Œå³ï¼Œç”¨ var ä¿®é¥°ï¼Œè€Œä¸èƒ½ç”¨ let ä¿®é¥° lazy var pi = &#123; return ((4.0 * atan(1.0 / 5.0)) - atan(1.0 / 239.0)) * 4.0 &#125;() //closure åé¢æœ‰`()`,è¡¨ç¤ºç«‹å³æ‰§è¡Œ var radius: Double = 0 var circumference: Double &#123; return pi * radius * 2 &#125; init (radius: Double) &#123; self.radius = radius &#125;&#125;let circle = Circle(radius: 5) // å®ä¾‹åŒ–ä¸€ä¸ª Circle, æ­¤æ—¶ pi è¿˜æ²¡æ‰§è¡Œ// pi ç°åœ¨æœ‰å€¼äº†let circumference = circle.circumference // 31.42 æ–¹æ³•(Methods)Function è½¬ä¸º Method123456789101112131415161718192021enum Month: Int &#123; case January = 1, February, March, April, May, June, July, August, September, October, November, December&#125;func monthsUntilWinterBreak(month: Month) -&gt; Int &#123; return Month.December.rawValue - month.rawValue&#125;//è½¬æ¢ä¸ºï¼šenum Month: Int &#123; case January = 1, February, March, April, May, June, July, August, September, October, November, December //æšä¸¾ä¸­çš„Methodï¼Œæ¯”ä¹‹å‰çš„ function æ›´åˆç† func monthsUntilWinterBreak() -&gt; Int &#123; return Month.December.rawValue - self.rawValue &#125;&#125;let month = Month.Octoberlet monthsLeft = month.monthsUntilWinterBreak() // 2 æ„é€ æ–¹æ³•(Initializers)1234567891011121314151617181920212223242526272829303132333435enum Month: Int &#123; case January = 1, February, March, April, May, June, July, August, September, October, November, December //æ„é€ æ–¹æ³•ä¸éœ€è¦ func å…³é”®å­—å’Œå‘½å init() &#123; self = .January &#125; func monthsUntilWinterBreak() -&gt; Int &#123; return Month.December.rawValue - self.rawValue &#125;&#125;let month = Month() // Januarylet monthsLeft = month.monthsUntilWinterBreak() // 11struct Date &#123; var month: Month var day: Int //è‡ªå®šä¹‰æ„é€ æ–¹æ³•åï¼Œé»˜è®¤æ„é€ æ–¹æ³•å°†æ— æ•ˆ init() &#123; month = .January day = 1 &#125; //å¦‚æœä¸é‡è½½æ­¤æ„é€ æ–¹æ³•ï¼Œå°†ä¸èƒ½è°ƒç”¨ Date(month: , day: ) init(month: Month, day: Int) &#123; self.month = month self.day = day &#125;&#125;let date = Date(month: .February, day: 14)let dateMonth = date.month // Februarylet dateDay = date.day // 14 Mutating methodsç»“æ„ä½“æœ‰ä¸ªé™åˆ¶ï¼ˆå› ä¸ºç»“æ„ä½“ä¸ºå€¼ç±»å‹ï¼‰ï¼Œå…¶æˆå‘˜æ–¹æ³• method ä¸èƒ½æ”¹å˜å…¶æˆå‘˜å±æ€§ï¼Œé™¤éç”¨ mutating ä¿®é¥°æ­¤ method 123456789struct Date &#123; var month: Month var day: Int //ç”¨ mutating ä¿®é¥°ï¼Œæ­¤æ–¹æ³•æ‰èƒ½ä¿®æ”¹å±æ€§ mutating func advance() &#123; day += 1 &#125;&#125; Type methods (é™æ€æ–¹æ³•)1234567struct Utils &#123; static func factorial(number: Int) -&gt; Int &#123; return (1...number).reduce(1, combine: *) &#125;&#125;let factorial = Utils.factorial(6) // 720 åè®® (Protocols)å®šä¹‰åè®®1234567891011121314151617181920212223enum Direction &#123; case Left case Right &#125;protocol Vehicle &#123; //åè®®ä¸­ä¸èƒ½è®¾ç½®ä»»ä½• å¦‚ private, internal æˆ– public çš„è®¿é—®æ§åˆ¶ //å¯ä»¥å®šä¹‰å±æ€§ï¼Œä½†å¿…é¡»è¦æ ‡æ˜ get, setï¼Œè·Ÿè®¡ç®—å±æ€§ç±»ä¼¼ï¼Œä½†ä¸èƒ½æœ‰ä»»ä½•å®ç° var weight: Int &#123; get &#125; var name: String &#123; get set &#125; func accelerate() func stop() //åè®®ä¸­ä¸èƒ½æœ‰å¯¹äºæ–¹æ³•çš„ä»»ä½•å®ç°ä»£ç  //æ•…ï¼Œä¸èƒ½å†™æˆ func turn(direction: Direction = .Left) func turn(direction: Direction) //å¦‚æœè¦å®ç°å¯é€‰å‚æ•°ï¼Œåˆ™éœ€è¦å†™é‡è½½çš„æ–¹æ³•ï¼Œå¦‚ä¸‹ï¼š func turn() func description() -&gt; String&#125; åè®®ç»§æ‰¿123456789protocol Vehicle &#123; func accelerate() func stop()&#125;//åè®® WheeledVehicle ç»§æ‰¿äº†åè®® Vehicleprotocol WheeledVehicle: Vehicle &#123; var numberOfWheels: Int &#123; get &#125; var wheelSize: Double &#123; get set &#125;&#125; å®ç°åè®®åè®®å¯ä»¥è¢« ç±» , ç»“æ„ä½“ , æšä¸¾ æ¥å®ç° 12345678910111213141516171819202122232425262728293031323334protocol Wheeled &#123; var numberOfWheels: Int &#123; get &#125;&#125;//ç±»class ClassyBike: Wheeled &#123; let numberOfWheels = 2&#125;//ç»“æ„ä½“struct StructyBike: Wheeled &#123; let numberOfWheels = 2&#125;//æšä¸¾enum EnummyBike: Wheeled &#123; case Mountain case Road case Tricycle var numberOfWheels: Int &#123; switch self &#123; case Mountain, Road: return 2 case Tricycle: return 3 &#125; &#125; &#125;// ç±»var wheels: Wheeled = ClassyBike()wheels.numberOfWheels // 2// ç»“æ„ä½“wheels = StructyBike()wheels.numberOfWheels // 2// æšä¸¾wheels = EnummyBike.Tricyclewheels.numberOfWheels // 3! å®ç°åè®®æ–¹æ³• 123456789101112131415161718192021protocol Vehicle &#123; func accelerate() func stop()&#125;//ç±» Bike å®ç°äº†åè®® Vehicleclass Bike: Vehicle &#123; var peddling: Bool = false var brakesApplied: Bool = false //å®ç°åè®®æ‰€æœ‰æ–¹æ³• func accelerate() &#123; peddling = true brakesApplied = false &#125; func stop() &#123; peddling = false brakesApplied = true &#125;&#125; å®ç°åè®®å±æ€§ 123456789101112131415161718192021222324252627282930313233343536protocol Vehicle &#123; func accelerate() func stop()&#125;protocol WheeledVehicle: Vehicle &#123; var numberOfWheels: Int &#123; get &#125; var wheelSize: Double &#123; get set &#125;&#125;//ç±» Bike å®ç°äº†åè®® WheeledVehicleclass Bike: WheeledVehicle &#123; //ç”¨ è®¡ç®—å±æ€§ å®ç°åè®®æ‰€æœ‰å±æ€§ var numberOfWheels: Int &#123; return 2 &#125; private var myWheelSize: Double = 16.0 var wheelSize: Double &#123; get &#123; return myWheelSize &#125; set &#123; myWheelSize = newValue &#125; &#125; &#125;//ç­‰ä»·äºclass Bike: WheeledVehicle &#123; //ä¸è¦æ±‚å¿…é¡»è¦ç”¨è®¡ç®—å±æ€§å®ç°åè®®å±æ€§ //æ˜¯è¦å¯¹äºåè®®ç”¨ get ä¿®é¥°çš„å±æ€§ï¼Œç»§æ‰¿åå¯ä»¥è¯»ï¼›ç›¸åº”çš„å¯¹äºåè®®ç”¨ set ä¿®é¥°çš„å±æ€§ï¼Œç»§æ‰¿åå¯ä»¥å†™ï¼Œå³å¯ã€‚ let numberOfWheels = 2 //let è¡¨æ˜ åªè¯» var wheelSize = 16.0 //var è¡¨æ˜å¯ è¯»å†™&#125; 123456789101112131415161718192021222324protocol Vehicle &#123; func accelerate() func stop()&#125;protocol WheeledVehicle: Vehicle &#123; var numberOfWheels: Int &#123; get &#125; var wheelSize: Double &#123; get set &#125;&#125;class Bike: WheeledVehicle &#123; //è™½ç„¶åè®® WheeledVehicle ä¸­è¡¨æ˜åªè¯»ï¼Œä½†æ­¤å¤„å¯ä»¥ç”¨ var //ç”¨ var è¡¨æ˜å¯¹äºç±» Bike å¯è¯»å†™ var numberOfWheels = 2 var wheelSize = 16.0&#125;var bike: Bike = Bike()//å¯ä»¥è¯»å†™bike.numberOfWheels = 16 // 16-wheeler!var wheeledBike: WheeledVehicle = bike// æ­¤æ—¶ä¸èƒ½ç»™ wheeledBike çš„ numberOfWheels èµ‹å€¼ï¼Œå› ä¸ºåè®® WheeledVehicle ä¸­ numberOfWheels ä¸º åªè¯» Typealias1234567891011121314151617181920212223242526protocol WeightCalculatable &#123; //typealias ç±»å‹åˆ«åï¼Œå®ƒå…è®¸å®ç°æ­¤åè®®çš„ç±»ï¼ˆç»“æ„ä½“æˆ–æšä¸¾ï¼‰, å¯ä»¥ä»»æ„æŒ‡å®šå…¶å®é™…ç±»å‹ //typealias ä¹ŸåŒæ—¶ä½¿åè®® WeightCalculatable ä¸èƒ½ç”¨äºå£°æ˜å˜é‡ (å› ä¸ºç¼–è¯‘å™¨ä¸çŸ¥æ™“ WeightType çš„å®é™…ç±»å‹), ä»…èƒ½ç”¨äºgeneric constraints(æ³›å‹çº¦æŸ) typealias WeightType func calculateWeight() -&gt; WeightType&#125;class HeavyThing: WeightCalculatable &#123; // HeavyThing æŒ‡å®š WeightType ä¸º Int ç±»å‹ typealias WeightType = Int func calculateWeight() -&gt; Int &#123; return 100 &#125;&#125;class LightThing: WeightCalculatable &#123; // LightThing æŒ‡å®š WeightType ä¸º Double ç±»å‹ typealias WeightType = Double func calculateWeight() -&gt; Double &#123; return 0.0025 &#125;&#125;// åè®® WeightCalculatable ä¸èƒ½ç”¨äºå£°æ˜å˜é‡ï¼Œä»…èƒ½ç”¨äºgeneric constraints(æ³›å‹çº¦æŸ)let b: WeightCalculatable = LightThing() // Build error! Extensions12345678910111213141516171819202122232425262728293031protocol WhatType &#123; var typeName: String &#123; get &#125;&#125;//ç”¨ extension æ‰©å±•ç±»å‹çš„åè®®ï¼ŒåŒ…æ‹¬åŸå§‹ç±»å‹ä¹Ÿå¯ä»¥æ‰©å±•å…¶åè®®//æ­¤ç‰¹å¾å¯ä»¥å…è®¸ä½ ç»™ä½ å®é™…æ— æ³•æ‹¥æœ‰å’Œæ“ä½œçš„ç±»æ·»åŠ åè®®ï¼Œæ‰©å±•åŠŸèƒ½extension String: WhatType &#123; var typeName: String &#123; return \"I'm a String\" &#125;&#125;let myType: String = \"Swift Apprentice!\"myType.typeName // I'm a Stringclass Bike &#123; &#125;//ç”¨ extension å¯ä»¥æ–¹ä¾¿çš„æ·»åŠ ç±»ï¼ˆç»“æ„ä½“æˆ–æšä¸¾ï¼‰çš„åè®®ï¼Œå¢åŠ å…¶åŠŸèƒ½ï¼›ä¹Ÿå¯ä»¥æ–¹ä¾¿çš„åˆ é™¤å…¶åè®®å’ŒåŠŸèƒ½(åªéœ€æŠŠæ•´ä¸ª extension åˆ é™¤å³å¯)extension Bike: Wheeled &#123; //ä½† æ­¤ç‰¹å¾ ä¸èƒ½å¢åŠ  å­˜å‚¨å±æ€§(stored properties)ï¼Œåªèƒ½å¢åŠ è®¡ç®—å±æ€§(computed properties) var numberOfWheels: Int &#123; return 2 &#125;&#125;extension Bike: Vehicle &#123; func accelerate() &#123; // Accelerate &#125; func stop() &#123; // Stop &#125; &#125; æ“ä½œç¬¦Extensions (Equatableå’ŒComparableåè®®)123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657struct Record &#123; var wins: Int var losses: Int&#125;/*swift æ ‡å‡†åº“ä¸­ Equatable çš„å®šä¹‰protocol Equatable &#123; func ==(lhs: Self, rhs: Self) -&gt; Bool&#125;*/extension Record: Equatable &#123;&#125;//ä»…éœ€å®ç° == ( != ä¼šè‡ªåŠ¨ç”Ÿæˆ)func ==(lhs: Record, rhs: Record) -&gt; Bool &#123; return lhs.wins == rhs.wins &amp;&amp; lhs.losses == rhs.losses&#125;let recordA = Record(wins: 10, losses: 5)let recordB = Record(wins: 10, losses: 5)recordA == recordB // True/*swift æ ‡å‡†åº“ä¸­ Comparable çš„å®šä¹‰protocol Comparable : Equatable &#123; func &lt;(lhs: Self, rhs: Self) -&gt; Bool func &lt;=(lhs: Self, rhs: Self) -&gt; Bool func &gt;=(lhs: Self, rhs: Self) -&gt; Bool func &gt;(lhs: Self, rhs: Self) -&gt; Bool&#125;*/extension Record: Comparable &#123;&#125;//ä»…éœ€å®ç° &lt; ( &gt;,&lt;=,&gt;= ä¼šè‡ªåŠ¨ç”Ÿæˆ)func &lt;(lhs: Record, rhs: Record) -&gt; Bool &#123; let lhsPercent = Double(lhs.wins) / (Double(lhs.wins) + Double(lhs.losses)) let rhsPercent = Double(rhs.wins) / (Double(rhs.wins) + Double(rhs.losses)) return lhsPercent &lt; rhsPercent&#125;let team1 = Record(wins: 23, losses: 8)let team2 = Record(wins: 23, losses: 8)let team3 = Record(wins: 14, losses: 11)team1 &lt; team2 // falseteam1 &gt; team3 // trueteam1 &gt;= team3 // trueteam1 &lt;= team3 // falselet leagueRecords = [team1, team2, team3]//æ—¢ç„¶ Record å®ç°äº† Comparable åè®®ï¼Œè‡ªç„¶å¯ä»¥ä½¿ç”¨ swift æ ‡å‡†åº“çš„ç›¸å…³å‡½æ•°è¿›è¡Œæ’åºç­‰æ“ä½œï¼šleagueRecords.sort()// &#123;wins 14, losses 11&#125;// &#123;wins 23, losses 8&#125;// &#123;wins 23, losses 8&#125;leagueRecords.maxElement() // &#123;wins 23, losses 8&#125;leagueRecords.minElement() // &#123;wins 23, losses 8&#125;leagueRecords.startsWith([team1, team2]) // trueleagueRecords.contains(team1) // true Hashableåè®®å½“ä½ çš„è‡ªå®šä¹‰ç±»å‹è¦ç”¨äº Dictionary çš„ key æˆ– Set ä¸­çš„å…ƒç´ æ—¶ï¼Œå¿…é¡»è¦å®ç° Hashable åè®®ã€‚ 1234567891011121314151617181920212223242526272829303132333435/*swift æ ‡å‡†åº“ä¸­ Hashable çš„å®šä¹‰protocol Hashable : Equatable &#123; var hashValue: Int &#123; get &#125;&#125;*/class Student &#123; var studentId: Int var firstName: String var lastName: String init(studentId: Int, firstName: String, lastName: String) &#123; self.studentId = studentId self.firstName = firstName self.lastName = lastName &#125;&#125;//å› ä¸º Hashable åè®®ç»§æ‰¿è‡ª Equatable åè®®ï¼Œæ•…ï¼ŒStudent éœ€è¦å®ç° Equatable åè®®extension Student: Equatable &#123;&#125;func ==(lhs: Student, rhs: Student) -&gt; Bool &#123; return lhs.studentId == rhs.studentId&#125;extension Student: Hashable &#123; //è¿”å›æ•´æ•°å“ˆå¸Œå€¼ï¼Œç”¨äºåŒºåˆ†ä¸åŒ Student å®ä¾‹ var hashValue: Int &#123; return studentId &#125;&#125;let john = Student(studentId:1, firstName: \"Johnny\", lastName: \"Appleseed\")// Dictionarylet lockerMap: [Student: String] = [john: \"14B\"]// Setlet classRoster: Set&lt;Student&gt; = [john, john, john, john]classRoster.count // 1 BooleanType åè®®å®ç°äº† BooleanType åè®®çš„è‡ªå®šä¹‰ç±»å‹å¯ä»¥åœ¨åˆ¤æ–­æ¡ä»¶ä¸­ä½¿ç”¨ å› ä¸º Swift ä¸­å‡ ä¹æ‰€æœ‰æ ¸å¿ƒç±»å‹éƒ½æ˜¯ç”¨ç»“æ„ä½“å®ç°çš„ï¼ŒåŒ…æ‹¬ Bool ç±»å‹ï¼ŒBool ç»“æ„ä½“ä¹Ÿå®ç°äº† BooleanType åè®® 12345678910111213141516171819202122/*swift æ ‡å‡†åº“ä¸­ Hashable çš„å®šä¹‰protocol BooleanType &#123; var boolValue: Bool &#123; get &#125;&#125;*/struct Record &#123; var wins: Int var losses: Int&#125;extension Record: BooleanType &#123; var boolValue: Bool &#123; return wins &gt; losses &#125;&#125;if Record(wins: 10, losses: 5) &#123; print(\"winning!\")&#125; else &#123; print(\"losing :(\")&#125; CustomStringConvertibleCustomStringConvertible åè®® ç”¨äº debug è‡ªå®šä¹‰ç±»å‹æ—¶æ‰“å° log 12345678910111213141516171819202122232425/*swift æ ‡å‡†åº“ä¸­ Hashable çš„å®šä¹‰protocol CustomStringConvertible &#123; var description: String &#123; get &#125;&#125;*/struct Record &#123; var wins: Int var losses: Int&#125;//é»˜è®¤let record = Record(wins: 23, losses: 8)print(record)// Record(wins: 23, losses: 8)//è‡ªå®šä¹‰extension Record: CustomStringConvertible &#123; var description: String &#123; return \"\\(wins) - \\(losses)\" &#125;&#125;print(record)// 23 - 8 é¢å‘åè®®ç¼–ç¨‹ ( Protocol-Oriented Programming )æ‰©å±•åè®® (protocol extensions)12345678910111213141516171819202122232425protocol TeamRecord &#123; var wins: Int &#123; get &#125; var losses: Int &#123; get &#125; func winningPercentage() -&gt; Double&#125;//å¯¹åè®®è¿›è¡Œæ‰©å±• (extension)//ä¸åè®®ä¸åŒï¼Œåè®®çš„æ‰©å±•ï¼Œå¯ä»¥æœ‰å®ç°extension TeamRecord &#123; //è®¡ç®—å±æ€§ gamePlayed åŠå…¶å®ç° var gamesPlayed: Int &#123; return wins + losses &#125;&#125;//å®ç° TeamRecord åè®®struct BaseballRecord: TeamRecord &#123; var wins: Int var losses: Int func winningPercentage() -&gt; Double &#123; return Double(wins) / (Double(wins) + Double(losses)) &#125;&#125;let sanFranciscoSwifts = BaseballRecord(wins: 10, losses: 5)//BaseballRecord å¹¶ä¸ç”¨å®ç° gamesPlayed æ–¹æ³•ï¼Œè€Œå¯ä»¥ç›´æ¥ä½¿ç”¨sanFranciscoSwifts.gamesPlayed // 15 åè®®ä¸­æ–¹æ³•çš„é»˜è®¤å®ç° (Default implementations)1234567891011121314151617181920212223242526272829303132333435363738protocol TeamRecord &#123; var wins: Int &#123; get &#125; var losses: Int &#123; get &#125; func winningPercentage() -&gt; Double&#125;//ç”¨ extension é»˜è®¤å®ç° winningPercentage//è¦å®ç° TeamRecord æ¥å£ï¼Œä¾¿å¯ä»¥ä¸ç”¨å®ç° winningPercentage æ–¹æ³•ã€‚extension TeamRecord &#123; func winningPercentage() -&gt; Double &#123; return Double(wins) / (Double(wins) + Double(losses)) &#125;&#125;struct BaseballRecord: TeamRecord &#123; var wins: Int var losses: Int let seasonLength = 162&#125;struct BasketballRecord: TeamRecord &#123; var wins: Int var losses: Int let seasonLength = 82&#125;struct HockeyRecord: TeamRecord &#123; var wins: Int var losses: Int var ties: Int // HockeyRecord å¼•å…¥ ties, äºæ˜¯å®ƒå¯ä»¥æœ‰å¯¹ winningPercentage æ–¹æ³• è‡ªå·±çš„å®ç° func winningPercentage() -&gt; Double &#123; return Double(wins) / (Double(wins) + Double(losses) + Double(ties)) &#125;&#125;let baseballRecord: TeamRecord = BaseballRecord(wins: 10, losses: 6)let hockeyRecord: TeamRecord = HockeyRecord(wins: 8, losses: 7, ties: 1)baseballRecord.winningPercentage() // 10/(10+6) == .625hockeyRecord.winningPercentage() // 8/(8+7+1) == .500 æ‰©å±•åè®®çš„åˆ†æ´¾(dispatching) åè®® (protocol) å®šä¹‰äº†ï¼Œæ‰©å±• (extension) ä¸­ä¹Ÿå®šä¹‰é‡å†™äº†çš„æ–¹æ³•æˆ–å±æ€§ï¼Œæ— è®ºä»¥åè®®å£°æ˜è¿˜æ˜¯ä»¥å®ç°ç±»å‹å£°æ˜ï¼Œè‹¥å®ç°ç±»å‹å®ç°äº†ï¼Œåˆ™æ€»æ˜¯è°ƒç”¨å®ç°ç±»å‹ä¸­çš„æ–¹æ³•æˆ–å±æ€§ï¼Œå¦åˆ™è°ƒç”¨æ‰©å±•ï¼Œå‚è€ƒ åè®®ä¸­æ–¹æ³•çš„é»˜è®¤å®ç°ã€‚ åè®® (protocol) æœªå®šä¹‰äº†ï¼Œæ‰©å±• (extension) ä¸­å®šä¹‰å®ç°çš„æ–¹æ³•æˆ–å±æ€§ï¼Œåˆ™ä¾èµ–å£°æ˜çš„æ˜¯åè®®è¿˜æ˜¯å®ç°ç±»å‹ï¼Œè‹¥ä»¥åè®®å£°æ˜åˆ™è°ƒç”¨åè®®ä¸­çš„æ–¹æ³•æˆ–å±æ€§ï¼Œè‹¥ä»¥å®ç°ç±»å‹å£°æ˜åˆ™è°ƒç”¨å®ç°ç±»ä¸­çš„æ–¹æ³•æˆ–å±æ€§ (å‡å¦‚å®ç°ç±»å‹å®ç°äº†æ­¤æ–¹æ³•æˆ–å±æ€§)ï¼Œå¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627protocol TeamRecord &#123; var wins: Int &#123; get &#125; var losses: Int &#123; get &#125; func winningPercentage() -&gt; Double&#125;extension TeamRecord &#123; var gamesPlayed: Int &#123; return wins + losses &#125;&#125;struct BaseballRecord: TeamRecord &#123; var wins: Int var losses: Int let gamesPlayed: Int = 162 func winningPercentage() -&gt; Double &#123; return Double(wins) / (Double(wins) + Double(losses)) &#125;&#125;// ä»¥ TeamRecord åè®®å®šä¹‰let team1: TeamRecord = BaseballRecord(wins: 10, losses: 5)// ä»¥ BaseballRecord ç±» å®šä¹‰let team2: BaseballRecord = BaseballRecord(wins: 10, losses: 5)// è°ƒç”¨çš„æ˜¯ TeamRecord extension é‡Œçš„gamesPlayedteam1.gamesPlayed // 15// è°ƒç”¨çš„æ˜¯ BaseballRecord é‡Œçš„gamesPlayedteam2.gamesPlayed // 162!! é™åˆ¶ç±»å‹çš„åè®®æ‰©å±• (Type constraints)12345678910111213141516171819202122protocol TeamRecord &#123; var wins: Int &#123; get &#125; var losses: Int &#123; get &#125; func winningPercentage() -&gt; Double&#125;protocol Tieable &#123; var ties: Int &#123; get &#125;&#125;//å½“å®ç°ç±»å‹æ—¢å®ç°äº† TeamRecord åˆå®ç°äº† Tieable æ‰äºˆä»¥æ‰©å±•extension TeamRecord where Self: Tieable &#123; func winningPercentage() -&gt; Double &#123; return Double(wins) / (Double(wins) + Double(losses) + Double(ties)) &#125;&#125;struct HockeyRecord: TeamRecord, Tieable &#123; var wins: Int var losses: Int var ties: Int&#125;let hockeyRecord: TeamRecord = HockeyRecord(wins: 8, losses: 7, ties: 1)hockeyRecord.winningPercentage() // 0.5 Traits, mixins and multiple inheritance123456789101112131415161718192021222324252627282930313233343536373839404142434445464748protocol TeamRecord &#123; var wins: Int &#123; get &#125; var losses: Int &#123; get &#125; func winningPercentage() -&gt; Double&#125;extension TeamRecord &#123; func winningPercentage() -&gt; Double &#123; return Double(wins) / (Double(wins) + Double(losses)) &#125;&#125;protocol TieableRecord &#123; var ties: Int &#123; get &#125;&#125;protocol DivisionalRecord &#123; var divisionalWins: Int &#123; get &#125; var divisionalLosses: Int &#123; get &#125;&#125;//Traitï¼Œå¢åŠ äº†è®¡ç®— totalPoints çš„åŠŸèƒ½protocol PointableRecord &#123; func totalPoints() -&gt; Int&#125;extension PointableRecord where Self: TieableRecord, Self: TeamRecord &#123; func totalPoints() -&gt; Int &#123; return (2 * wins) + (1 * ties) &#125;&#125;//mixins: CustomStringConvertible, Equatable struct HockeyRecord: TeamRecord, TieableRecord, DivisionalRecord, CustomStringConvertible, Equatable &#123; var wins: Int var losses: Int var ties: Int var divisionalWins: Int var divisionalLosses: Int var description: String &#123; return \"\\(wins) - \\(losses) - \\(ties)\" &#125;&#125;func ==(lhs: HockeyRecord, rhs: HockeyRecord) -&gt; Bool &#123; return lhs.wins == rhs.wins &amp;&amp; lhs.ties == rhs.ties &amp;&amp; lhs.losses == rhs.losses&#125; é«˜çº§é”™è¯¯å¤„ç†1234567891011121314151617181920212223242526272829303132333435363738//ErrorType åè®®enum RollingError: ErrorType &#123; case Doubles case OutOfFunding&#125;var hasFunding = true//throwsfunc roll(firstDice: Int, secondDice: Int) throws &#123; let error: RollingError if firstDice == secondDice &amp;&amp; hasFunding &#123; error = .Doubles hasFunding = false throw error &#125; else if firstDice == secondDice &amp;&amp; !hasFunding &#123; hasFunding = true print(\"Huzzah! You raise another round of funding!\") &#125; else if !hasFunding &#123; error = .OutOfFunding throw error&#125; else &#123; print(\"You moved \\(firstDice + secondDice) spaces\") &#125;&#125;//try catchfunc move(firstDice: Int, secondDice: Int) -&gt; String &#123; do &#123; try roll(firstDice, secondDice: secondDice) return \"Successful roll.\" &#125; catch RollingError.Doubles &#123; return \"You rolled doubles and have lost your funding\" &#125; catch RollingError.OutOfFunding &#123; return \"You need to do another round of funding.\" &#125; catch &#123; return \"Unknown error\" &#125;&#125; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102enum Direction &#123; case Left case Right case Forward&#125;enum PugBotError: ErrorType &#123; case DidNotTurnLeft(directionMoved: Direction) case DidNotTurnRight(directionMoved: Direction) case DidNotGoForward(directionMoved: Direction) case EndOfPath&#125;class PugBot &#123; let name: String let correctPath: [Direction] var currentStepInPath = 0 //å¯å¤±è´¥çš„åˆå§‹åŒ–(failable initializer) init? (name: String, correctPath: [Direction]) &#123; self.correctPath = correctPath self.name = name guard (correctPath.count &gt; 0) else &#123;return nil&#125; switch name &#123; case \"Delia\", \"Olive\", \"Frank\", \"Otis\", \"Doug\": break default: return nil &#125; &#125; func turnLeft() throws &#123; guard (currentStepInPath &lt; correctPath.count) else &#123; throw PugBotError.EndOfPath &#125; let direction = correctPath[currentStepInPath] if direction != .Left &#123; throw PugBotError.DidNotTurnLeft(directionMoved: direction) &#125; currentStepInPath += 1 &#125; func turnRight() throws &#123; guard (currentStepInPath &lt; correctPath.count) else &#123; throw PugBotError.EndOfPath &#125; let direction = correctPath[currentStepInPath] if direction != .Right &#123; throw PugBotError.DidNotTurnRight(directionMoved: direction) &#125; currentStepInPath += 1 &#125; func moveForward() throws &#123; guard (currentStepInPath &lt; correctPath.count) else &#123; throw PugBotError.EndOfPath &#125; let direction = correctPath[currentStepInPath] if direction != .Forward &#123; throw PugBotError.DidNotGoForward(directionMoved: direction) &#125; currentStepInPath += 1 &#125; func goHome() throws &#123; try moveForward() try turnLeft() try moveForward() try turnRight() &#125;&#125;func movePugBotSafely(move: () throws -&gt; ()) -&gt; String &#123; do &#123; try move() return \"Completed move successfully.\" &#125; catch PugBotError.DidNotTurnLeft(let directionMoved) &#123; return \"The PugBot was supposed to turn left, but turned \\(directionMoved) instead.\" &#125; catch PugBotError.DidNotTurnRight(let directionMoved) &#123; return \"The PugBot was supposed to turn right, but turned \\(directionMoved) instead.\" &#125; catch PugBotError.DidNotGoForward(let directionMoved) &#123; return \"The PugBot was supposed to move forward, but turned \\(directionMoved) instead.\" &#125; catch PugBotError.EndOfPath() &#123; return \"The PugBot tried to move past the end of the path.\" &#125; catch &#123; return \"An unknown error occurred\" &#125;&#125;let rightDirections: [Direction] = [.Forward, .Left, .Forward, .Right]let wrongDirections: [Direction] = [.Left, .Left, .Left, .Forward] let invalidPug = PugBot(name: \"Lassie\", correctPath: rightDirections)let myPugBot = PugBot(name: \"Delia\", correctPath: rightDirections)!let wrongPugBot = PugBot(name: \"Delia\", correctPath: wrongDirections)!movePugBotSafely &#123; try myPugBot.goHome() try myPugBot.moveForward()&#125;//&gt; The PugBot tried to move past the end of the path. æ³›å‹ (Generics)123456789101112131415161718192021222324252627282930313233343536373839404142434445struct Cat &#123; var name: String&#125;struct Dog &#123; var name: String&#125;struct Keeper&lt;T&gt; &#123; var name: String var morningAnimal: T var afternoonAnimal: T&#125;let jason = Keeper(name: \"Jason\", morningAnimal: Cat(name: \"Whiskers\"), afternoonAnimal: Cat(name: \"Sleepy\"))//Swift çš„ç±»å‹æ¨æ–­//Arraylet favoriteIntsInferred = Array(arrayLiteral: 8, 9, 42)let favoriteFloatsInferred = Array&lt;Float&gt;(arrayLiteral: 8, 9, 42)let favoriteIntsExplicit2: Array&lt;Int&gt; = [8, 9, 42]let favoriteIntsInferred2: Array = [8, 9, 42]let favoriteFloatsInferred2: Array&lt;Float&gt; = [8, 9, 42]//Dictionarylet intNames: Dictionary&lt;Int, String&gt; = [42: \"forty-two\"] let intNames2: [Int: String] = [42: \"forty-two\", 7: \"seven\"]let intNames3 = [42: \"forty-two\", 7: \"seven\"]//Optionalvar birthdate: Optional&lt;NSDate&gt; = Optional&lt;NSDate&gt;.Noneif birthdate == Optional&lt;NSDate&gt;.None &#123; // no birthdate&#125;//ç­‰ä»·äºvar birthdate: NSDate? = nilif birthdate == nil &#123; // no birthdate&#125;//æ³›å‹å‡½æ•°func swapped&lt;T, U&gt;(x: T, _ y: U) -&gt; (U, T) &#123; return (y, x)&#125;swapped(33, \"Jay\") // returns (\"Jay\", 33) å‡½æ•°å¼ç¼–ç¨‹12345678910111213141516171819202122232425262728293031323334353637import Foundation//maplet animals = [\"cat\", \"dog\", \"sheep\", \"dolphin\", \"tiger\"]func capitalize(s: String) -&gt; String &#123; return s.uppercaseString&#125;func characterForCharacterName(c: String) -&gt; Character &#123; let curlyBracedCharacterName = \"\\\\N&#123;\\(c)&#125;\" let charStr = curlyBracedCharacterName.stringByApplyingTransform( NSStringTransformToUnicodeName, reverse: true) return charStr!.characters.first!&#125;let uppercaseAnimals = animals.map(capitalize)let animalEmojis = uppercaseAnimals.map(characterForCharacterName)let uppercaseAnimals4 = animals.map(&#123; $0.uppercaseString &#125;)//filterlet threeCharacterAnimals = animals.filter() &#123; $0.characters.count == 3&#125;threeCharacterAnimals // =&gt; [\"cat\", \"dog\"]//reducefunc sum(items: [Int]) -&gt; Int &#123; return items.reduce(0, combine: +)&#125;let total = sum([1, 2, 3])total // =&gt; (((0 + 1) + 2) + 3) == 6func concatenate(items: [String]) -&gt; String &#123; return items.reduce(\"\", combine: +)&#125;let phrase = concatenate([\"Hello\",\" \",\"World\"])phrase // =&gt; (((\"\" + \"Hello\") + \" \") + \"World\") == \"Hello World\"","tags":[{"name":"swift","slug":"swift","permalink":"https://coderdotcool.github.io/tags/swift/"}]},{"title":"Gitç¬”è®°","date":"2016-05-19T07:01:27.000Z","path":"Notes/Gitç¬”è®°.html","text":"ç»å¸¸ä¼šå¿˜gitçš„ä¸€äº›å‘½ä»¤ï¼Œå°±æ•´ç†äº†æ­¤ä»½ç¬”è®°ä¾›ä»¥åæŸ¥æ‰¾æ–¹ä¾¿ï¼Œä¼šæŒç»­æ›´æ–°â€¦ åˆçº§git initåˆå§‹åŒ–ä¸€ä¸ªç©ºä»“åº“ 1git init git configé…ç½®ã€Œç”¨æˆ·åã€å’Œã€Œé‚®ç®±ã€ 1234git config --global user.name \"docoder\"git config --global user.email \"docoder@163.com\"git config â€”listgit config user.email git help1git help commit git status untracked : æ–°å¢çš„æ–‡ä»¶ï¼ŒGit ä¸çŸ¥é“å®ƒçš„å­˜åœ¨ not staged : è¢«ç´¢å¼•è¿‡åˆè¢«ä¿®æ”¹äº†çš„æ–‡ä»¶ staged : é€šè¿‡ git add åè¢«å³å°†è¢«æäº¤çš„æ–‡ä»¶ 1git status git log123git loggit log --onelinegit log --oneline --decorate .gitignoreç”¨ ! æ¥å¯¹æ¨¡å¼å–å 12*.a!lib.a git add1234git add READMEgit add --all .git add .git add -A git tag12345678910git tag new_taggit tag -d deleteTag#git push å‘½ä»¤é»˜è®¤æ˜¯ä¸ä¼š push Tags çš„ï¼Œéœ€è¦åŠ å‚æ•°ã€‚git push --tags#æ·»åŠ è¿œç¨‹ Tag 0.0.2git push origin 0.0.2#åˆ é™¤è¿œç¨‹ Tag 0.0.1git push origin :0.0.1 git rm1234git rm deleteme.js#ä» staging area ä¸­ç§»é™¤å‡ºæ¥ï¼Œä½†ä¸åˆ é™¤æ–‡ä»¶git rm deleteme.js --cached git mv12git mv oldfile.txt newfile.txtgit mv *.html src/ git merge1git merge feature_branch git commit123456789git commit -m \"Add README\"git commit .git commit -agit commit -am \"This is our first commit\"#è¿½åŠ æäº¤git commit --amend#ä¿®æ”¹æäº¤æ—¥æœŸgit commit -m \"Commit your changes with the future date\" --date '2018-04-05 23:59:59' git branch123456789git branch test_branchgit checkout -b my_branch#åˆ é™¤åˆ†æ”¯git branch -d delete_branch#æœ‰æ—¶å¿˜è®°å¼€æ–°çš„åˆ†æ”¯ï¼Œå°±ä¿®æ”¹å¹¶æäº¤äº†ä»£ç ã€‚å¼€åˆ†æ”¯çš„æ—¶å€™é»˜è®¤æ˜¯åŸºäºæœ€æ–°çš„ä¸€æ¬¡æäº¤çš„ï¼Œä½†æˆ‘ä»¬ä¹Ÿå¯ä»¥æŒ‡å®šå‚æ•°ä½¿å…¶åŸºäºä»»ä¸€æ¬¡æäº¤ã€‚git branch test_branch HEAD~1 git remoteremote å¯¹åº”è¿œç«¯ä»“åº“ 1234git remote add origin https://github.com/docoder/docoder.github.iogit remotegit remote -vgit remote rm origin git clone12git clone https://github.com/docoder/docoder.github.iogit clone https://github.com/docoder/docoder.github.io myname.github.io git checkout123456789git checkout config.jsgit checkout -b my_branch#checkout tag å’Œåˆ†æ”¯æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«git checkout v1.2#å½“å­˜åœ¨åŒåçš„ tag å’Œåˆ†æ”¯æ—¶,åˆ†æ”¯ä¼˜å…ˆçº§é«˜ï¼Œæ‰€ä»¥è¦æ˜¾å¼åœ°å‘Šè¯‰ git æˆ‘ä»¬æ˜¯è¦åˆ‡æ¢åˆ° taggit checkout tags/v1.2 git fetch12#ç”¨ fetch å‘½ä»¤æŠŠä»£ç æ‹¿ä¸‹æ¥,ä½†å¹¶ä¸åˆå¹¶åˆ°æœ¬åœ°ä»“åº“git fetch origin git pullå°†åˆ«äººæäº¤çš„ä»£ç ï¼Œæ‹‰åˆ°æœ¬åœ° 1git pull origin master git diff1git diff git push12#æŠŠåˆ†æ”¯ push åˆ°è¿œç¨‹ä»“åº“ä¸­å»git push origin test_branch git reset12345git reset to_commit_second.js#`HEAD~1` å€’æ•°ç¬¬äºŒçš„ä½ç½®#`--soft` æŠŠå˜æ›´ä¿æŒåœ¨ staging areagit reset HEAD~1 --soft é«˜çº§git stashæŠŠå½“å‰æœªæäº¤çš„æ”¹åŠ¨ã€Œå¤åˆ¶ã€åˆ°å¦ä¸€ä¸ªåœ°æ–¹æš‚å­˜èµ·æ¥ï¼Œå¾…è¦æ¢å¤çš„æ—¶å€™æ‰§è¡Œ git stash pop å³å¯ 12git stashgit stash pop git add12# Open the diff vs. the index in an editor and let the user edit it. After the editor was closed, adjust the hunk headers and apply the patch to the index.git add -e git merge12345678910111213#å°†long-feature-branchçš„æ‰€æœ‰commit åˆæˆä¸€ä¸ªcommit åˆ°æœ¬åˆ†æ”¯git merge long-feature-branch --squash git commit #è§£å†³å†²çªgit merge mybranch #(CONFLICT (content): Merge conflict in poem.txt) vim poem.txt #(è§£å†³å†²çªçš„åœ°æ–¹ä¸ºä½ æƒ³è¦çš„æ­£ç¡®çš„ä»£ç ) git add poem.txt git commit #(å¯ä»¥ä¿®æ”¹messageä¹Ÿå¯ä»¥ä¸ä¿®æ”¹ï¼Œä¿å­˜) git rebase123456789101112131415161718192021222324252627282930git rebase#å°†featureåˆ†æ”¯rebaseåˆ°masterä¸Šgit rebase master feature#ä¿®æ”¹ commit messagegit rebase -i HEAD~~ #(å°†è¦ä¿®æ”¹çš„commitçš„å‰é¢çš„ pick æ”¹æˆ edit åä¿å­˜) git commit --amend #(ä¿®æ”¹ commit message åä¿å­˜) git rebase --continue #åˆå¹¶commitgit rebase -i HEAD~4 #(å°†è¦åˆå¹¶çš„commitçš„å‰é¢çš„ pick éƒ½æ”¹æˆ squash åä¿å­˜ ) #(å¯ä»¥ä¿®æ”¹messageä¹Ÿå¯ä»¥ä¸ä¿®æ”¹ï¼Œä¿å­˜)#æ‹†åˆ†commitgit rebase -i HEAD^ #(å°†`updated README formatting and added blame`æ‹†åˆ†ä¸ºï¼šç¬¬ä¸€æ¬¡ä¸º `updated README formatting`ï¼Œç¬¬äºŒæ¬¡ä¸º `added blame`) #(å°†è¦æ‹†åˆ†çš„commitçš„å‰é¢çš„ pick æ”¹æˆ edit åä¿å­˜ ) git add README git commit -m 'updated README formatting' git add lib/simplegit.js git commit -m 'added blame' git rebase --continue#è°ƒæ•´commitçš„é¡ºåºgit rebase -i HEAD~3 #(å°† pick çš„ commit å’Œå…¶ message çš„é¡ºåºæ”¹æˆä½ çš„è¦æ±‚ï¼Œåä¿å­˜) git cherry-pick12#å°†å…¶ä»–åˆ†æ”¯çš„æäº¤ï¼ˆca32a6dï¼‰æ‹¿è¿‡æ¥åˆ°æœ¬åˆ†æ”¯git cherry-pick ca32a6d git revert1234567#æ’¤é”€ æŸæ¬¡æ“ä½œï¼Œæ­¤æ¬¡æ“ä½œä¹‹å‰å’Œä¹‹åçš„commitå’Œhistoryéƒ½ä¼šä¿ç•™ï¼Œå¹¶ä¸”æŠŠè¿™æ¬¡æ’¤é”€ä½œä¸ºä¸€æ¬¡æœ€æ–°çš„æäº¤#æ’¤é”€å‰ä¸€æ¬¡ commitgit revert HEAD#æ’¤é”€å‰å‰ä¸€æ¬¡ commitgit revert HEAD^#æ’¤é”€æŒ‡å®šçš„commitï¼Œæ’¤é”€ä¹Ÿä¼šä½œä¸ºä¸€æ¬¡æäº¤è¿›è¡Œä¿å­˜git revert 7ab60ed git grep1234567891011121314151617181920212223#æŸ¥æ‰¾æ¯ä¸ªåŒ…å«æœ‰å­—ç¬¦ä¸²`searchStr`çš„åœ°æ–¹git grep searchStr#`-n` æ˜¾ç¤ºè¡Œå·git grep -n searchStr#`--name-only` åªæ˜¾ç¤ºæ–‡ä»¶ågit grep --name-only searchStr#æŸ¥æ‰¾ä»“åº“é‡ŒæŸä¸ªç‰¹å®šç‰ˆæœ¬(æ ‡ç­¾åtag reference:`v1.5.0`)é‡Œçš„å†…å®¹git grep searchStr v1.5.0#`-c` æŸ¥çœ‹æ¯ä¸ªæ–‡ä»¶é‡Œæœ‰å¤šå°‘è¡ŒåŒ¹é…çš„å†…å®¹ (ç»Ÿè®¡æ¯ä¸ªæ–‡ä»¶æœ‰å¤šå°‘çš„TODO)git grep -c TODO #å“ªä¸ªåœ°æ–¹å®šä¹‰äº†å®(`#define`):`SORT_DIRENT`git grep -e '#define' --and -e SORT_DIRENT#åå­—ä¸­å«æœ‰`PATH`æˆ–æ˜¯`MAX`çš„å®(`#define`)å®šä¹‰git grep -e '#define' --and \\( -e PATH -e MAX \\)#å“ªä¸ªåœ°æ–¹å«æœ‰`MAX`æˆ–æ˜¯`MIN`git grep --all-match -e MAX -e MIN git reflog12345git reflog#Restore the deleted commitgit reflog git reset --hard 18cbf98 git submodule1git submodule add https://github.com/jackmaney/githug-include-me ./githug-include-me git blameå¿«é€Ÿæ‰¾åˆ°æŸè¡Œä»£ç æœ€åçš„ä¿®æ”¹è€…,è¿½è´£ 1git blame config.js git repack12#Optimise how your repository is packaged ensuring that redundant packs are removed.git repack -d git bisectBisect å°±æ˜¯åˆ©ç”¨äºŒåˆ†æŸ¥æ‰¾å‘æ¥æŸ¥æ‰¾åœ¨ä½ çš„æŸä¸€åˆ†æ”¯ä¸­åˆ°åº•æ˜¯å“ªä¸€æ¬¡æäº¤å¼•å…¥äº†ç‰¹å®šçš„å˜æ›´(é€šå¸¸ä¸ºæ£€æµ‹bug) é¦–å…ˆï¼Œè¦ç”¨æ–¹æ³•æ£€æµ‹å‡ºä¸€ä¸ªç»™å®šçš„æäº¤ç‚¹æ˜¯ä¸æ˜¯æœ‰ bugï¼Œå¯ä»¥å†™ä¸ªæµ‹è¯•ä»£ç æˆ–è„šæœ¬ 1234567891011121314151617181920#å¼€å§‹ bisectgit bisect start#æ²¡æœ‰å¾—åˆ°æƒ³è¦çš„ç»“æœï¼ˆå°±æ˜¯æ²¡æœ‰ä»»ä½•è¾“å‡ºï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠå®ƒæ ‡è®°ä¸ºåçš„ï¼Œä½œä¸ºç»ˆç‚¹ã€‚git bisect bad#æŒ‡å®šä¸€ä¸ªå¥½çš„æäº¤ç‚¹ï¼šå‡è®¾ç¬¬ä¸€ä¸ªæäº¤ç‚¹ï¼ˆ80a9b3dï¼‰æ˜¯æ²¡æœ‰ bug çš„ï¼Œä½œä¸ºèµ·ç‚¹ã€‚git bisect good 80a9b3d#è¿è¡Œè‡ªåŠ¨åŒ–è„šæœ¬ `test.sh` git bisect run ./test.sh#æˆ– è¿è¡Œmakeè„šæœ¬ `test` git bisect run make test#(è„šæœ¬ï¼Œæ­£ç¡®çš„è¿”å› 0ï¼Œåä¹‹è¿”å› 1)#å¦‚ï¼štest.sh:if [[ `grep 1013 file.txt` ]]; then exit 1else exit 0fi git filter-branch12345678910111213#è®©trunkå­ç›®å½•æˆä¸ºæ¯ä¸€æ¬¡æäº¤çš„æ–°çš„é¡¹ç›®æ ¹ç›®å½•$ git filter-branch --subdirectory-filter trunk HEAD#å…¨å±€æ€§åœ°æ›´æ¢ç”µå­é‚®ä»¶åœ°å€git filter-branch --commit-filter ' if [ \"$GIT_AUTHOR_EMAIL\" = \"schacon@localhost\" ]; then GIT_AUTHOR_NAME=\"Scott Chacon\"; GIT_AUTHOR_EMAIL=\"schacon@example.com\"; git commit-tree \"$@\"; else git commit-tree \"$@\"; fi' HEAD","tags":[{"name":"git","slug":"git","permalink":"https://coderdotcool.github.io/tags/git/"}]}]