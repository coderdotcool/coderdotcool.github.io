<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Coder Cool !</title>
  <subtitle>Coder Just Cool !</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://coderdotcool.github.io/"/>
  <updated>2017-05-12T15:19:47.000Z</updated>
  <id>https://coderdotcool.github.io/</id>
  
  <author>
    <name>codercool</name>
    <email>codercool@163.com</email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>iOS Animations ç¬”è®°</title>
    <link href="https://coderdotcool.github.io/Notes/iOS-Animations-%E7%AC%94%E8%AE%B0.html"/>
    <id>https://coderdotcool.github.io/Notes/iOS-Animations-ç¬”è®°.html</id>
    <published>2016-06-15T01:33:11.000Z</published>
    <updated>2017-05-12T15:19:47.000Z</updated>
    
    <content type="html"><![CDATA[<p>å¯¹iOSçš„åŠ¨ç”»ç›¸å…³çš„æ–¹é¢å•ç‹¬åšäº†ä¸€ä¸‹æ•´ç†ï¼Œä»¥åæœ‰æ—¶é—´ä¼šæŒç»­æ›´æ–°â€¦</p>
<a id="more"></a>
<h1 id="View-åŠ¨ç”»"><a href="#View-åŠ¨ç”»" class="headerlink" title="View åŠ¨ç”»"></a>View åŠ¨ç”»</h1><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="type">UIView</span>.animateWithDuration(<span class="number">0.5</span>, animations: &#123;</div><div class="line">	<span class="keyword">self</span>.heading.center.x += <span class="keyword">self</span>.view.bounds.width</div><div class="line">&#125;)</div><div class="line"><span class="type">UIView</span>.animateWithDuration(<span class="number">0.5</span>, delay: <span class="number">0.3</span>, options: [], animations: &#123;</div><div class="line">	<span class="keyword">self</span>.username.center.x += <span class="keyword">self</span>.view.bounds.width</div><div class="line">&#125;, completion: <span class="literal">nil</span>)</div><div class="line"><span class="type">UIView</span>.animateWithDuration(<span class="number">0.5</span>, delay: <span class="number">0.4</span>, options: [], animations: &#123;</div><div class="line">	<span class="keyword">self</span>.password.center.x += <span class="keyword">self</span>.view.bounds.width</div><div class="line">&#125;, completion: <span class="literal">nil</span>)</div></pre></td></tr></table></figure>
<h2 id="å¯åšåŠ¨ç”»çš„å±æ€§"><a href="#å¯åšåŠ¨ç”»çš„å±æ€§" class="headerlink" title="å¯åšåŠ¨ç”»çš„å±æ€§"></a>å¯åšåŠ¨ç”»çš„å±æ€§</h2><h3 id="Position-and-size"><a href="#Position-and-size" class="headerlink" title="Position and size"></a>Position and size</h3><ul>
<li>bounds</li>
<li>frame</li>
<li>center</li>
</ul>
<h3 id="Appearance"><a href="#Appearance" class="headerlink" title="Appearance"></a>Appearance</h3><ul>
<li><p>backgroundColor</p>
</li>
<li><p>alpha</p>
</li>
</ul>
<p>###Transformation</p>
<ul>
<li>transform</li>
</ul>
<h2 id="åŠ¨ç”»-options"><a href="#åŠ¨ç”»-options" class="headerlink" title="åŠ¨ç”» options"></a>åŠ¨ç”» options</h2><h3 id="Repeating"><a href="#Repeating" class="headerlink" title="Repeating"></a>Repeating</h3><ul>
<li><code>.Repeat</code> ä½¿ä½ çš„åŠ¨ç”»æ°¸è¿œå¾ªç¯é‡å¤</li>
<li><code>.Autoreverse</code> è¿™ä¸ªé€‰é¡¹åªèƒ½å’Œ <code>.Repeat</code> ä¸€èµ·ä½¿ç”¨ï¼Œæ­£å‘åå‘çš„é‡å¤åŠ¨ç”»</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="type">UIView</span>.animateWithDuration(<span class="number">0.5</span>, delay: <span class="number">0.4</span>, options: [.<span class="type">Repeat</span>, .<span class="type">Autoreverse</span>], animations: &#123;</div><div class="line">	<span class="keyword">self</span>.password.center.x += <span class="keyword">self</span>.view.bounds.width </div><div class="line">&#125;, completion: <span class="literal">nil</span>)</div></pre></td></tr></table></figure>
<h3 id="Easing"><a href="#Easing" class="headerlink" title="Easing"></a>Easing</h3><ul>
<li><code>.Linear</code> :çº¿æ€§</li>
<li><code>.CurveEaseIn</code> : åŠ¨ç”»å¼€å§‹æ—¶ï¼ŒåŠ é€Ÿ</li>
<li><code>.CurveEaseOut</code> : åŠ¨ç”»ç»“æŸæ—¶ï¼Œå‡é€Ÿ</li>
<li><code>.CurveEaseInOut</code> : åŠ¨ç”»å¼€å§‹æ—¶ï¼ŒåŠ é€Ÿï¼Œå¹¶ä¸”ï¼ŒåŠ¨ç”»ç»“æŸæ—¶ï¼Œå‡é€Ÿ</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="type">UIView</span>.animateWithDuration(<span class="number">0.5</span>, delay: <span class="number">0.4</span>, options: [.<span class="type">Repeat</span>, .<span class="type">Autoreverse</span>, .<span class="type">CurveEaseOut</span>], animations: &#123;</div><div class="line">	<span class="keyword">self</span>.password.center.x += <span class="keyword">self</span>.view.bounds.width </div><div class="line">&#125;, completion: <span class="literal">nil</span>)</div></pre></td></tr></table></figure>
<h3 id="Springs"><a href="#Springs" class="headerlink" title="Springs"></a>Springs</h3><ul>
<li><strong>usingSpringWithDamping</strong> : å¼¹ç°§åŠ¨ç”»çš„é˜»å°¼å€¼ï¼Œä¹Ÿå°±æ˜¯ç›¸å½“äºæ‘©æ“¦åŠ›çš„å¤§å°ï¼Œè¯¥å±æ€§çš„å€¼ä»0.0åˆ°1.0ä¹‹é—´ï¼Œè¶Šé è¿‘0ï¼Œé˜»å°¼è¶Šå°ï¼Œå¼¹åŠ¨çš„å¹…åº¦è¶Šå¤§ï¼Œåä¹‹é˜»å°¼è¶Šå¤§ï¼Œå¼¹åŠ¨çš„å¹…åº¦è¶Šå°ï¼Œå¦‚æœå¤§é“ä¸€å®šç¨‹åº¦ï¼Œä¼šå‡ºç°å¼¹ä¸åŠ¨çš„æƒ…å†µã€‚</li>
</ul>
<ul>
<li><strong>initialSpringVelocity</strong> : å¼¹ç°§åŠ¨ç”»çš„é€Ÿç‡ï¼Œæˆ–è€…è¯´æ˜¯åŠ¨åŠ›ã€‚å€¼è¶Šå°å¼¹ç°§çš„åŠ¨åŠ›è¶Šå°ï¼Œå¼¹ç°§æ‹‰ä¼¸çš„å¹…åº¦è¶Šå°ï¼Œåä¹‹åŠ¨åŠ›è¶Šå¤§ï¼Œå¼¹ç°§æ‹‰ä¼¸çš„å¹…åº¦è¶Šå¤§ã€‚è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœè®¾ç½®ä¸º0ï¼Œè¡¨ç¤ºå¿½ç•¥è¯¥å±æ€§ï¼Œç”±åŠ¨ç”»æŒç»­æ—¶é—´å’Œé˜»å°¼è®¡ç®—åŠ¨ç”»çš„æ•ˆæœã€‚</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="type">UIView</span>.animateWithDuration(<span class="number">0.5</span>, delay: <span class="number">0.5</span>, usingSpringWithDamping: <span class="number">0.5</span>, initialSpringVelocity: <span class="number">0.0</span>, options: [], animations: &#123;</div><div class="line">	<span class="keyword">self</span>.loginButton.center.y -= <span class="number">30.0</span></div><div class="line">	<span class="keyword">self</span>.loginButton.alpha = <span class="number">1.0</span> </div><div class="line">&#125;, completion: <span class="literal">nil</span>)</div></pre></td></tr></table></figure>
<h2 id="Transitions"><a href="#Transitions" class="headerlink" title="Transitions"></a>Transitions</h2><h3 id="Options"><a href="#Options" class="headerlink" title="Options"></a>Options</h3><ul>
<li><code>.TransitionFlipFromLeft</code></li>
</ul>
<ul>
<li><code>.TransitionFlipFromRight</code></li>
</ul>
<ul>
<li><code>.TransitionCurlUp</code></li>
<li><code>.TransitionCurlDown</code></li>
<li><code>.TransitionCrossDissolve</code></li>
<li><code>.TransitionFlipFromTop</code></li>
<li><code>.TransitionFlipFromBottom</code></li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//æ·»åŠ ä¸€ä¸ªæ–° viewï¼Œéœ€è¦æ›´æ”¹ view çš„å±‚æ¬¡ï¼Œtransition éœ€è¦ container view</span></div><div class="line"><span class="type">UIView</span>.transitionWithView(animationContainerView!, duration: <span class="number">0.33</span>, options: [.<span class="type">CurveEaseOut</span>, .<span class="type">TransitionFlipFromBottom</span>], animations: &#123;</div><div class="line">	<span class="keyword">self</span>.animationContainerView!.addSubview(newView) </div><div class="line">&#125;, completion: <span class="literal">nil</span>) </div><div class="line"></div><div class="line"><span class="comment">//remove the view via transition</span></div><div class="line"><span class="type">UIView</span>.transitionWithView(animationContainerView!, duration: <span class="number">0.33</span>,  doptions: [.<span class="type">CurveEaseOut</span>, .<span class="type">TransitionFlipFromBottom</span>], animations: &#123;</div><div class="line">	<span class="keyword">self</span>.newView.removeFromSuperview() </div><div class="line">&#125;, completion: <span class="literal">nil</span>)</div></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//æ˜¾ç¤ºéšè— viewï¼Œæ— éœ€æ›´æ”¹ view çš„å±‚æ¬¡ï¼Œtransition æ— éœ€ container view</span></div><div class="line"><span class="comment">//hide the view via transition</span></div><div class="line"><span class="type">UIView</span>.transitionWithView(<span class="keyword">self</span>.newView, duration: <span class="number">0.33</span>, options: [.<span class="type">CurveEaseOut</span>, .<span class="type">TransitionFlipFromBottom</span>], animations: &#123;</div><div class="line">	<span class="keyword">self</span>.newView.hidden = <span class="literal">true</span> </div><div class="line">&#125;, completion: <span class="literal">nil</span>)</div></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//æ›¿æ¢ view</span></div><div class="line"><span class="comment">//replace via transition</span></div><div class="line"><span class="type">UIView</span>.transitionFromView(<span class="keyword">self</span>.oldView!, toView: <span class="keyword">self</span>.newView!, duration: <span class="number">0.33</span>, options: [.<span class="type">TransitionFlipFromTop</span>],</div><div class="line">completion: <span class="literal">nil</span>)</div></pre></td></tr></table></figure>
<h2 id="å…³é”®å¸§åŠ¨ç”»"><a href="#å…³é”®å¸§åŠ¨ç”»" class="headerlink" title="å…³é”®å¸§åŠ¨ç”»"></a>å…³é”®å¸§åŠ¨ç”»</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> originalCenter = planeImage.center</div><div class="line"><span class="type">UIView</span>.animateKeyframesWithDuration(<span class="number">1.5</span>, delay: <span class="number">0.0</span>, options: [], animations: &#123;</div><div class="line">	<span class="comment">//add keyframes</span></div><div class="line">	<span class="type">UIView</span>.addKeyframeWithRelativeStartTime(<span class="number">0.0</span>, </div><div class="line">	relativeDuration: <span class="number">0.25</span>,  </div><div class="line">	animations: &#123;</div><div class="line">                    <span class="keyword">self</span>.planeImage.center.x += <span class="number">80.0</span></div><div class="line">                    <span class="keyword">self</span>.planeImage.center.y -= <span class="number">10.0</span></div><div class="line">                &#125;)</div><div class="line">                </div><div class="line">    <span class="type">UIView</span>.addKeyframeWithRelativeStartTime(<span class="number">0.1</span>, </div><div class="line">    relativeDuration: <span class="number">0.4</span>) &#123;</div><div class="line">                    <span class="keyword">self</span>.planeImage.transform = </div><div class="line">                    <span class="type">CGAffineTransformMakeRotation</span>(<span class="type">CGFloat</span>(-<span class="type">M_PI_4</span>/<span class="number">2</span>))</div><div class="line">                &#125;</div><div class="line">            </div><div class="line">    <span class="type">UIView</span>.addKeyframeWithRelativeStartTime(<span class="number">0.25</span>, </div><div class="line">    relativeDuration: <span class="number">0.25</span>) &#123;</div><div class="line">                    <span class="keyword">self</span>.planeImage.center.x += <span class="number">100.0</span></div><div class="line">                    <span class="keyword">self</span>.planeImage.center.y -= <span class="number">50.0</span></div><div class="line">                    <span class="keyword">self</span>.planeImage.alpha = <span class="number">0.0</span></div><div class="line">                &#125;</div><div class="line">            </div><div class="line">    <span class="type">UIView</span>.addKeyframeWithRelativeStartTime(<span class="number">0.51</span>, </div><div class="line">    relativeDuration: <span class="number">0.01</span>) &#123;</div><div class="line">                    <span class="keyword">self</span>.planeImage.transform = <span class="type">CGAffineTransformIdentity</span></div><div class="line">                    <span class="keyword">self</span>.planeImage.center = <span class="type">CGPoint</span>(x: <span class="number">0.0</span>, y: originalCenter.y)</div><div class="line">                &#125;</div><div class="line">            </div><div class="line">    <span class="type">UIView</span>.addKeyframeWithRelativeStartTime(<span class="number">0.55</span>, </div><div class="line">    relativeDuration: <span class="number">0.45</span>) &#123; </div><div class="line">    				<span class="keyword">self</span>.planeImage.alpha = <span class="number">1.0</span></div><div class="line">                    <span class="keyword">self</span>.planeImage.center = originalCenter</div><div class="line">                &#125;</div><div class="line">                </div><div class="line">&#125;, completion: <span class="literal">nil</span>)</div></pre></td></tr></table></figure>
<h1 id="Auto-Layout"><a href="#Auto-Layout" class="headerlink" title="Auto Layout"></a>Auto Layout</h1><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">isMenuOpen = !isMenuOpen</div><div class="line">    </div><div class="line"><span class="keyword">for</span> constraint <span class="keyword">in</span> titleLabel.superview!.constraints &#123;</div><div class="line">	<span class="comment">//å¾ªç¯çº¦æŸï¼Œæ‰¾å‡ºç›¸åº”çš„æ‰€éœ€çš„çº¦æŸ</span></div><div class="line">  	<span class="keyword">if</span> constraint.firstItem <span class="keyword">as</span>? <span class="type">NSObject</span> == titleLabel &amp;&amp;</div><div class="line">  	constraint.firstAttribute == .<span class="type">CenterX</span> &#123;</div><div class="line">  		constraint.constant = isMenuOpen ? -<span class="number">100.0</span> : <span class="number">0.0</span></div><div class="line">  		<span class="keyword">continue</span></div><div class="line">  	&#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">//menuHeightConstraint ä¸º Menu çš„ é«˜åº¦çº¦æŸ</span></div><div class="line">menuHeightConstraint.constant = isMenuOpen ? <span class="number">200.0</span> : <span class="number">60.0</span></div><div class="line">titleLabel.text = isMenuOpen ? <span class="string">"Select Item"</span> : <span class="string">"Packing List"</span></div><div class="line">    </div><div class="line"><span class="type">UIView</span>.animateWithDuration(<span class="number">1.0</span>, delay: <span class="number">0.0</span>, usingSpringWithDamping: <span class="number">0.4</span>, initialSpringVelocity: <span class="number">10.0</span>, options: .<span class="type">CurveEaseIn</span>, animations: &#123;</div><div class="line">			<span class="comment">//è°ƒç”¨ layoutIfNeeded æ›´æ–°çº¦æŸï¼Œæ›´æ–°å¸ƒå±€ï¼Œäº§ç”ŸåŠ¨ç”»</span></div><div class="line">            <span class="keyword">self</span>.view.layoutIfNeeded()</div><div class="line">        &#125;, completion: <span class="literal">nil</span>)</div></pre></td></tr></table></figure>
<p>å±æ€§ <code>constant</code> æ˜¯ <code>NSLayoutConstraint</code> ç±»ä¸­ä»…æœ‰çš„å¯å˜çš„å±æ€§ï¼ˆmutable propertyï¼‰ï¼Œè‹¥è¦ä¿®æ”¹ <code>multiplier</code> æˆ–ä¿®æ”¹ä¸ºå¦ä¸€ä¸ªçº¦æŸï¼Œåˆ™éœ€è¦åˆ é™¤è¿™ä¸ªçº¦æŸå†å¢åŠ ä¸€ä¸ªæ–°çš„çº¦æŸï¼ˆreplaceï¼‰</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line">isMenuOpen = !isMenuOpen</div><div class="line">    </div><div class="line"><span class="keyword">for</span> constraint <span class="keyword">in</span> titleLabel.superview!.constraints &#123;</div><div class="line">  	<span class="keyword">if</span> constraint.firstItem <span class="keyword">as</span>? <span class="type">NSObject</span> == titleLabel &amp;&amp;</div><div class="line">  	constraint.firstAttribute == .<span class="type">CenterX</span> &#123;</div><div class="line">  		constraint.constant = isMenuOpen ? -<span class="number">100.0</span> : <span class="number">0.0</span></div><div class="line">  		<span class="keyword">continue</span></div><div class="line">  	&#125;</div><div class="line">  	</div><div class="line">  	<span class="comment">//é€šè¿‡æ ‡è¯†ç¬¦æ‰¾åˆ°å¯¹åº”æ‰€éœ€çš„çº¦æŸ</span></div><div class="line">  	<span class="keyword">if</span> constraint.identifier == <span class="string">"TitleCenterY"</span> &#123;</div><div class="line">  		<span class="comment">//é€šè¿‡å°†çº¦æŸçš„ active è®¾ä¸º false æ¥åˆ é™¤æ­¤çº¦æŸï¼Œå¦‚æœæ²¡æœ‰å¼•ç”¨æŒ‡å‘è¿™ä¸ªçº¦æŸï¼Œè¿™ä¸ªçº¦æŸå¯¹è±¡å°†ä»å†…å­˜ä¸­åˆ é™¤</span></div><div class="line">  		constraint.active = <span class="literal">false</span></div><div class="line">    	<span class="comment">//add new constraint</span></div><div class="line">    	<span class="keyword">let</span> newConstraint = <span class="type">NSLayoutConstraint</span>(</div><div class="line">                item: titleLabel,</div><div class="line">                attribute: .<span class="type">CenterY</span>,</div><div class="line">                relatedBy: .<span class="type">Equal</span>,</div><div class="line">                toItem: titleLabel.superview!,</div><div class="line">                attribute: .<span class="type">CenterY</span>,</div><div class="line">                multiplier: isMenuOpen ? <span class="number">0.67</span> : <span class="number">1.0</span>,</div><div class="line">                constant: <span class="number">5.0</span>)</div><div class="line">            </div><div class="line">        newConstraint.identifier = <span class="string">"TitleCenterY"</span></div><div class="line">        <span class="comment">//é€šè¿‡è®¾ç½® newConstraint çš„å±æ€§ active ä¸º trueï¼Œæ¥é€šçŸ¥ Auto Layout åº”ç”¨æ–°çš„çº¦æŸ(newConstraint)</span></div><div class="line">        newConstraint.active = <span class="literal">true</span></div><div class="line">        </div><div class="line">    	<span class="keyword">continue</span></div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">menuHeightConstraint.constant = isMenuOpen ? <span class="number">200.0</span> : <span class="number">60.0</span></div><div class="line">titleLabel.text = isMenuOpen ? <span class="string">"Select Item"</span> : <span class="string">"Packing List"</span></div><div class="line">    </div><div class="line"><span class="type">UIView</span>.animateWithDuration(<span class="number">1.0</span>, delay: <span class="number">0.0</span>, usingSpringWithDamping: <span class="number">0.4</span>, initialSpringVelocity: <span class="number">10.0</span>, options: .<span class="type">CurveEaseIn</span>, animations: &#123;</div><div class="line">            <span class="keyword">self</span>.view.layoutIfNeeded()</div><div class="line">        &#125;, completion: <span class="literal">nil</span>)</div></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">showItem</span><span class="params">(index: Int)</span></span> &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"tapped item <span class="subst">\(index)</span>"</span>)</div><div class="line">    <span class="keyword">let</span> imageView = <span class="type">UIImageView</span>(image: <span class="type">UIImage</span>(named: <span class="string">"summericons_100px_0<span class="subst">\(index)</span>.png"</span>))</div><div class="line">    imageView.backgroundColor = <span class="type">UIColor</span>(red: <span class="number">0.0</span>, green: <span class="number">0.0</span>, blue: <span class="number">0.0</span>, alpha: <span class="number">0.5</span>)</div><div class="line">    imageView.layer.cornerRadius = <span class="number">5.0</span></div><div class="line">    </div><div class="line">    imageView.layer.masksToBounds = <span class="literal">true</span></div><div class="line">    imageView.translatesAutoresizingMaskIntoConstraints = <span class="literal">false</span></div><div class="line">    view.addSubview(imageView)</div><div class="line">    </div><div class="line">    <span class="comment">//iOS 9.0 ä¹‹åï¼Œçº¦æŸçš„æ–°ç”¨æ³•</span></div><div class="line">    <span class="keyword">let</span> conX = imageView.centerXAnchor.constraintEqualToAnchor( view.centerXAnchor)</div><div class="line">    <span class="keyword">let</span> conBottom = imageView.bottomAnchor.constraintEqualToAnchor( view.bottomAnchor, constant: imageView.frame.height)</div><div class="line">    <span class="keyword">let</span> conWidth = imageView.widthAnchor.constraintEqualToAnchor( view.widthAnchor,multiplier: <span class="number">0.33</span>,constant: -<span class="number">50.0</span>)</div><div class="line">    <span class="keyword">let</span> conHeight = imageView.heightAnchor.constraintEqualToAnchor( imageView.widthAnchor)</div><div class="line">    </div><div class="line">    <span class="type">NSLayoutConstraint</span>.activateConstraints([conX, conBottom, conWidth, conHeight])</div><div class="line">    </div><div class="line">    <span class="comment">//ä½¿çº¦æŸç”Ÿæ•ˆï¼Œä½œä¸ºåé¢åŠ¨ç”»çš„åˆå§‹çŠ¶æ€ï¼Œè¿™æ ·åé¢çš„åŠ¨ç”»æ‰ä¼šæ­£å¸¸</span></div><div class="line">    view.layoutIfNeeded()</div><div class="line">    </div><div class="line">    <span class="type">UIView</span>.animateWithDuration(<span class="number">0.8</span>, delay: <span class="number">0.0</span>, usingSpringWithDamping: <span class="number">0.4</span>, initialSpringVelocity: <span class="number">0.0</span>, options: [], animations: &#123;</div><div class="line">            conBottom.constant = -imageView.frame.size.height/<span class="number">2</span></div><div class="line">            conWidth.constant = <span class="number">0.0</span></div><div class="line">            <span class="keyword">self</span>.view.layoutIfNeeded()</div><div class="line">        &#125;, completion: <span class="literal">nil</span>)</div><div class="line">    </div><div class="line">    <span class="type">UIView</span>.animateWithDuration(<span class="number">0.8</span>, delay: <span class="number">1.0</span>,usingSpringWithDamping: <span class="number">0.4</span>, initialSpringVelocity: <span class="number">0.0</span>,options: [], animations: &#123;</div><div class="line">            conBottom.constant = imageView.frame.size.height</div><div class="line">            conWidth.constant = -<span class="number">50.0</span></div><div class="line">            <span class="keyword">self</span>.view.layoutIfNeeded()</div><div class="line">        &#125;, completion: &#123;<span class="number">_</span> <span class="keyword">in</span></div><div class="line">            imageView.removeFromSuperview()</div><div class="line">        &#125;)</div><div class="line">  &#125;</div></pre></td></tr></table></figure>
<h1 id="Layer-åŠ¨ç”»"><a href="#Layer-åŠ¨ç”»" class="headerlink" title="Layer åŠ¨ç”»"></a>Layer åŠ¨ç”»</h1><p>èƒ½ç”¨ View åŠ¨ç”»æ—¶å°±ç”¨ View åŠ¨ç”»ï¼Œä½†å½“éœ€è¦æ›´å¤šæ€§èƒ½ä¸çµæ´»æ€§æ˜¯ï¼Œå¯ä»¥è€ƒè™‘ç”¨ Layer åŠ¨ç”»</p>
<table>
<thead>
<tr>
<th>Views</th>
<th>Layers</th>
</tr>
</thead>
<tbody>
<tr>
<td>å¤æ‚çš„Viewå±‚æ¬¡å¸ƒå±€ï¼ŒAuto Layout ç­‰</td>
<td>ç®€å•çš„å±‚æ¬¡ï¼Œæ›´å¿«çš„å¸ƒå±€ï¼Œæ›´å¿«çš„ç»˜åˆ¶</td>
</tr>
<tr>
<td>ç”¨æˆ·äº¤äº’</td>
<td>æ²¡æœ‰å“åº”äº‹ä»¶é“¾çš„å¼€é”€</td>
</tr>
<tr>
<td>ç»å¸¸åœ¨CPUä¸»çº¿ç¨‹ä¸Šæ‰§è¡Œè‡ªå®šä¹‰é€»è¾‘å’Œè‡ªå®šä¹‰ç»˜åˆ¶ä»£ç </td>
<td>é»˜è®¤æ²¡æœ‰è‡ªå®šä¹‰é€»è¾‘ã€‚ç»å¸¸æœ‰ç¼“å­˜ï¼Œåœ¨GPUä¸Šç›´æ¥ç»˜åˆ¶</td>
</tr>
<tr>
<td>éå¸¸çµæ´»ï¼Œå¼ºå¤§ï¼Œæœ‰å¾ˆå¤šå­ç±»</td>
<td>ä¸çµæ´»ï¼Œå¾ˆå°‘å­ç±»</td>
</tr>
</tbody>
</table>
<h2 id="å¯åšåŠ¨ç”»çš„å±æ€§-1"><a href="#å¯åšåŠ¨ç”»çš„å±æ€§-1" class="headerlink" title="å¯åšåŠ¨ç”»çš„å±æ€§"></a>å¯åšåŠ¨ç”»çš„å±æ€§</h2><h3 id="Position-and-size-1"><a href="#Position-and-size-1" class="headerlink" title="Position and size"></a>Position and size</h3><ul>
<li>bounds</li>
<li>position</li>
<li>transform</li>
</ul>
<h3 id="Border"><a href="#Border" class="headerlink" title="Border"></a>Border</h3><ul>
<li>borderColor</li>
<li>borderWidth</li>
<li>cornerRadius</li>
</ul>
<h3 id="Shadow"><a href="#Shadow" class="headerlink" title="Shadow"></a>Shadow</h3><ul>
<li>shadowOffset</li>
<li>shadowOpacity</li>
<li>shadowPath</li>
<li>shadowRadius</li>
</ul>
<h3 id="Contents"><a href="#Contents" class="headerlink" title="Contents"></a>Contents</h3><ul>
<li>contents</li>
<li>mask</li>
<li>opacity</li>
</ul>
<p>ä»¥ä¸Šå¯åŠ¨ç”»çš„å±æ€§åªæ˜¯ä¸€éƒ¨åˆ†ï¼Œ<code>CALayer</code>çš„å­ç±»å¦å¤–ä¹Ÿæœ‰å¾ˆå¤šå¯åŠ¨ç”»çš„å±æ€§</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//CABasicAnimation åªæ˜¯ä¸€ä¸ªæ•°æ®æ¨¡å‹ï¼Œæ²¡æœ‰å±€é™äºå…·ä½“çš„ layer</span></div><div class="line"><span class="keyword">let</span> flyRight = <span class="type">CABasicAnimation</span>(keyPath: <span class="string">"position.x"</span>)</div><div class="line">flyRight.fromValue = -view.bounds.size.width/<span class="number">2</span></div><div class="line">flyRight.toValue = view.bounds.size.width/<span class="number">2</span></div><div class="line">flyRight.duration = <span class="number">0.5</span></div><div class="line"></div><div class="line">heading.layer.addAnimation(flyRight, forKey: <span class="literal">nil</span>)</div><div class="line"></div><div class="line">flyRight.beginTime = <span class="type">CACurrentMediaTime</span>() + <span class="number">0.3</span></div><div class="line"><span class="comment">//å¯ä»¥é‡ç”¨åŠ¨ç”» flyRight åœ¨å…¶ä»– layer ä¸Šï¼Œæ¯ä¸ª layer éƒ½å°†ç‹¬ç«‹è¿è¡Œè¯¥åŠ¨ç”»çš„ä¸€ä¸ªå‰¯æœ¬</span></div><div class="line"><span class="comment">//addAnimation(_:forKey:) ä¼šåˆ›å»ºä¸€ä¸ªåŠ¨ç”»å¯¹è±¡çš„å‰¯æœ¬</span></div><div class="line">username.layer.addAnimation(flyRight, forKey: <span class="literal">nil</span>)</div></pre></td></tr></table></figure>
<h2 id="fillMode"><a href="#fillMode" class="headerlink" title="fillMode"></a>fillMode</h2>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å¯¹iOSçš„åŠ¨ç”»ç›¸å…³çš„æ–¹é¢å•ç‹¬åšäº†ä¸€ä¸‹æ•´ç†ï¼Œä»¥åæœ‰æ—¶é—´ä¼šæŒç»­æ›´æ–°â€¦&lt;/p&gt;
    
    </summary>
    
      <category term="Notes" scheme="https://coderdotcool.github.io/categories/Notes/"/>
    
    
      <category term="iOS" scheme="https://coderdotcool.github.io/tags/iOS/"/>
    
      <category term="Animations" scheme="https://coderdotcool.github.io/tags/Animations/"/>
    
      <category term="Swift" scheme="https://coderdotcool.github.io/tags/Swift/"/>
    
  </entry>
  
  <entry>
    <title>Swiftç¬”è®°</title>
    <link href="https://coderdotcool.github.io/Notes/Swift%E7%AC%94%E8%AE%B0.html"/>
    <id>https://coderdotcool.github.io/Notes/Swiftç¬”è®°.html</id>
    <published>2016-05-19T12:22:07.000Z</published>
    <updated>2017-05-12T15:19:49.000Z</updated>
    
    <content type="html"><![CDATA[<p>é—²æš‡å­¦ä¹ Swiftè®°çš„ç¬”è®°ï¼Œåæœ‰æ—¶é—´ä¼šæŒç»­æ›´æ–°ï¼ŒæŸ¥æ¼è¡¥ç¼ºâ€¦ğŸ˜€</p>
<a id="more"></a>
<h1 id="åŸºæœ¬"><a href="#åŸºæœ¬" class="headerlink" title="åŸºæœ¬"></a>åŸºæœ¬</h1><h2 id="å¸¸é‡"><a href="#å¸¸é‡" class="headerlink" title="å¸¸é‡"></a>å¸¸é‡</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> pi: <span class="type">Double</span> = <span class="number">3.14159</span></div></pre></td></tr></table></figure>
<h2 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> variableNumber: <span class="type">Int</span> = <span class="number">42</span></div><div class="line">variableNumber = <span class="number">1_000_000</span></div></pre></td></tr></table></figure>
<h2 id="å‘½å"><a href="#å‘½å" class="headerlink" title="å‘½å"></a>å‘½å</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//You can even use the full range of Unicode characters</span></div><div class="line"><span class="keyword">var</span> å˜é‡ÃŸÅ“âˆšÃ¥: <span class="type">Int</span> = -<span class="number">1</span></div></pre></td></tr></table></figure>
<!-- more -->
<h2 id="ç±»å‹æ¨å¯¼"><a href="#ç±»å‹æ¨å¯¼" class="headerlink" title="ç±»å‹æ¨å¯¼"></a>ç±»å‹æ¨å¯¼</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> coordinates3D: (x: <span class="type">Int</span>, y: <span class="type">Int</span>, z: <span class="type">Int</span>) = (<span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>)</div><div class="line"><span class="keyword">let</span> (x, y, z) = coordinates3D</div></pre></td></tr></table></figure>
<h2 id="ç±»å‹è½¬æ¢"><a href="#ç±»å‹è½¬æ¢" class="headerlink" title="ç±»å‹è½¬æ¢"></a>ç±»å‹è½¬æ¢</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> integer: <span class="type">Int</span> = <span class="number">100</span></div><div class="line"><span class="keyword">var</span> decimal: <span class="type">Double</span> = <span class="number">12.5</span></div><div class="line">integer = <span class="type">Int</span>(decimal)</div><div class="line"></div><div class="line"><span class="keyword">let</span> hourlyRate = <span class="number">19.5</span></div><div class="line"><span class="keyword">let</span> hoursWorked = <span class="number">10</span></div><div class="line"><span class="keyword">let</span> totalCost = hourlyRate * <span class="type">Double</span>(hoursWorked)</div></pre></td></tr></table></figure>
<h2 id="å…ƒç»„-Tuples"><a href="#å…ƒç»„-Tuples" class="headerlink" title="å…ƒç»„(Tuples)"></a>å…ƒç»„(Tuples)</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> coordinates: (<span class="type">Int</span>, <span class="type">Int</span>) = (<span class="number">2</span>, <span class="number">3</span>)</div><div class="line"><span class="keyword">let</span> x: <span class="type">Int</span> = coordinates.<span class="number">0</span></div><div class="line"><span class="keyword">let</span> y: <span class="type">Int</span> = coordinates.<span class="number">1</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> coordinates3D: (x: <span class="type">Int</span>, y: <span class="type">Int</span>, z: <span class="type">Int</span>) = (<span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>)</div><div class="line"><span class="keyword">let</span> x1 = coordinates3D.x</div><div class="line"><span class="keyword">let</span> y1 = coordinates3D.y</div><div class="line"><span class="keyword">let</span> z1 = coordinates3D.z</div><div class="line"></div><div class="line"><span class="keyword">let</span> (x2, y2, <span class="number">_</span>) = coordinates3D</div></pre></td></tr></table></figure>
<h2 id="å–æ¨¡"><a href="#å–æ¨¡" class="headerlink" title="å–æ¨¡"></a>å–æ¨¡</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> moduloDecimal = <span class="number">11.6</span> % <span class="number">1.2</span></div><div class="line"><span class="comment">//moduloDecimal ç­‰äº 0.8ï¼Œå› ä¸º11.6 = 1.2*9+0.8</span></div></pre></td></tr></table></figure>
<h2 id="Shift-operations"><a href="#Shift-operations" class="headerlink" title="Shift operations"></a>Shift operations</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> shiftLeft = <span class="number">1</span> &lt;&lt; <span class="number">3</span></div><div class="line"><span class="keyword">let</span> shiftRight = <span class="number">32</span> &gt;&gt; <span class="number">2</span></div><div class="line"><span class="comment">//ç»“æœéƒ½ç­‰äº 8</span></div></pre></td></tr></table></figure>
<h2 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a>å­—ç¬¦ä¸²</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> name = <span class="string">"Matt"</span></div><div class="line"><span class="keyword">let</span> message = <span class="string">"Hello my name is <span class="subst">\(name)</span>!"</span> <span class="comment">// "Hello my name is Matt!"</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> oneThird = <span class="number">1.0</span> / <span class="number">3.0</span></div><div class="line"><span class="keyword">let</span> oneThirdLongString = <span class="string">"One third is <span class="subst">\(oneThird)</span> as a decimal."</span> <span class="comment">//One third is 0.3333333333333333 as a decimal.</span></div><div class="line"></div><div class="line"><span class="comment">//combining character</span></div><div class="line"><span class="keyword">let</span> stringA = <span class="string">"cafÃ©"</span></div><div class="line"><span class="keyword">let</span> stringB = <span class="string">"cafe\u&#123;0301&#125;"</span></div><div class="line">stringA.characters.<span class="built_in">count</span> <span class="comment">//4</span></div><div class="line">stringB.characters.<span class="built_in">count</span> <span class="comment">//4</span></div><div class="line"><span class="keyword">let</span> <span class="built_in">equal</span> = stringA == stringB <span class="comment">//equal ä¸º true</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> string = <span class="string">"Swift Apprentice is a great book!"</span></div><div class="line">string.uppercaseString <span class="comment">//SWIFT APPRENTICE IS A GREAT BOOK!</span></div><div class="line">string.lowercaseString <span class="comment">//swift apprentice is a great book!</span></div></pre></td></tr></table></figure>
<h2 id="åˆ¤æ–­"><a href="#åˆ¤æ–­" class="headerlink" title="åˆ¤æ–­"></a>åˆ¤æ–­</h2><h3 id="if"><a href="#if" class="headerlink" title="if"></a>if</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> hoursWorked = <span class="number">45</span></div><div class="line"><span class="keyword">var</span> price = <span class="number">0</span></div><div class="line"><span class="keyword">if</span> hoursWorked &gt; <span class="number">40</span> &#123;</div><div class="line">  <span class="keyword">let</span> hoursOver40 = hoursWorked - <span class="number">40</span></div><div class="line">  price += hoursOver40 * <span class="number">50</span></div><div class="line">  hoursWorked -= hoursOver40</div><div class="line">&#125;</div><div class="line">price += hoursWorked * <span class="number">25</span></div><div class="line"><span class="built_in">print</span>(price)</div><div class="line"></div><div class="line"><span class="comment">//1250</span></div></pre></td></tr></table></figure>
<h3 id="switch"><a href="#switch" class="headerlink" title="switch"></a>switch</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> hourOfDay = <span class="number">12</span></div><div class="line"><span class="keyword">let</span> timeOfDay: <span class="type">String</span></div><div class="line"><span class="keyword">switch</span> (hourOfDay) &#123;</div><div class="line"><span class="keyword">case</span> <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>:</div><div class="line">  timeOfDay = <span class="string">"Early morning"</span></div><div class="line"><span class="keyword">case</span> <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>:</div><div class="line">timeOfDay = <span class="string">"Morning"</span></div><div class="line"><span class="keyword">case</span> <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>:</div><div class="line">  timeOfDay = <span class="string">"Afternoon"</span></div><div class="line"><span class="keyword">case</span> <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>:</div><div class="line">  timeOfDay = <span class="string">"Evening"</span></div><div class="line"><span class="keyword">case</span> <span class="number">20</span>, <span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>:</div><div class="line">  timeOfDay = <span class="string">"Late evening"</span></div><div class="line"><span class="keyword">default</span>:</div><div class="line">  timeOfDay = <span class="string">"INVALID HOUR!"</span></div><div class="line">&#125;</div><div class="line"><span class="built_in">print</span>(timeOfDay)</div><div class="line"></div><div class="line"><span class="comment">//Afternoon</span></div></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> number = <span class="number">10</span></div><div class="line"><span class="keyword">switch</span> (number) &#123;</div><div class="line"><span class="keyword">case</span> <span class="keyword">let</span> x <span class="keyword">where</span> x % <span class="number">2</span> == <span class="number">0</span>:</div><div class="line">  <span class="built_in">print</span>(<span class="string">"Even"</span>)</div><div class="line"><span class="keyword">default</span>:</div><div class="line">  <span class="built_in">print</span>(<span class="string">"Odd"</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//Even</span></div></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> coordinates: (x: <span class="type">Int</span>, y: <span class="type">Int</span>, z: <span class="type">Int</span>) = (<span class="number">3</span>, <span class="number">2</span>, <span class="number">5</span>)</div><div class="line"><span class="keyword">switch</span> (coordinates) &#123;</div><div class="line"><span class="keyword">case</span> (<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>): <span class="comment">// 1</span></div><div class="line">  <span class="built_in">print</span>(<span class="string">"Origin"</span>)</div><div class="line"><span class="keyword">case</span> (<span class="number">_</span>, <span class="number">0</span>, <span class="number">0</span>): <span class="comment">// 2</span></div><div class="line">  <span class="built_in">print</span>(<span class="string">"On the x-axis."</span>)</div><div class="line"><span class="keyword">case</span> (<span class="number">0</span>, <span class="number">_</span>, <span class="number">0</span>): <span class="comment">// 3</span></div><div class="line">  <span class="built_in">print</span>(<span class="string">"On the y-axis."</span>)</div><div class="line"><span class="keyword">case</span> (<span class="number">0</span>, <span class="number">0</span>, <span class="number">_</span>): <span class="comment">// 4</span></div><div class="line">  <span class="built_in">print</span>(<span class="string">"On the z-axis."</span>)</div><div class="line"><span class="keyword">default</span>:        <span class="comment">// 5</span></div><div class="line">  <span class="built_in">print</span>(<span class="string">"Somewhere in space"</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">switch</span> (coordinates) &#123;</div><div class="line"><span class="keyword">case</span> (<span class="keyword">let</span> x, <span class="keyword">let</span> y, <span class="keyword">let</span> z) <span class="keyword">where</span> x == y &amp;&amp; y == z:</div><div class="line">  <span class="built_in">print</span>(<span class="string">"x = y = z"</span>)</div><div class="line"><span class="keyword">case</span> (<span class="number">_</span>, <span class="number">_</span>, <span class="number">0</span>):</div><div class="line">  <span class="built_in">print</span>(<span class="string">"On the x/y plane"</span>)</div><div class="line"><span class="keyword">case</span> (<span class="number">_</span>, <span class="number">0</span>, <span class="number">_</span>):</div><div class="line">  <span class="built_in">print</span>(<span class="string">"On the x/z plane"</span>)</div><div class="line"><span class="keyword">case</span> (<span class="number">0</span>, <span class="number">_</span>, <span class="number">_</span>):</div><div class="line">  <span class="built_in">print</span>(<span class="string">"On the y/z plane"</span>)</div><div class="line"><span class="keyword">default</span>:</div><div class="line">  <span class="built_in">print</span>(<span class="string">"Nothing special"</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">switch</span> (coordinates) &#123;</div><div class="line"><span class="keyword">case</span> (<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>):</div><div class="line">  <span class="built_in">print</span>(<span class="string">"Origin"</span>)</div><div class="line"><span class="keyword">case</span> (<span class="keyword">let</span> x, <span class="number">0</span>, <span class="number">0</span>):</div><div class="line">  <span class="built_in">print</span>(<span class="string">"On the x-axis at x = <span class="subst">\(x)</span>"</span>)</div><div class="line"><span class="keyword">case</span> (<span class="number">0</span>, <span class="keyword">let</span> y, <span class="number">0</span>):</div><div class="line">  <span class="built_in">print</span>(<span class="string">"On the y-axis at y = <span class="subst">\(y)</span>"</span>)</div><div class="line"><span class="keyword">case</span> (<span class="number">0</span>, <span class="number">0</span>, <span class="keyword">let</span> z):</div><div class="line">  <span class="built_in">print</span>(<span class="string">"On the z-axis at z = <span class="subst">\(z)</span>"</span>)</div><div class="line"><span class="keyword">case</span> (<span class="keyword">let</span> x, <span class="keyword">let</span> y, <span class="keyword">let</span> z):</div><div class="line">  <span class="built_in">print</span>(<span class="string">"Somewhere in space at x = <span class="subst">\(x)</span>, y = <span class="subst">\(y)</span>, z = <span class="subst">\(z)</span>"</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">switch</span> (coordinates) &#123;</div><div class="line"><span class="keyword">case</span> (<span class="keyword">let</span> x, <span class="keyword">let</span> y, <span class="number">_</span>) <span class="keyword">where</span> y == x:</div><div class="line">  <span class="built_in">print</span>(<span class="string">"Along the y = x line."</span>)</div><div class="line"><span class="keyword">case</span> (<span class="keyword">let</span> x, <span class="keyword">let</span> y, <span class="number">_</span>) <span class="keyword">where</span> y == x * x:</div><div class="line">  <span class="built_in">print</span>(<span class="string">"Along the y = x^2 line."</span>)</div><div class="line"><span class="keyword">default</span>:</div><div class="line"><span class="keyword">break</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="Ranges"><a href="#Ranges" class="headerlink" title="Ranges"></a>Ranges</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> closedRange = <span class="number">0</span>...<span class="number">5</span></div><div class="line"><span class="keyword">let</span> halfOpenRange = <span class="number">0</span>..&lt;<span class="number">5</span></div></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> hourOfDay = <span class="number">12</span></div><div class="line"><span class="keyword">let</span> timeOfDay: <span class="type">String</span></div><div class="line"><span class="keyword">switch</span> (hourOfDay) &#123;</div><div class="line"><span class="keyword">case</span> <span class="number">0</span>...<span class="number">5</span>:</div><div class="line">  timeOfDay = <span class="string">"Early morning"</span></div><div class="line"><span class="keyword">case</span> <span class="number">6</span>...<span class="number">11</span>:</div><div class="line">  timeOfDay = <span class="string">"Morning"</span></div><div class="line"><span class="keyword">case</span> <span class="number">12</span>...<span class="number">16</span>:</div><div class="line">  timeOfDay = <span class="string">"Afternoon"</span></div><div class="line"><span class="keyword">case</span> <span class="number">17</span>...<span class="number">19</span>:</div><div class="line">  timeOfDay = <span class="string">"Evening"</span></div><div class="line"><span class="keyword">case</span> <span class="number">20</span>..&lt;<span class="number">24</span>:</div><div class="line">  timeOfDay = <span class="string">"Late evening"</span></div><div class="line"><span class="keyword">default</span>:</div><div class="line">  timeOfDay = <span class="string">"INVALID HOUR!"</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="å¾ªç¯"><a href="#å¾ªç¯" class="headerlink" title="å¾ªç¯"></a>å¾ªç¯</h2><h3 id="for"><a href="#for" class="headerlink" title="for"></a>for</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> <span class="built_in">count</span> = <span class="number">10</span></div><div class="line"><span class="keyword">var</span> sum = <span class="number">0</span></div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1</span>...<span class="built_in">count</span> &#123;</div><div class="line">	sum += i </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> <span class="built_in">count</span> = <span class="number">10</span></div><div class="line"><span class="keyword">var</span> sum = <span class="number">1</span></div><div class="line"><span class="keyword">var</span> lastSum = <span class="number">0</span></div><div class="line"><span class="keyword">for</span> <span class="number">_</span> <span class="keyword">in</span> <span class="number">0</span>..&lt;<span class="built_in">count</span> &#123;</div><div class="line">  <span class="keyword">let</span> temp = sum</div><div class="line">  sum = sum + lastSum</div><div class="line">  lastSum = temp</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="while"><a href="#while" class="headerlink" title="while"></a>while</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> sum = <span class="number">1</span></div><div class="line"><span class="keyword">while</span> sum &lt; <span class="number">1000</span> &#123;</div><div class="line">  sum = sum + (sum + <span class="number">1</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="repeat"><a href="#repeat" class="headerlink" title="repeat"></a>repeat</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> sum = <span class="number">1</span></div><div class="line"><span class="keyword">repeat</span> &#123;</div><div class="line">  sum = sum + (sum + <span class="number">1</span>)</div><div class="line">&#125; <span class="keyword">while</span> sum &lt; <span class="number">1000</span></div></pre></td></tr></table></figure>
<h3 id="labeled-statements"><a href="#labeled-statements" class="headerlink" title="labeled statements"></a>labeled statements</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> sum = <span class="number">0</span></div><div class="line">rowLoop: <span class="keyword">for</span> row <span class="keyword">in</span> <span class="number">0</span>..&lt;<span class="number">8</span> &#123;</div><div class="line">  columnLoop: <span class="keyword">for</span> column <span class="keyword">in</span> <span class="number">0</span>..&lt;<span class="number">8</span> &#123;</div><div class="line">    <span class="keyword">if</span> row == column &#123;</div><div class="line">      <span class="keyword">continue</span> rowLoop</div><div class="line">    &#125;</div><div class="line">    sum += row * column</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h2><h3 id="å‚æ•°"><a href="#å‚æ•°" class="headerlink" title="å‚æ•°"></a>å‚æ•°</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">printMyName</span><span class="params">()</span></span> &#123;</div><div class="line">  <span class="built_in">print</span>(<span class="string">"My name is Matt Galloway."</span>)</div><div class="line">&#125;</div><div class="line">printMyName()</div></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">printMultipleOf</span><span class="params">(multiplier: Int, and andValue: Int)</span></span> &#123;</div><div class="line">  <span class="built_in">print</span>(<span class="string">"<span class="subst">\(multiplier)</span> * <span class="subst">\(andValue)</span> = <span class="subst">\(multiplier * andValue)</span>"</span>)</div><div class="line">&#125;</div><div class="line">printMultipleOf(<span class="number">4</span>, and: <span class="number">2</span>)</div></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">printMultipleOf</span><span class="params">(multiplier: Int, <span class="number">_</span> andValue: Int)</span></span> &#123;</div><div class="line">  <span class="built_in">print</span>(<span class="string">"<span class="subst">\(multiplier)</span> * <span class="subst">\(andValue)</span> = <span class="subst">\(multiplier * andValue)</span>"</span>)</div><div class="line">&#125;</div><div class="line">printMultipleOf(<span class="number">4</span>, <span class="number">2</span>)</div></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">printMultipleOf</span><span class="params">(multiplier: Int, and andValue: Int = <span class="number">1</span>)</span></span> &#123;</div><div class="line">  <span class="built_in">print</span>(<span class="string">"<span class="subst">\(multiplier)</span> * <span class="subst">\(andValue)</span> = <span class="subst">\(multiplier * andValue)</span>"</span>)</div><div class="line">&#125;</div><div class="line">printMultipleOf(<span class="number">4</span>)</div></pre></td></tr></table></figure>
<h3 id="è¿”å›å€¼"><a href="#è¿”å›å€¼" class="headerlink" title="è¿”å›å€¼"></a>è¿”å›å€¼</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">multiply</span><span class="params">(number: Int, by byValue: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">  <span class="keyword">return</span> number * byValue</div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> result = multiply(<span class="number">4</span>, by: <span class="number">2</span>)</div></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">multiplyAndDivide</span><span class="params">(number: Int, by byValue: Int)</span></span> -&gt; (multiply: <span class="type">Int</span>,</div><div class="line">divide: <span class="type">Int</span>) &#123;</div><div class="line">  <span class="keyword">return</span> (number * byValue, number / byValue)</div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> result = multiplyAndDivide(<span class="number">4</span>, by: <span class="number">2</span>)</div><div class="line"><span class="keyword">let</span> multiply = result.multiply</div><div class="line"><span class="keyword">let</span> divide = result.divide</div></pre></td></tr></table></figure>
<h3 id="é»˜è®¤pass-by-value"><a href="#é»˜è®¤pass-by-value" class="headerlink" title="é»˜è®¤pass-by-value"></a>é»˜è®¤pass-by-value</h3><p>å‡½æ•°å‚æ•°ä¸ç”¨<code>let</code>å£°æ˜çš„å¸¸é‡ç­‰ä»·.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">incrementAndPrint</span><span class="params">(value: Int)</span></span> &#123;</div><div class="line">  value += <span class="number">1</span></div><div class="line">  <span class="built_in">print</span>(value)</div><div class="line">&#125;</div><div class="line"><span class="comment">//Error : Left side of mutating operator isn't mutable: 'value' is a 'let' constant</span></div></pre></td></tr></table></figure>
<h3 id="pass-by-reference"><a href="#pass-by-reference" class="headerlink" title="pass-by-reference"></a>pass-by-reference</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">incrementAndPrintInOut</span><span class="params">(<span class="keyword">inout</span> value: Int)</span></span> &#123;</div><div class="line">  value += <span class="number">1</span></div><div class="line">  <span class="built_in">print</span>(value)</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> value = <span class="number">5</span></div><div class="line">incrementAndPrintInOut(&amp;value)</div><div class="line"><span class="built_in">print</span>(value)</div><div class="line"></div><div class="line"><span class="comment">// 6 </span></div><div class="line"><span class="comment">// 6</span></div></pre></td></tr></table></figure>
<h3 id="å‡½æ•°ä½œä¸ºå˜é‡"><a href="#å‡½æ•°ä½œä¸ºå˜é‡" class="headerlink" title="å‡½æ•°ä½œä¸ºå˜é‡"></a>å‡½æ•°ä½œä¸ºå˜é‡</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">(a: Int, <span class="number">_</span> b: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">	<span class="keyword">return</span> a + b </div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> function: (<span class="type">Int</span>, <span class="type">Int</span>) -&gt; <span class="type">Int</span> = add</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">printResult</span><span class="params">(function: <span class="params">(Int, Int)</span></span></span> -&gt; <span class="type">Int</span>, <span class="number">_</span> a: <span class="type">Int</span>, <span class="number">_</span> b: <span class="type">Int</span>) &#123;</div><div class="line">  <span class="keyword">let</span> result = function(a, b)</div><div class="line">  <span class="built_in">print</span>(result)</div><div class="line">&#125;</div><div class="line">printResult(add, <span class="number">4</span>, <span class="number">2</span>)</div><div class="line"></div><div class="line"><span class="comment">//6</span></div></pre></td></tr></table></figure>
<h2 id="Closure"><a href="#Closure" class="headerlink" title="Closure"></a>Closure</h2><p>A closure is simply a function with no name. åŒ¿åå‡½æ•°</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> multiplyClosure: (<span class="type">Int</span>, <span class="type">Int</span>) -&gt; <span class="type">Int</span></div><div class="line">multiplyClosure = &#123; (a: <span class="type">Int</span>, b: <span class="type">Int</span>) -&gt; <span class="type">Int</span> <span class="keyword">in</span></div><div class="line">	<span class="keyword">return</span> a * b </div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> result = multiplyClosure(<span class="number">4</span>, <span class="number">2</span>)</div><div class="line"></div><div class="line"><span class="comment">//8</span></div></pre></td></tr></table></figure>
<h3 id="ç®€å†™"><a href="#ç®€å†™" class="headerlink" title="ç®€å†™"></a>ç®€å†™</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> multiplyClosure: (<span class="type">Int</span>, <span class="type">Int</span>) -&gt; <span class="type">Int</span></div><div class="line"></div><div class="line"><span class="comment">//å¯ä»¥çœæ‰return</span></div><div class="line">multiplyClosure = &#123; (a: <span class="type">Int</span>, b: <span class="type">Int</span>) -&gt; <span class="type">Int</span> <span class="keyword">in</span></div><div class="line">	a*b </div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//å¯ä»¥çœæ‰è¿”å›ç±»å‹</span></div><div class="line">multiplyClosure = &#123; (a: <span class="type">Int</span>, b: <span class="type">Int</span>) <span class="keyword">in</span></div><div class="line">	a*b </div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//å¯ä»¥çœæ‰å‚æ•°ç±»å‹</span></div><div class="line">multiplyClosure = &#123; (a, b) <span class="keyword">in</span></div><div class="line">	a*b </div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//å¯ä»¥çœæ‰å‚æ•°åˆ—è¡¨</span></div><div class="line">multiplyClosure = &#123;</div><div class="line">	$<span class="number">0</span> * $<span class="number">1</span> </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">operateOnNumbers</span><span class="params">(a: Int, <span class="number">_</span> b: Int,</span></span></div><div class="line"> operation: <span class="params">(Int, Int)</span> -&gt; <span class="type">Int</span>) -&gt; <span class="type">Int</span> &#123;</div><div class="line">  <span class="keyword">let</span> result = operation(a, b)</div><div class="line">  <span class="built_in">print</span>(result)</div><div class="line">  <span class="keyword">return</span> result</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//1</span></div><div class="line"><span class="keyword">let</span> addClosure = &#123; (a: <span class="type">Int</span>, b: <span class="type">Int</span>) <span class="keyword">in</span></div><div class="line">	a+b </div><div class="line">&#125;</div><div class="line">operateOnNumbers(<span class="number">4</span>, <span class="number">2</span>, operation: addClosure)</div><div class="line"></div><div class="line"><span class="comment">//2</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">addFunction</span><span class="params">(a: Int, b: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">	<span class="keyword">return</span> a + b </div><div class="line">&#125;</div><div class="line">operateOnNumbers(<span class="number">4</span>, <span class="number">2</span>, operation: addFunction)</div><div class="line"></div><div class="line"><span class="comment">//3</span></div><div class="line">operateOnNumbers(<span class="number">4</span>, <span class="number">2</span>, operation: &#123; (a: <span class="type">Int</span>, b: <span class="type">Int</span>) -&gt; <span class="type">Int</span> <span class="keyword">in</span></div><div class="line">	<span class="keyword">return</span> a + b </div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="comment">//4</span></div><div class="line">operateOnNumbers(<span class="number">4</span>, <span class="number">2</span>, operation: &#123;</div><div class="line">	$<span class="number">0</span> + $<span class="number">1</span> </div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="comment">//æœ€ç»ˆå¯ç®€å†™ä¸ºï¼š</span></div><div class="line">operateOnNumbers(<span class="number">4</span>, <span class="number">2</span>) &#123;</div><div class="line">	$<span class="number">0</span> + $<span class="number">1</span> </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="æ— è¿”å›å€¼"><a href="#æ— è¿”å›å€¼" class="headerlink" title="æ— è¿”å›å€¼"></a>æ— è¿”å›å€¼</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> voidClosure: () -&gt; <span class="type">Void</span> = &#123;</div><div class="line">  <span class="built_in">print</span>(<span class="string">"Swift is awesome!"</span>)</div><div class="line">&#125;</div><div class="line">voidClosure()</div></pre></td></tr></table></figure>
<h3 id="é—­åŒ…"><a href="#é—­åŒ…" class="headerlink" title="é—­åŒ…"></a>é—­åŒ…</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">countingClosure</span><span class="params">()</span></span> -&gt; (() -&gt; <span class="type">Int</span>) &#123;</div><div class="line">  <span class="keyword">var</span> counter = <span class="number">0</span></div><div class="line">  <span class="keyword">let</span> incrementCounter: () -&gt; <span class="type">Int</span> = &#123;</div><div class="line">	counter += <span class="number">1</span></div><div class="line">    <span class="keyword">return</span> counter</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> incrementCounter</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> counter1 = countingClosure()</div><div class="line"><span class="keyword">let</span> counter2 = countingClosure()</div><div class="line"></div><div class="line">counter1() <span class="comment">// 0</span></div><div class="line">counter2() <span class="comment">// 0</span></div><div class="line">counter1() <span class="comment">// 1</span></div><div class="line">counter1() <span class="comment">// 2</span></div><div class="line">counter2() <span class="comment">// 1</span></div></pre></td></tr></table></figure>
<h2 id="Optionals"><a href="#Optionals" class="headerlink" title="Optionals"></a>Optionals</h2><h3 id="force-unwrapping"><a href="#force-unwrapping" class="headerlink" title="force unwrapping"></a>force unwrapping</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> authorName: <span class="type">String</span>? = <span class="string">"Matt Galloway"</span></div><div class="line"><span class="keyword">var</span> unwrappedAuthorName = authorName!</div><div class="line"><span class="built_in">print</span>(<span class="string">"Author is <span class="subst">\(unwrappedAuthorName)</span>"</span>)</div><div class="line"></div><div class="line"><span class="comment">//Author is Matt Galloway</span></div></pre></td></tr></table></figure>
<h3 id="If-let-binding"><a href="#If-let-binding" class="headerlink" title="If let binding"></a>If let binding</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> authorName: <span class="type">String</span>? = <span class="string">"Matt Galloway"</span></div><div class="line"><span class="keyword">let</span> authorAge: <span class="type">Int</span>? = <span class="number">30</span></div><div class="line"><span class="keyword">if</span> <span class="keyword">let</span> name: <span class="type">String</span> = authorName,</div><div class="line">       	age: <span class="type">Int</span> = authorAge &#123;</div><div class="line">  <span class="built_in">print</span>(<span class="string">"The author is <span class="subst">\(name)</span> who is <span class="subst">\(age)</span> years old."</span>)</div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">  <span class="built_in">print</span>(<span class="string">"No author or no age."</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="nil-coalescing"><a href="#nil-coalescing" class="headerlink" title="nil coalescing"></a>nil coalescing</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> optionalInt: <span class="type">Int</span>? = <span class="number">10</span></div><div class="line"></div><div class="line"><span class="comment">//result = optionalInt ï¼ŸoptionalInt : 0</span></div><div class="line"><span class="keyword">var</span> result: <span class="type">Int</span> = optionalInt ?? <span class="number">0</span></div><div class="line"><span class="comment">//ç­‰ä»·äºï¼š</span></div><div class="line"><span class="keyword">var</span> optionalInt: <span class="type">Int</span>? = <span class="number">10</span></div><div class="line"><span class="keyword">var</span> result: <span class="type">Int</span></div><div class="line"><span class="keyword">if</span> <span class="keyword">let</span> unwrapped = optionalInt &#123;</div><div class="line">  	result = unwrapped</div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">	result = <span class="number">0</span> </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="é›†åˆ"><a href="#é›†åˆ" class="headerlink" title="é›†åˆ"></a>é›†åˆ</h1><h2 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h2><h3 id="åˆ›å»ºæ•°ç»„"><a href="#åˆ›å»ºæ•°ç»„" class="headerlink" title="åˆ›å»ºæ•°ç»„"></a>åˆ›å»ºæ•°ç»„</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> numbers: <span class="type">Array</span>&lt;<span class="type">Int</span>&gt;</div><div class="line"><span class="keyword">let</span> inferredNumbers = <span class="type">Array</span>&lt;<span class="type">Int</span>&gt;()</div><div class="line"></div><div class="line"><span class="keyword">let</span> alsoInferredNumbers = [<span class="type">Int</span>]()</div><div class="line"></div><div class="line"><span class="keyword">let</span> evenNumbers = [<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>]</div><div class="line"></div><div class="line"><span class="keyword">let</span> allZeros = [<span class="type">Int</span>](<span class="built_in">count</span>: <span class="number">5</span>, repeatedValue: <span class="number">0</span>) <span class="comment">//[0, 0, 0, 0, 0]</span></div></pre></td></tr></table></figure>
<h3 id="å±æ€§å’Œæ–¹æ³•"><a href="#å±æ€§å’Œæ–¹æ³•" class="headerlink" title="å±æ€§å’Œæ–¹æ³•"></a>å±æ€§å’Œæ–¹æ³•</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> players = [<span class="string">"Alice"</span>, <span class="string">"Bob"</span>, <span class="string">"Cindy"</span>, <span class="string">"Dan"</span>]</div><div class="line"><span class="built_in">print</span>(players.isEmpty)</div><div class="line"><span class="comment">// &gt; false</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> currentPlayer = players.first</div><div class="line"><span class="built_in">print</span>(currentPlayer)</div><div class="line"><span class="comment">// &gt; Optional("Alice")</span></div><div class="line"></div><div class="line"><span class="built_in">print</span>(players.last)</div><div class="line"><span class="comment">// &gt; Optional("Dan")</span></div><div class="line"></div><div class="line">currentPlayer = players.<span class="built_in">minElement</span>()</div><div class="line"><span class="built_in">print</span>(currentPlayer)</div><div class="line"><span class="comment">// &gt; Optional("Alice")</span></div><div class="line"></div><div class="line"><span class="keyword">if</span> <span class="keyword">let</span> currentPlayer = currentPlayer &#123;</div><div class="line">  <span class="built_in">print</span>(<span class="string">"<span class="subst">\(currentPlayer)</span> will start"</span>)</div><div class="line">&#125;</div><div class="line"><span class="comment">// &gt; Alice will start</span></div><div class="line"></div><div class="line"><span class="built_in">print</span>([<span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>].first)</div><div class="line"><span class="comment">// &gt; Optional(2)</span></div><div class="line"><span class="built_in">print</span>([<span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>].<span class="built_in">minElement</span>())</div><div class="line"><span class="comment">// &gt; Optional(1)</span></div><div class="line"><span class="built_in">print</span>([<span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>].<span class="built_in">maxElement</span>())</div><div class="line"><span class="comment">// &gt; Optional(3)</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> firstPlayer = players[<span class="number">0</span>]</div><div class="line"><span class="built_in">print</span>(<span class="string">"First player is <span class="subst">\(firstPlayer)</span>"</span>)</div><div class="line"><span class="comment">// &gt; First player is "Alice"</span></div><div class="line"></div><div class="line"><span class="comment">//ç”¨ Range</span></div><div class="line"><span class="keyword">let</span> upcomingPlayers = players[<span class="number">1</span>...<span class="number">2</span>]</div><div class="line"><span class="built_in">print</span>(upcomingPlayers)</div><div class="line"><span class="comment">// &gt; ["Bob", "Cindy"]</span></div><div class="line"></div><div class="line">players[<span class="number">1</span>...<span class="number">3</span>].<span class="built_in">contains</span>(<span class="string">"Bob"</span>)</div><div class="line"><span class="comment">// &gt; true</span></div></pre></td></tr></table></figure>
<h3 id="æ•°ç»„æ“ä½œ"><a href="#æ•°ç»„æ“ä½œ" class="headerlink" title="æ•°ç»„æ“ä½œ"></a>æ•°ç»„æ“ä½œ</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//è¿½åŠ </span></div><div class="line"><span class="keyword">var</span> players = [<span class="string">"Alice"</span>, <span class="string">"Bob"</span>, <span class="string">"Cindy"</span>, <span class="string">"Dan"</span>]</div><div class="line">players.append(<span class="string">"Eli"</span>)</div><div class="line">players += [<span class="string">"Gina"</span>]</div><div class="line"> <span class="built_in">print</span>(players)</div><div class="line"><span class="comment">// &gt; ["Alice", "Bob", "Cindy", "Dan", "Eli", "Gi</span></div><div class="line"></div><div class="line"><span class="comment">//æ’å…¥</span></div><div class="line">players.insert(<span class="string">"Frank"</span>, atIndex: <span class="number">5</span>)</div><div class="line"></div><div class="line"><span class="comment">//åˆ é™¤</span></div><div class="line"><span class="keyword">var</span> removedPlayer = players.removeLast()</div><div class="line"><span class="built_in">print</span>(<span class="string">"<span class="subst">\(removedPlayer)</span> was removed"</span>)</div><div class="line"><span class="comment">// &gt; Gina was removed</span></div><div class="line"></div><div class="line">removedPlayer = players.removeAtIndex(<span class="number">2</span>)</div><div class="line"><span class="built_in">print</span>(<span class="string">"<span class="subst">\(removedPlayer)</span> was removed"</span>)</div><div class="line"><span class="comment">// &gt; Cindy was removed</span></div><div class="line"></div><div class="line"><span class="comment">//æ›´æ–°</span></div><div class="line"><span class="built_in">print</span>(players)</div><div class="line"><span class="comment">// &gt; ["Alice", "Bob", "Dan", "Eli", "Frank"]</span></div><div class="line">players[<span class="number">4</span>] = <span class="string">"Franklin"</span></div><div class="line"><span class="built_in">print</span>(players)</div><div class="line"><span class="comment">// &gt; ["Alice", "Bob", "Dan", "Eli", "Franklin"]</span></div><div class="line"></div><div class="line">players[<span class="number">0</span>...<span class="number">1</span>] = [<span class="string">"Donna"</span>, <span class="string">"Craig"</span>, <span class="string">"Brian"</span>, <span class="string">"Anna"</span>]</div><div class="line"><span class="built_in">print</span>(players)</div><div class="line"><span class="comment">// &gt; ["Donna", "Craig", "Brian", "Anna", "Dan", "Eli", "Franklin"]</span></div><div class="line"></div><div class="line"><span class="comment">//ç§»åŠ¨</span></div><div class="line"><span class="keyword">let</span> playerAnna = players.removeAtIndex(<span class="number">3</span>)</div><div class="line">players.insert(playerAnna, atIndex: <span class="number">0</span>)</div><div class="line"><span class="built_in">print</span>(players)</div><div class="line"><span class="comment">// &gt; ["Anna", "Donna", "Craig", "Brian", "Dan", "Eli", "Franklin"]</span></div><div class="line"></div><div class="line">players = players.<span class="built_in">sort</span>()</div><div class="line"><span class="built_in">print</span>(players)</div><div class="line"><span class="comment">// &gt; ["Anna", "Brian", "Craig", "Dan", "Donna", "Eli", "Franklin"]</span></div></pre></td></tr></table></figure>
<h3 id="éå†"><a href="#éå†" class="headerlink" title="éå†"></a>éå†</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> players = [<span class="string">"Alice"</span>, <span class="string">"Bob"</span>, <span class="string">"Cindy"</span>, <span class="string">"Dan"</span>]</div><div class="line"><span class="keyword">for</span> playerName <span class="keyword">in</span> players &#123;</div><div class="line">  <span class="built_in">print</span>(playerName)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// &gt; Anna</span></div><div class="line"><span class="comment">// &gt; Bob</span></div><div class="line"><span class="comment">// &gt; Cindy</span></div><div class="line"><span class="comment">// &gt; Dan</span></div><div class="line"></div><div class="line"><span class="keyword">for</span> (index, playerName) <span class="keyword">in</span> players.<span class="built_in">enumerate</span>() &#123;</div><div class="line">  <span class="built_in">print</span>(<span class="string">"<span class="subst">\(index + <span class="number">1</span>)</span>. <span class="subst">\(playerName)</span>"</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// &gt; 1. Anna</span></div><div class="line"><span class="comment">// &gt; 2. Bob</span></div><div class="line"><span class="comment">// &gt; 3. Cindy</span></div><div class="line"><span class="comment">// &gt; 4. Dan</span></div></pre></td></tr></table></figure>
<h3 id="Sequence-operations"><a href="#Sequence-operations" class="headerlink" title="Sequence operations"></a>Sequence operations</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> scores = [<span class="number">2</span>, <span class="number">2</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">1</span>, <span class="number">2</span>]</div><div class="line"></div><div class="line"><span class="comment">//reduce</span></div><div class="line"><span class="comment">//ç”¨ç¬¬ä¸€ä¸ªå‚æ•°ä½œä¸ºåˆå§‹å€¼ï¼Œç”¨combileæ“ä½œç¬¦ç´¯è®¡æ•°ç»„(scores)å…ƒç´ </span></div><div class="line"><span class="keyword">let</span> sum = scores.<span class="built_in">reduce</span>(<span class="number">0</span>, combine: +)</div><div class="line"><span class="built_in">print</span>(sum)</div><div class="line"><span class="comment">// &gt; 21</span></div><div class="line"></div><div class="line"><span class="comment">//filter</span></div><div class="line"><span class="comment">//æ¥å—ä¸€ä¸ªclosureä½œä¸ºå‚æ•°ï¼Œå¯¹æ•°ç»„(scores)æ¯ä¸ªå…ƒç´ æ‰§è¡Œæ­¤closureï¼Œè‹¥æ­¤closureè¿”å›trueï¼Œåˆ™å°†å¯¹åº”çš„å…ƒç´ æ·»åŠ åˆ°è¿”å›æ•°ç»„ä¸­</span></div><div class="line"><span class="built_in">print</span>(scores.<span class="built_in">filter</span>(&#123; $<span class="number">0</span> &gt; <span class="number">5</span> &#125;))</div><div class="line"><span class="comment">// &gt; [8, 6]</span></div><div class="line"></div><div class="line"><span class="comment">//map</span></div><div class="line"><span class="comment">//æ¥å—ä¸€ä¸ªclosureä½œä¸ºå‚æ•°,å¯¹æ•°ç»„(scores)æ¯ä¸ªå…ƒç´ æ‰§è¡Œæ­¤closureï¼Œè¿”å›ä¸€ä¸ªæ–°çš„å…ƒç´ å¹¶å°†ä¹‹æ·»åŠ åˆ°è¿”å›æ•°ç»„ä¸­</span></div><div class="line"><span class="built_in">print</span>(scores)</div><div class="line"><span class="comment">// &gt; [2, 2, 8, 6, 1, 2]</span></div><div class="line"><span class="keyword">let</span> newScores = scores.<span class="built_in">map</span>(&#123; $<span class="number">0</span> * <span class="number">2</span> &#125;)</div><div class="line"><span class="built_in">print</span>(newScores)</div><div class="line"><span class="comment">// &gt; [4, 4, 16, 12, 2, 4]</span></div></pre></td></tr></table></figure>
<h2 id="å­—å…¸"><a href="#å­—å…¸" class="headerlink" title="å­—å…¸"></a>å­—å…¸</h2><h3 id="åˆ›å»ºå­—å…¸"><a href="#åˆ›å»ºå­—å…¸" class="headerlink" title="åˆ›å»ºå­—å…¸"></a>åˆ›å»ºå­—å…¸</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> pairs: <span class="type">Dictionary</span>&lt;<span class="type">String</span>, <span class="type">Int</span>&gt;</div><div class="line"></div><div class="line"><span class="keyword">let</span> inferredPairs = <span class="type">Dictionary</span>&lt;<span class="type">String</span>, <span class="type">Int</span>&gt;()</div><div class="line"></div><div class="line"><span class="keyword">let</span> alsoInferredPairs = [<span class="type">String</span>: <span class="type">Int</span>]()</div><div class="line"></div><div class="line"><span class="keyword">let</span> namesAndScores = [<span class="string">"Anna"</span>: <span class="number">2</span>, <span class="string">"Brian"</span>: <span class="number">2</span>, <span class="string">"Craig"</span>: <span class="number">8</span>, <span class="string">"Donna"</span>: <span class="number">6</span>]</div><div class="line"><span class="built_in">print</span>(namesAndScores)</div><div class="line"><span class="comment">// &gt; ["Brian": 2, "Anna": 2, "Craig": 8, "Donna": 6]</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> emptyDictionary: [<span class="type">Int</span>: <span class="type">Int</span>]</div><div class="line">emptyDictionar = [:]</div></pre></td></tr></table></figure>
<h3 id="å±æ€§å’Œæ–¹æ³•-1"><a href="#å±æ€§å’Œæ–¹æ³•-1" class="headerlink" title="å±æ€§å’Œæ–¹æ³•"></a>å±æ€§å’Œæ–¹æ³•</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> namesAndScores = [<span class="string">"Anna"</span>: <span class="number">2</span>, <span class="string">"Brian"</span>: <span class="number">2</span>, <span class="string">"Craig"</span>: <span class="number">8</span>, <span class="string">"Donna"</span>: <span class="number">6</span>]</div><div class="line"></div><div class="line"><span class="built_in">print</span>(namesAndScores[<span class="string">"Anna"</span>])</div><div class="line"><span class="comment">// &gt; Optional(2)</span></div><div class="line"></div><div class="line"><span class="built_in">print</span>(namesAndScores[<span class="string">"Greg"</span>])</div><div class="line"><span class="comment">// &gt; nil</span></div><div class="line"></div><div class="line"><span class="built_in">print</span>(namesAndScores.isEmpty)</div><div class="line"><span class="comment">// &gt; false</span></div><div class="line"><span class="built_in">print</span>(namesAndScores.<span class="built_in">count</span>)</div><div class="line"><span class="comment">// &gt; 4</span></div><div class="line"></div><div class="line"><span class="built_in">print</span>(<span class="type">Array</span>(namesAndScores.keys))</div><div class="line"><span class="comment">// &gt; ["Brian", "Anna", "Craig", "Donna"]</span></div><div class="line"><span class="built_in">print</span>(<span class="type">Array</span>(namesAndScores.values))</div><div class="line"><span class="comment">// &gt; [2, 2, 8, 6]</span></div></pre></td></tr></table></figure>
<h3 id="å­—å…¸æ“ä½œ"><a href="#å­—å…¸æ“ä½œ" class="headerlink" title="å­—å…¸æ“ä½œ"></a>å­—å…¸æ“ä½œ</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> bobData = [<span class="string">"name"</span>: <span class="string">"Bob"</span>, <span class="string">"profession"</span>: <span class="string">"Card Player"</span>, <span class="string">"country"</span>: <span class="string">"USA"</span>]</div><div class="line"></div><div class="line"><span class="comment">//æ›´æ–°</span></div><div class="line">bobData.updateValue(<span class="string">"CA"</span>, forKey: <span class="string">"state"</span>)</div><div class="line">bobData[<span class="string">"city"</span>] = <span class="string">"San Francisco"</span></div><div class="line"></div><div class="line"><span class="comment">//åˆ é™¤</span></div><div class="line">bobData.removeValueForKey(<span class="string">"state"</span>)</div><div class="line">bobData[<span class="string">"city"</span>] = <span class="literal">nil</span></div></pre></td></tr></table></figure>
<h3 id="éå†-1"><a href="#éå†-1" class="headerlink" title="éå†"></a>éå†</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> namesAndScores = [<span class="string">"Anna"</span>: <span class="number">2</span>, <span class="string">"Brian"</span>: <span class="number">2</span>, <span class="string">"Craig"</span>: <span class="number">8</span>, <span class="string">"Donna"</span>: <span class="number">6</span>]</div><div class="line"></div><div class="line"><span class="keyword">for</span> (key, value) <span class="keyword">in</span> namesAndScores &#123;</div><div class="line">  <span class="built_in">print</span>(<span class="string">"<span class="subst">\(key)</span> - <span class="subst">\(value)</span>"</span>)</div><div class="line">&#125;</div><div class="line"><span class="comment">// &gt; Brian - 2</span></div><div class="line"><span class="comment">// &gt; Anna - 2</span></div><div class="line"><span class="comment">// &gt; Craig - 8</span></div><div class="line"><span class="comment">// &gt; Donna - 6</span></div><div class="line"></div><div class="line"><span class="keyword">for</span> key <span class="keyword">in</span> namesAndScores.keys &#123;</div><div class="line">  <span class="built_in">print</span>(<span class="string">"<span class="subst">\(key)</span>, "</span>, terminator: <span class="string">""</span>) <span class="comment">// no newline</span></div><div class="line">&#125;</div><div class="line"><span class="built_in">print</span>(<span class="string">""</span>) <span class="comment">// print one final newline</span></div><div class="line"><span class="comment">// &gt; Brian, Anna, Craig, Donna,</span></div></pre></td></tr></table></figure>
<h3 id="Sequence-operations-1"><a href="#Sequence-operations-1" class="headerlink" title="Sequence operations"></a>Sequence operations</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> namesAndScores = [<span class="string">"Anna"</span>: <span class="number">2</span>, <span class="string">"Brian"</span>: <span class="number">2</span>, <span class="string">"Craig"</span>: <span class="number">8</span>, <span class="string">"Donna"</span>: <span class="number">6</span>]</div><div class="line"></div><div class="line"><span class="comment">//reduce</span></div><div class="line"><span class="comment">//ç¬¬ä¸€ä¸ªå‚æ•°ä¸º""ï¼Œç”¨combile closureç´¯è®¡(å‰é¢å­—ç¬¦ä¸²åŠ ä¸Šåé¢å­—å…¸é”®å€¼å­—ç¬¦ä¸²)å­—å…¸(namesAndScores)å…ƒç´ (é”®å€¼)</span></div><div class="line"><span class="keyword">let</span> namesString = namesAndScores.<span class="built_in">reduce</span>(<span class="string">""</span>, combine: &#123; $<span class="number">0</span> + <span class="string">"<span class="subst">\($<span class="number">1.0</span>)</span>, "</span> &#125;)</div><div class="line"><span class="built_in">print</span>(namesString)</div><div class="line"><span class="comment">// &gt; Brian, Anna, Craig, Donna,</span></div><div class="line"></div><div class="line"><span class="comment">//filter</span></div><div class="line"><span class="comment">//æ¥å—ä¸€ä¸ªclosureä½œä¸ºå‚æ•°ï¼Œå¯¹å­—å…¸(namesAndScores)æ¯ä¸ªå…ƒç´ æ‰§è¡Œæ­¤closureï¼Œå–å‡ºå­—å…¸ value å°äº 5 çš„å…ƒç´ </span></div><div class="line"><span class="built_in">print</span>(namesAndScores.<span class="built_in">filter</span>(&#123; $<span class="number">0.1</span> &lt; <span class="number">5</span> &#125;))</div><div class="line"><span class="comment">// &gt; [("Brian", 2), ("Anna", 2)]</span></div></pre></td></tr></table></figure>
<h2 id="Sets"><a href="#Sets" class="headerlink" title="Sets"></a>Sets</h2><h3 id="åˆ›å»ºSet"><a href="#åˆ›å»ºSet" class="headerlink" title="åˆ›å»ºSet"></a>åˆ›å»ºSet</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> setOne: <span class="type">Set</span>&lt;<span class="type">Int</span>&gt;</div><div class="line"></div><div class="line"><span class="keyword">let</span> setTwo = <span class="type">Set</span>&lt;<span class="type">Int</span>&gt;()</div><div class="line"></div><div class="line"> <span class="built_in">print</span>(setTwo)</div><div class="line"><span class="comment">// &gt; []</span></div><div class="line"></div><div class="line"><span class="comment">//å¿…é¡»æ˜¾å¼å£°æ˜æ˜¯Setï¼Œå¦åˆ™ï¼Œåˆ™åˆ›å»ºäº†æ•°ç»„</span></div><div class="line"><span class="keyword">let</span> someSet: <span class="type">Set</span>&lt;<span class="type">Int</span>&gt; = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>]</div><div class="line"><span class="comment">//å¯ä»¥çœç•¥Setä¸­çš„å…ƒç´ ç±»å‹</span></div><div class="line"><span class="keyword">let</span> anotherSet: <span class="type">Set</span> = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>]</div><div class="line"></div><div class="line"> <span class="built_in">print</span>(someSet)</div><div class="line"><span class="comment">// &gt; [2, 3, 1]</span></div></pre></td></tr></table></figure>
<h3 id="å±æ€§å’Œæ–¹æ³•-2"><a href="#å±æ€§å’Œæ–¹æ³•-2" class="headerlink" title="å±æ€§å’Œæ–¹æ³•"></a>å±æ€§å’Œæ–¹æ³•</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> someSet: <span class="type">Set</span>&lt;<span class="type">Int</span>&gt; = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>]</div><div class="line"></div><div class="line"><span class="built_in">print</span>(someSet.isEmpty)</div><div class="line"><span class="comment">// &gt; false</span></div><div class="line"><span class="built_in">print</span>(someSet.<span class="built_in">count</span>)</div><div class="line"><span class="comment">// &gt; 3</span></div><div class="line"></div><div class="line"><span class="built_in">print</span>(someSet.<span class="built_in">contains</span>(<span class="number">1</span>))</div><div class="line"><span class="comment">// &gt; true</span></div><div class="line"><span class="built_in">print</span>(someSet.<span class="built_in">contains</span>(<span class="number">4</span>))</div><div class="line"><span class="comment">// &gt; false</span></div><div class="line"></div><div class="line"><span class="built_in">print</span>(someSet.first)</div><div class="line"><span class="comment">// &gt; Optional(2)</span></div></pre></td></tr></table></figure>
<h3 id="Setæ“ä½œ"><a href="#Setæ“ä½œ" class="headerlink" title="Setæ“ä½œ"></a>Setæ“ä½œ</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> myTimes: <span class="type">Set</span> = [<span class="string">"8am"</span>, <span class="string">"9am"</span>, <span class="string">"10am"</span>]</div><div class="line"> </div><div class="line"><span class="comment">//æ’å…¥</span></div><div class="line">myTimes.insert(<span class="string">"11am"</span>)</div><div class="line"><span class="built_in">print</span>(myTimes)</div><div class="line"><span class="comment">// &gt; ["9am", "8am", "11am", "10am"]</span></div><div class="line"></div><div class="line"><span class="comment">//åˆ é™¤</span></div><div class="line"><span class="keyword">let</span> removedElement = myTimes.remove(<span class="string">"8am"</span>)</div><div class="line"><span class="built_in">print</span>(removedElement)</div><div class="line"><span class="comment">// &gt; Optional("8am")</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="built_in">print</span>(myTimes)</div><div class="line"><span class="comment">//&gt;["9am", "11am", "10am"]</span></div><div class="line"><span class="keyword">let</span> adamTimes: <span class="type">Set</span> = [<span class="string">"9am"</span>, <span class="string">"11am"</span>, <span class="string">"1pm"</span>]</div><div class="line"></div><div class="line"><span class="comment">//å¹¶é›† union</span></div><div class="line"><span class="keyword">let</span> unionSet = myTimes.union(adamTimes)</div><div class="line"><span class="built_in">print</span>(unionSet)</div><div class="line"><span class="comment">// &gt; ["9am", "11am", "10am", "1pm"]</span></div><div class="line"></div><div class="line"><span class="comment">//äº¤é›† intersect</span></div><div class="line"><span class="keyword">let</span> intersectSet = myTimes.intersect(adamTimes)</div><div class="line"><span class="built_in">print</span>(intersectSet)</div><div class="line"><span class="comment">// &gt; ["9am", "11am"]</span></div><div class="line"></div><div class="line"><span class="comment">//å·®é›† subtract</span></div><div class="line"><span class="keyword">let</span> subtractSet = myTimes.subtract(adamTimes)</div><div class="line"><span class="built_in">print</span>(subtractSet)</div><div class="line"><span class="comment">// &gt; ["10am"]</span></div><div class="line"></div><div class="line"><span class="comment">//å¼‚æˆ– Exclusive Or</span></div><div class="line"><span class="keyword">let</span> exclusiveOrSet = myTimes.exclusiveOr(adamTimes)</div><div class="line"><span class="built_in">print</span>(exclusiveOrSet)</div><div class="line"><span class="comment">// &gt; ["10am", "1pm"]</span></div></pre></td></tr></table></figure>
<h3 id="éå†-2"><a href="#éå†-2" class="headerlink" title="éå†"></a>éå†</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> myTimes: <span class="type">Set</span> = [<span class="string">"8am"</span>, <span class="string">"9am"</span>, <span class="string">"10am"</span>]</div><div class="line"><span class="keyword">for</span> element <span class="keyword">in</span> myTimes &#123;</div><div class="line">  <span class="built_in">print</span>(element)</div><div class="line">&#125;</div><div class="line"><span class="comment">// &gt; 9am</span></div><div class="line"><span class="comment">// &gt; 11am</span></div><div class="line"><span class="comment">// &gt; 10am</span></div></pre></td></tr></table></figure>
<h1 id="è‡ªå®šä¹‰ç±»å‹"><a href="#è‡ªå®šä¹‰ç±»å‹" class="headerlink" title="è‡ªå®šä¹‰ç±»å‹"></a>è‡ªå®šä¹‰ç±»å‹</h1><h2 id="ç»“æ„ä½“"><a href="#ç»“æ„ä½“" class="headerlink" title="ç»“æ„ä½“"></a>ç»“æ„ä½“</h2><p><strong>ç»“æ„ä½“æ— å¤„ä¸å­˜åœ¨ï¼Œè®¸å¤šSwiftæ ‡å‡†ç±»å‹éƒ½æ˜¯ç»“æ„ä½“ï¼Œæ¯”å¦‚ï¼ŒArray, Int, Float, Double, Bool, Dictionary, Set å’Œ Stringéƒ½æ˜¯è¢«å®šä¹‰ä¸ºç»“æ„ä½“ã€‚æ‰€ä»¥å®ƒä»¬æ‰€æœ‰è‡ªå·±çš„æ–¹æ³•å’Œå±æ€§ã€‚</strong></p>
<h3 id="ç®€å•åˆ›å»ºä½¿ç”¨"><a href="#ç®€å•åˆ›å»ºä½¿ç”¨" class="headerlink" title="ç®€å•åˆ›å»ºä½¿ç”¨"></a>ç®€å•åˆ›å»ºä½¿ç”¨</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Location</span> </span>&#123;</div><div class="line">  <span class="keyword">let</span> latitude: <span class="type">Double</span></div><div class="line">  <span class="keyword">let</span> longitude: <span class="type">Double</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> pizzaLocation = <span class="type">Location</span>(latitude: <span class="number">44.9871</span>,</div><div class="line">                             longitude: -<span class="number">93.2758</span>)</div><div class="line">                             </div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">DeliveryRange</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> range: <span class="type">Double</span></div><div class="line">  <span class="keyword">let</span> center: <span class="type">Location</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//å¸¸é‡ï¼Œä¸èƒ½ä¿®æ”¹å±æ€§å€¼</span></div><div class="line"><span class="keyword">let</span> storeLocation = <span class="type">Location</span>(latitude: <span class="number">44.9871</span>, longitude: -<span class="number">93.2758</span>)</div><div class="line"><span class="comment">//å¸¸é‡ï¼Œå¯ä»¥ä¿®æ”¹å±æ€§å€¼</span></div><div class="line"><span class="keyword">var</span> pizzaRange = <span class="type">DeliveryRange</span>(range: <span class="number">200</span>, center: storeLocation)</div><div class="line">                               </div><div class="line"><span class="built_in">print</span>(pizzaRange.range) <span class="comment">// 200</span></div><div class="line"><span class="built_in">print</span>(pizzaRange.center.latitude) <span class="comment">// 44.9871</span></div><div class="line"></div><div class="line">pizzaRange.range = <span class="number">250</span></div></pre></td></tr></table></figure>
<h3 id="è‡ªå®šä¹‰æ„é€ æ–¹æ³•"><a href="#è‡ªå®šä¹‰æ„é€ æ–¹æ³•" class="headerlink" title="è‡ªå®šä¹‰æ„é€ æ–¹æ³•"></a>è‡ªå®šä¹‰æ„é€ æ–¹æ³•</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Location</span> </span>&#123;</div><div class="line">  <span class="keyword">let</span> latitude: <span class="type">Double</span></div><div class="line">  <span class="keyword">let</span> longitude: <span class="type">Double</span></div><div class="line">  <span class="comment">// String in GPS format "44.9871,-93.2758"</span></div><div class="line">  <span class="keyword">init</span>(coordinateString: <span class="type">String</span>) &#123;</div><div class="line">    <span class="keyword">let</span> crdSplit = coordinateString.characters.<span class="built_in">split</span>(<span class="string">","</span>)</div><div class="line">    latitude = atof(<span class="type">String</span>(crdSplit.first!))</div><div class="line">    longitude = atof(<span class="type">String</span>(crdSplit.last!))</div><div class="line">  &#125; </div><div class="line">&#125;</div><div class="line"><span class="comment">//ä¸€æ—¦è‡ªå®šä¹‰æ„é€ æ–¹æ³•ï¼Œé»˜è®¤æ„é€ æ–¹æ³•å°†æ— æ•ˆ</span></div><div class="line"><span class="comment">//æ•…ï¼Œä¸èƒ½æ‰§è¡Œ Location(latitude: 44.9871, longitude: -93.2758)</span></div><div class="line"><span class="keyword">let</span> coords = <span class="type">Location</span>(coordinateString: <span class="string">"44.9871,-93.2758"</span>)</div><div class="line"><span class="built_in">print</span>(coords.latitude) <span class="comment">// 44.9871</span></div><div class="line"><span class="built_in">print</span>(coords.longitude) <span class="comment">// -93.2758</span></div></pre></td></tr></table></figure>
<p>æ„é€ æ–¹æ³•é‡è½½</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Order</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> toppings: [<span class="type">String</span>]</div><div class="line">    <span class="keyword">var</span> size: <span class="type">String</span></div><div class="line">    <span class="keyword">var</span> crust: <span class="type">String</span></div><div class="line">    <span class="keyword">init</span>(toppings: [<span class="type">String</span>], size: <span class="type">String</span>, crust: <span class="type">String</span>) &#123;</div><div class="line">        <span class="keyword">self</span>.toppings = toppings</div><div class="line">        <span class="keyword">self</span>.size = size</div><div class="line">        <span class="keyword">self</span>.crust = crust</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">init</span>(size: <span class="type">String</span>, crust: <span class="type">String</span>) &#123;</div><div class="line">        <span class="keyword">self</span>.toppings = [<span class="string">"Cheese"</span>]</div><div class="line">        <span class="keyword">self</span>.size = size</div><div class="line">        <span class="keyword">self</span>.crust = crust</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">init</span>(special: <span class="type">String</span>) &#123;</div><div class="line">        <span class="keyword">self</span>.size = <span class="string">"Large"</span></div><div class="line">        <span class="keyword">self</span>.crust = <span class="string">"Regular"</span></div><div class="line">        <span class="keyword">if</span> special == <span class="string">"Veggie"</span> &#123;</div><div class="line">          <span class="keyword">self</span>.toppings = [<span class="string">"Tomatoes"</span>, <span class="string">"Green Pepper"</span>, <span class="string">"Mushrooms"</span>]</div><div class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> special == â€œ<span class="type">Meat</span>â€ &#123;</div><div class="line">          <span class="keyword">self</span>.toppings = [<span class="string">"Sausage"</span>, <span class="string">"Pepperoni"</span>, <span class="string">"Ham"</span>, <span class="string">"Bacon"</span>]</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">          <span class="keyword">self</span>.toppings = [<span class="string">"Cheese"</span>]</div><div class="line">        &#125;</div><div class="line">    &#125; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>æ„é€ æ–¹æ³•å¿…é¡»<strong>æ˜¾å¼çš„</strong>ç»™é™¤äº†Optionç±»å‹çš„æ‰€æœ‰å±æ€§èµ‹å€¼</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ClimateControl</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> temperature: <span class="type">Double</span></div><div class="line">  <span class="keyword">var</span> humidity: <span class="type">Double</span>?</div><div class="line">    <span class="keyword">init</span>(temp: <span class="type">Double</span>) &#123;</div><div class="line">    temperature = temp</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">init</span>(temp: <span class="type">Double</span>, hum: <span class="type">Double</span>) &#123;</div><div class="line">    temperature = temp</div><div class="line">    humidity = hum</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> ecoMode = <span class="type">ClimateControl</span>(temp: <span class="number">75.0</span>)</div><div class="line"><span class="keyword">let</span> dryAndComfortable = <span class="type">ClimateControl</span>(temp: <span class="number">71.0</span>, hum: <span class="number">30.0</span>)</div></pre></td></tr></table></figure>
<p>é»˜è®¤å€¼</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ClimateControl</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> temperature: <span class="type">Double</span> = <span class="number">68.0</span></div><div class="line">  <span class="keyword">var</span> humidity: <span class="type">Double</span>?</div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> defaultClimate = <span class="type">ClimateControl</span>()</div><div class="line"><span class="built_in">print</span>(defaultClimate.temperature) <span class="comment">// 68.0</span></div></pre></td></tr></table></figure>
<h3 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">DeliveryRange</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> range: <span class="type">Double</span></div><div class="line">  <span class="keyword">let</span> center: <span class="type">Location</span></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">isInRange</span><span class="params">(customer: Location)</span></span> -&gt; <span class="type">Bool</span> &#123;</div><div class="line">    <span class="keyword">let</span> difference = sqrt(pow((latitude - center.latitude), <span class="number">2</span>) + pow((longitude - center.longitude), <span class="number">2</span>))</div><div class="line">    <span class="keyword">return</span> difference &lt; range</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> range = <span class="type">DeliveryRange</span>(range: <span class="number">150</span>, center: <span class="type">Location</span>(<span class="string">"44.9871,-93.2758"</span>))</div><div class="line"><span class="keyword">let</span> customer = <span class="type">Location</span>(coordinateString: â€œ<span class="number">44.9850</span>,-<span class="number">93.2750</span>â€)</div><div class="line">range.isInRange(customer) <span class="comment">// true!</span></div></pre></td></tr></table></figure>
<h3 id="Extensions"><a href="#Extensions" class="headerlink" title="Extensions"></a>Extensions</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Location</span> </span>&#123;</div><div class="line">  <span class="keyword">let</span> latitude: <span class="type">Double</span></div><div class="line">  <span class="keyword">let</span> longitude: <span class="type">Double</span></div><div class="line">  <span class="comment">// String in GPS format "44.9871,-93.2758"</span></div><div class="line">  <span class="keyword">init</span>(coordinateString: <span class="type">String</span>) &#123;</div><div class="line">    <span class="keyword">let</span> crdSplit = coordinateString.characters.<span class="built_in">split</span>(<span class="string">","</span>)</div><div class="line">    latitude = atof(<span class="type">String</span>(crdSplit.first!))</div><div class="line">    longitude = atof(<span class="type">String</span>(crdSplit.last!))</div><div class="line">  &#125; </div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Location</span> </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">isNorthernHemisphere</span><span class="params">()</span></span> -&gt; <span class="type">Bool</span> &#123;</div><div class="line">    <span class="keyword">return</span> latitude &gt; <span class="number">0.0</span></div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> location = <span class="type">Location</span>(coordinateString: <span class="string">"44.9850,-93.2750"</span>)</div><div class="line">location.isNorthernHemisphere() <span class="comment">// true</span></div></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">String</span> </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">evenOrOdd</span><span class="params">()</span></span> -&gt; <span class="type">String</span> &#123;</div><div class="line">    <span class="keyword">return</span> characters.<span class="built_in">count</span> % <span class="number">2</span> == <span class="number">0</span> ? <span class="string">"Even!"</span> : <span class="string">"Odd!"</span></div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="string">"I'm odd"</span>.evenOrOdd() <span class="comment">// "Odd!"</span></div></pre></td></tr></table></figure>
<h3 id="ç»“æ„ä½“å˜é‡"><a href="#ç»“æ„ä½“å˜é‡" class="headerlink" title="ç»“æ„ä½“å˜é‡"></a>ç»“æ„ä½“å˜é‡</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> range1: <span class="type">DeliveryRange</span> = <span class="type">DeliveryRange</span>(range: <span class="number">200</span>,</div><div class="line">  center: <span class="type">Location</span>(â€œ<span class="number">44.9871</span>,-<span class="number">93.2758</span>â€))</div><div class="line"><span class="comment">// å°† range1 èµ‹å€¼ç»™ range2</span></div><div class="line"><span class="keyword">var</span> range2: <span class="type">DeliveryRange</span> = range1</div><div class="line"><span class="built_in">print</span>(range1.range) <span class="comment">// 200</span></div><div class="line"><span class="built_in">print</span>(range2.range) <span class="comment">// 200</span></div><div class="line"><span class="comment">// ä¿®æ”¹ range1 çš„ range ä¸º '100'</span></div><div class="line">range1.range = <span class="number">100</span></div><div class="line"><span class="comment">// range1 çš„ range ä¸º '100', ä½†æ˜¯ range2 çš„ range ä»ç„¶ä¸º '200'</span></div><div class="line"><span class="comment">// ç»“æ„ä½“æ˜¯å€¼ç±»å‹,è€Œéå¼•ç”¨ç±»å‹</span></div><div class="line"><span class="built_in">print</span>(range1.range) <span class="comment">// 100</span></div><div class="line"><span class="built_in">print</span>(range2.range) <span class="comment">// 200</span></div></pre></td></tr></table></figure>
<h2 id="ç±»"><a href="#ç±»" class="headerlink" title="ç±»"></a>ç±»</h2><h3 id="åˆ›å»º"><a href="#åˆ›å»º" class="headerlink" title="åˆ›å»º"></a>åˆ›å»º</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//ç±»ä¸åƒç»“æ„ä½“ï¼Œç±»æ²¡æœ‰æä¾›é»˜è®¤æ„é€ æ–¹æ³•ï¼Œå¿…é¡»è¦å†™æ„é€ æ–¹æ³•æ˜¾å¼çš„ç»™å±æ€§èµ‹å€¼ã€‚</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> firstName: <span class="type">String</span></div><div class="line">  <span class="keyword">var</span> lastName: <span class="type">String</span></div><div class="line">  <span class="keyword">init</span>(firstName: <span class="type">String</span>, lastName: <span class="type">String</span>) &#123;</div><div class="line">  	<span class="keyword">self</span>.firstName = firstName</div><div class="line">    <span class="keyword">self</span>.lastName = lastName</div><div class="line">  &#125;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">fullName</span><span class="params">()</span></span> -&gt; <span class="type">String</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="string">"<span class="subst">\(firstName)</span> <span class="subst">\(lastName)</span>"</span></div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> john = <span class="type">Person</span>(firstName: <span class="string">"Johnny"</span>, lastName: <span class="string">"Appleseed"</span>)</div></pre></td></tr></table></figure>
<p><strong>ç»“æ„ä½“æ˜¯ä¸å¯å˜çš„å€¼ç±»å‹ï¼Œç±»æ˜¯å¯å˜çš„åº”ç”¨ç±»å‹ã€‚</strong><br><strong>ç±»é€šå¸¸ç”¨æ¥ä»£è¡¨å¯¹è±¡ï¼Œç»“æ„ä½“ç”¨æ¥ä»£è¡¨å€¼</strong></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Grade</span> </span>&#123;</div><div class="line">  <span class="keyword">let</span> letter: <span class="type">String</span></div><div class="line">  <span class="keyword">let</span> points: <span class="type">Double</span></div><div class="line">  <span class="keyword">let</span> credits: <span class="type">Double</span></div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> firstName: <span class="type">String</span></div><div class="line">  <span class="keyword">var</span> lastName: <span class="type">String</span></div><div class="line">  <span class="keyword">var</span> grades: [<span class="type">Grade</span>] = []</div><div class="line">  <span class="keyword">init</span>(firstName: <span class="type">String</span>, lastName: <span class="type">String</span>) &#123;</div><div class="line">    <span class="keyword">self</span>.firstName = firstName</div><div class="line">    <span class="keyword">self</span>.lastName = lastName</div><div class="line">  &#125;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">recordGrade</span><span class="params">(grade: Grade)</span></span> &#123;</div><div class="line">    grades.append(grade)</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> jane = <span class="type">Student</span>(firstName: â€œ<span class="type">Jane</span>â€, lastName: â€œ<span class="type">Appleseed</span>â€)</div><div class="line"><span class="keyword">let</span> history = <span class="type">Grade</span>(letter: â€œ<span class="type">B</span>â€, points: <span class="number">9.0</span>, credits: <span class="number">3.0</span>)</div><div class="line"><span class="keyword">let</span> math = <span class="type">Grade</span>(letter: â€œ<span class="type">A</span>â€, points: <span class="number">16.0</span>, credits: <span class="number">4.0</span>)</div><div class="line">jane.recordGrade(history)</div><div class="line">jane.recordGrade(math)</div></pre></td></tr></table></figure>
<h3 id="è®¿é—®æ§åˆ¶"><a href="#è®¿é—®æ§åˆ¶" class="headerlink" title="è®¿é—®æ§åˆ¶"></a>è®¿é—®æ§åˆ¶</h3><ul>
<li><strong>public</strong> : å¯ä»¥è®¿é—®å½“å‰æ¨¡å—åŠå…¶ä»–æ¨¡å—ä¸­çš„ä»»ä½•å®ä½“ï¼ˆé€šå¸¸ç”¨äºFrameworkï¼‰ã€‚</li>
<li><strong>internal</strong>: å¯ä»¥è®¿é—®å½“å‰æ¨¡å—ä¸­çš„å…¶ä»–ä»»ä½•å®ä½“ï¼Œä½†æ˜¯åœ¨æ¨¡å—å¤–æ— æ³•è®¿é—®ï¼Œè¿™æ˜¯æ‰€æœ‰å®ä½“çš„<strong>é»˜è®¤</strong>è®¿é—®çº§åˆ«ï¼ˆé€šå¸¸åœ¨ä¸€ä¸ªå•ç›®æ ‡Applicationä¸­ä¸éœ€è¦è‡ªè¡Œè®¾ç½®è®¿é—®çº§åˆ«ï¼‰ã€‚</li>
<li><strong>private</strong>: åªèƒ½è®¿é—®å½“å‰æºæ–‡ä»¶ä¸­çš„å®ä½“ï¼ˆ<strong>æ³¨æ„</strong>, Swiftä¸­çš„privateå’Œå…¶ä»–è¯­è¨€ä¸å¤ªä¸€æ ·ï¼Œå®ƒæ˜¯åŸºäºæºæ–‡ä»¶çš„ï¼Œä½œç”¨èŒƒå›´æ˜¯æ•´ä¸ªæºæ–‡ä»¶ï¼Œå¦‚æœä¸€ä¸ªæºæ–‡ä»¶ä¸­æœ‰ä¸¤ä¸ªç±»ï¼Œé‚£ä¹ˆä¸€ä¸ªç±»å¯ä»¥è®¿é—®å¦å¤–ä¸€ä¸ªç±»çš„ç§æœ‰æˆå‘˜ï¼‰</li>
<li>ç±»æˆå‘˜çš„è®¿é—®çº§åˆ«<strong>ä¸èƒ½é«˜äº</strong>ç±»çš„è®¿é—®çº§åˆ« (<strong>æ³¨æ„</strong>, åµŒå¥—ç±»å‹çš„è®¿é—®çº§åˆ«ä¹Ÿç¬¦åˆæ­¤æ¡è§„åˆ™)</li>
</ul>
<h3 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> firstName: <span class="type">String</span></div><div class="line">  <span class="keyword">var</span> lastName: <span class="type">String</span></div><div class="line">  <span class="keyword">init</span>(firstName: <span class="type">String</span>, lastName: <span class="type">String</span>) &#123;</div><div class="line">    <span class="keyword">self</span>.firstName = firstName</div><div class="line">    <span class="keyword">self</span>.lastName = lastName</div><div class="line">  &#125;</div><div class="line">  </div><div class="line">  <span class="comment">//ææ„</span></div><div class="line">  <span class="keyword">deinit</span> &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"<span class="subst">\(firstName)</span> <span class="subst">\(lastName)</span> is being removed from memory!"</span>)</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>: <span class="title">Person</span> </span>&#123;</div><div class="line">	<span class="comment">//weak è¡¨ç¤ºå¼±å¼•ç”¨ï¼Œå¯é¿å…å¾ªç¯å¼•ç”¨ã€‚è‹¥æ—  weak ä¿®é¥°ï¼Œéƒ½ä¸ºå¼ºå¼•ç”¨ã€‚</span></div><div class="line">	<span class="keyword">weak</span> <span class="keyword">var</span> partner: <span class="type">Student</span>?</div><div class="line">	</div><div class="line">    <span class="keyword">var</span> grades: [<span class="type">Grade</span>] = []</div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">recordGrade</span><span class="params">(grade: Grade)</span></span> &#123;</div><div class="line">    	grades.append(grade)</div><div class="line">    &#125; </div><div class="line">    <span class="comment">//required è¦æ±‚å…¶å­ç±»ä¸ä»…å¿…é¡»è¦å®ç°æ­¤æ„é€ æ–¹æ³•ï¼Œè€Œä¸”å½“å…¶å­ç±»è°ƒç”¨super.initæ—¶ï¼Œå¿…é¡»è¦ç”¨æ­¤æ„é€ æ–¹æ³•</span></div><div class="line">    <span class="keyword">override</span> <span class="keyword">required</span> <span class="keyword">init</span>(firstName: <span class="type">String</span>, lastName: <span class="type">String</span>) &#123;</div><div class="line">      grades = []</div><div class="line">      <span class="keyword">super</span>.<span class="keyword">init</span>(firstName: firstName, lastName: lastName)</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">convenience</span> <span class="keyword">init</span>(transfer: <span class="type">Student</span>) &#123;</div><div class="line">      <span class="comment">//ä½¿ç”¨ convenience å…³é”®å­—è¿›è¡Œä¿®é¥°çš„æ„é€ æ–¹æ³•å¿…é¡»è¦è°ƒç”¨ æœ¬ç±» çš„æ„é€ æ–¹æ³•è¿›è¡Œåˆå§‹åŒ–</span></div><div class="line">      <span class="keyword">self</span>.<span class="keyword">init</span>(firstName: transfer.firstName, lastName: transfer.lastName)</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">StudentAthlete</span>: <span class="title">Student</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> failedClasses: [<span class="type">Grade</span>] = []</div><div class="line">  </div><div class="line">  <span class="comment">// å¿…é¡»è¦å®ç°ï¼Œå› ä¸ºå…¶çˆ¶ç±»çš„ requiredï¼Œå¦åˆ™ç¼–è¯‘å™¨æŠ¥é”™</span></div><div class="line">  <span class="keyword">override</span> <span class="keyword">required</span> <span class="keyword">init</span>(firstName: <span class="type">String</span>, lastName: <span class="type">String</span>) &#123;</div><div class="line">    <span class="keyword">self</span>.sports = []</div><div class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(firstName: firstName, lastName: lastName)</div><div class="line">  &#125;</div><div class="line">  </div><div class="line">  <span class="keyword">init</span>(firstName: <span class="type">String</span>, lastName: <span class="type">String</span>, sports: [<span class="type">String</span>]) &#123;</div><div class="line">    <span class="keyword">self</span>.sports = sports</div><div class="line">    </div><div class="line">    <span class="keyword">let</span> passGrade = <span class="type">Grade</span>(letter: <span class="string">"P"</span>, points: <span class="number">0.0</span>, credits: <span class="number">0.0</span>)</div><div class="line">    </div><div class="line">    <span class="comment">//å¿…é¡»åœ¨åˆå§‹åŒ–æ‰€æœ‰å±æ€§åè°ƒç”¨super.init</span></div><div class="line">    <span class="keyword">super</span>.<span class="keyword">init</span>(firstName: firstName, lastName: lastName)</div><div class="line">    </div><div class="line">    recordGrade(passGrade)</div><div class="line">  &#125;</div><div class="line">  </div><div class="line">  <span class="comment">//é‡å†™</span></div><div class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">recordGrade</span><span class="params">(grade: Grade)</span></span> &#123;</div><div class="line">    <span class="keyword">var</span> newFailedClasses: [<span class="type">Grade</span>] = []</div><div class="line">    <span class="keyword">for</span> grade <span class="keyword">in</span> grades &#123;</div><div class="line">      <span class="keyword">if</span> grade.letter == <span class="string">"F"</span> &#123;</div><div class="line">        newFailedClasses.append(grade)</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">   	failedClasses = newFailedClasses</div><div class="line">   	<span class="keyword">super</span>.recordGrade(grade)</div><div class="line">  &#125;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">athleteIsEligible</span><span class="params">()</span></span> -&gt; <span class="type">Bool</span> &#123;</div><div class="line">    <span class="keyword">return</span> failedClasses.<span class="built_in">count</span> &lt; <span class="number">3</span></div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//final é˜»æ­¢ç»§æ‰¿æˆ–é‡å†™</span></div><div class="line"></div><div class="line"><span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span>: <span class="title">Person</span> </span>&#123;</div><div class="line">	<span class="comment">//...</span></div><div class="line">&#125;</div><div class="line"><span class="comment">// Build error!</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">StudentAthlete</span>: <span class="title">Student</span> </span>&#123;</div><div class="line">	<span class="comment">//...</span></div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>: <span class="title">Person</span> </span>&#123;</div><div class="line">  <span class="keyword">final</span> <span class="function"><span class="keyword">func</span> <span class="title">recordGrade</span><span class="params">(grade: Grade)</span></span> &#123;</div><div class="line">	<span class="comment">//...</span></div><div class="line">  &#125; </div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">StudentAthlete</span>: <span class="title">Student</span> </span>&#123;</div><div class="line">  <span class="comment">// Build error!</span></div><div class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">recordGrade</span><span class="params">(grade: Grade)</span></span> &#123;</div><div class="line">  	<span class="comment">//...</span></div><div class="line">  &#125; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>Swiftä¸­çš„æ„é€ æ–¹æ³•åˆ†ä¸º<code>designated</code>æ„é€ æ–¹æ³•ä¸<code>convenience</code>æ„é€ æ–¹æ³•ä¸¤ç±»</li>
</ul>
<ul>
<li><code>designated</code>æ„é€ æ–¹æ³•ä¹Ÿè¢«ç§°ä¸º<strong>æŒ‡å®šæ„é€ æ–¹æ³•</strong>ï¼Œ<code>convenience</code>æ„é€ æ–¹æ³•ä¹Ÿè¢«ç§°ä¸º<strong>æ–¹ä¾¿æ„é€ æ–¹æ³•</strong>ã€‚</li>
</ul>
<ul>
<li><code>designated</code>æ„é€ æ–¹æ³•ä¸åŠ ä»»ä½•ä¿®é¥°å…³é”®å­—ï¼Œ<code>convenience</code>æ„é€ æ–¹æ³•éœ€è¦ä½¿ç”¨<code>convenience</code>å…³é”®å­—è¿›è¡Œä¿®é¥°ã€‚<ul>
<li>å­ç±»<code>designated</code>æ„é€ æ–¹æ³•ä¸­å¿…é¡»è°ƒç”¨çˆ¶ç±»çš„<code>designated</code>æ„é€ æ–¹æ³•ã€‚</li>
<li><code>convenience</code>æ„é€ æ–¹æ³•ä¸­å¿…é¡»è°ƒç”¨å½“å‰ç±»çš„æ„é€ æ–¹æ³•ã€‚</li>
<li><code>convenience</code>æ„é€ æ–¹æ³•å½’æ ¹ç»“åº•è¦è°ƒç”¨åˆ°<code>designated</code>æ„é€ æ–¹æ³•ã€‚</li>
</ul>
</li>
</ul>
<p><img src="/images/designated_convenience.png" alt="designated &amp; convenience"></p>
<h2 id="æšä¸¾"><a href="#æšä¸¾" class="headerlink" title="æšä¸¾"></a>æšä¸¾</h2><h3 id="åˆ›å»º-1"><a href="#åˆ›å»º-1" class="headerlink" title="åˆ›å»º"></a>åˆ›å»º</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Month</span> </span>&#123;</div><div class="line">  <span class="keyword">case</span> <span class="type">January</span></div><div class="line">  <span class="keyword">case</span> <span class="type">February</span></div><div class="line">  <span class="keyword">case</span> <span class="type">March</span></div><div class="line">  <span class="keyword">case</span> <span class="type">April</span></div><div class="line">  <span class="keyword">case</span> <span class="type">May</span></div><div class="line">  <span class="keyword">case</span> <span class="type">June</span></div><div class="line">  <span class="keyword">case</span> <span class="type">July</span></div><div class="line">  <span class="keyword">case</span> <span class="type">August</span></div><div class="line">  <span class="keyword">case</span> <span class="type">September</span></div><div class="line">  <span class="keyword">case</span> <span class="type">October</span></div><div class="line">  <span class="keyword">case</span> <span class="type">November</span></div><div class="line">  <span class="keyword">case</span> <span class="type">December</span></div><div class="line">&#125;</div><div class="line"><span class="comment">//ç­‰ä»·äº</span></div><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Month</span> </span>&#123;</div><div class="line">  <span class="keyword">case</span> <span class="type">January</span>, <span class="type">February</span>, <span class="type">March</span>, <span class="type">April</span>, <span class="type">May</span>, <span class="type">June</span>, <span class="type">July</span>, <span class="type">August</span>,</div><div class="line">      <span class="type">September</span>, <span class="type">October</span>, <span class="type">November</span>, <span class="type">December</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//æ—¢ç„¶ç¼–è¯‘å™¨å·²çŸ¥æ™“ç±»å‹ï¼Œå¯çœæ‰ç±»å‹</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">schoolSemester</span><span class="params">(month: Month)</span></span> -&gt; <span class="type">String</span> &#123;</div><div class="line">  <span class="keyword">switch</span> month &#123;</div><div class="line">  <span class="keyword">case</span> .<span class="type">August</span>, .<span class="type">September</span>, .<span class="type">October</span>, .<span class="type">November</span>, .<span class="type">December</span>:</div><div class="line">    <span class="keyword">return</span> <span class="string">"Autumn"</span></div><div class="line">  <span class="keyword">case</span> .<span class="type">January</span>, .<span class="type">February</span>, .<span class="type">March</span>, .<span class="type">April</span>, .<span class="type">May</span>:</div><div class="line">    <span class="keyword">return</span> <span class="string">"Spring"</span></div><div class="line">  <span class="keyword">default</span>:</div><div class="line">    <span class="keyword">return</span> <span class="string">"Not in the school year"</span></div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> month = <span class="type">Month</span>.<span class="type">April</span></div><div class="line">month = .<span class="type">September</span></div><div class="line">schoolSemester(month) <span class="comment">// "Autumn"</span></div></pre></td></tr></table></figure>
<h3 id="Raw-values"><a href="#Raw-values" class="headerlink" title="Raw values"></a>Raw values</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Month</span>: <span class="title">Int</span> </span>&#123;</div><div class="line">  <span class="keyword">case</span> <span class="type">January</span> = <span class="number">1</span>, <span class="type">February</span> = <span class="number">2</span>, <span class="type">March</span> = <span class="number">3</span>, <span class="type">April</span> = <span class="number">4</span>, <span class="type">May</span> = <span class="number">5</span>,</div><div class="line">  	   <span class="type">June</span> = <span class="number">6</span>, <span class="type">July</span> = <span class="number">7</span>, <span class="type">August</span> = <span class="number">8</span>, <span class="type">September</span> = <span class="number">9</span>,</div><div class="line">	   <span class="type">October</span> = <span class="number">10</span>, <span class="type">November</span> = <span class="number">11</span>, <span class="type">December</span> = <span class="number">12</span></div><div class="line">&#125;</div><div class="line"><span class="comment">//ç­‰ä»·äº</span></div><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Month</span>: <span class="title">Int</span> </span>&#123;</div><div class="line">  <span class="keyword">case</span> <span class="type">January</span> = <span class="number">1</span>, <span class="type">February</span>, <span class="type">March</span>, <span class="type">April</span>, <span class="type">May</span>, <span class="type">June</span>, <span class="type">July</span>,</div><div class="line">  	   <span class="type">August</span>, <span class="type">September</span>, <span class="type">October</span>, <span class="type">November</span>, <span class="type">December</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//è®¿é—® raw value</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">monthsUntilWinterBreak</span><span class="params">(month: Month)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">  <span class="keyword">return</span> <span class="type">Month</span>.<span class="type">December</span>.rawValue - month.rawValue</div><div class="line">&#125;</div><div class="line">monthsUntilWinterBreak(.<span class="type">April</span>) <span class="comment">// 8</span></div><div class="line"></div><div class="line"><span class="comment">//ç”¨ raw value åˆå§‹åŒ–</span></div><div class="line"><span class="comment">//Month(rawValue: 5) è¿”å› Option ç±»å‹ï¼Œéœ€è¦è§£åŒ…</span></div><div class="line"><span class="keyword">if</span> <span class="keyword">let</span> fifthMonth = <span class="type">Month</span>(rawValue: <span class="number">5</span>) &#123;</div><div class="line">  monthsUntilWinterBreak(fifthMonth)  <span class="comment">// 7</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//éé€’å¢çš„æšä¸¾</span></div><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Coin</span>: <span class="title">Int</span> </span>&#123;</div><div class="line">  <span class="keyword">case</span> <span class="type">Penny</span> = <span class="number">1</span></div><div class="line">  <span class="keyword">case</span> <span class="type">Nickel</span> = <span class="number">5</span></div><div class="line">  <span class="keyword">case</span> <span class="type">Dime</span> = <span class="number">10</span></div><div class="line">  <span class="keyword">case</span> <span class="type">Quarter</span> = <span class="number">25</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> coin = <span class="type">Coin</span>.<span class="type">Quarter</span></div><div class="line">coin.rawValue <span class="comment">// 25</span></div></pre></td></tr></table></figure>
<h3 id="Associated-values"><a href="#Associated-values" class="headerlink" title="Associated values"></a>Associated values</h3><ul>
<li>æ¯ä¸ªæšä¸¾ case å¯ä»¥æœ‰0ä¸ªæˆ–å¤šä¸ªå…³è”å€¼ï¼ˆAssociated valuesï¼‰</li>
<li>æ¯ä¸ªæšä¸¾ caseçš„å…³è”å€¼éƒ½å¯ä»¥æœ‰è‡ªå·±çš„æ•°æ®ç±»å‹</li>
<li>å¯ä»¥åƒå‘½åå‡½æ•°å‚æ•°é‚£æ ·å‘½åå…³è”å€¼</li>
<li>ä¸€ä¸ªæšä¸¾ä¸èƒ½åŒæ—¶æœ‰ Raw values æˆ– Associated values</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> balance = <span class="number">100</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">WithdrawalResult</span> </span>&#123;</div><div class="line">  <span class="keyword">case</span> <span class="type">Success</span>(<span class="type">Int</span>)</div><div class="line">  <span class="keyword">case</span> <span class="type">Error</span>(<span class="type">String</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">withdraw</span><span class="params">(amount: Int)</span></span> -&gt; <span class="type">WithdrawalResult</span> &#123;</div><div class="line"> <span class="keyword">if</span> amount &lt;= balance &#123;</div><div class="line">   balance -= amount</div><div class="line">   <span class="keyword">return</span> .<span class="type">Success</span>(balance)</div><div class="line"> &#125; <span class="keyword">else</span> &#123;</div><div class="line">   <span class="keyword">return</span> .<span class="type">Error</span>(<span class="string">"Not enough money!"</span>)</div><div class="line"> &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> result = withdraw(<span class="number">99</span>)</div><div class="line"><span class="keyword">switch</span> result &#123;</div><div class="line"><span class="keyword">case</span> <span class="keyword">let</span> .<span class="type">Success</span>(newBalance):</div><div class="line">  <span class="built_in">print</span>(<span class="string">"Your new balance is: <span class="subst">\(newBalance)</span>"</span>)</div><div class="line"><span class="keyword">case</span> <span class="keyword">let</span> .<span class="type">Error</span>(message):</div><div class="line">  <span class="built_in">print</span>(message)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">HTTPMethod</span> </span>&#123;</div><div class="line">  <span class="keyword">case</span> <span class="type">GET</span></div><div class="line">  <span class="keyword">case</span> <span class="type">POST</span>(<span class="type">String</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//æšä¸¾å¯ä»¥ç”¨ä½œçŠ¶æ€æœº(state machine)</span></div><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">TrafficLight</span> </span>&#123;</div><div class="line">  <span class="keyword">case</span> <span class="type">Red</span>, <span class="type">Yellow</span>, <span class="type">Green</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> trafficLight = <span class="type">TrafficLight</span>.<span class="type">Red</span></div></pre></td></tr></table></figure>
<h3 id="Optionals-1"><a href="#Optionals-1" class="headerlink" title="Optionals"></a>Optionals</h3><p><strong>Optionals å°±æ˜¯æšä¸¾ç±»å‹</strong></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//ä¸ç”¨ `ï¼Ÿ` å£°æ˜ Optional ç±»å‹</span></div><div class="line"><span class="keyword">let</span> email: <span class="type">Optional</span>&lt;<span class="type">String</span>&gt; = .<span class="type">None</span>  <span class="comment">//.None è¡¨ç¤ºä¸ºæ²¡æœ‰å€¼ nil</span></div><div class="line"><span class="keyword">let</span> website: <span class="type">Optional</span>&lt;<span class="type">String</span>&gt; = .<span class="type">Some</span>(<span class="string">"docoder.com"</span>)  <span class="comment">//.Some è¡¨ç¤ºæœ‰å€¼ï¼Œä¸ºå…³è”å€¼(Associated values)</span></div><div class="line"></div><div class="line"><span class="keyword">switch</span> website &#123;</div><div class="line"><span class="keyword">case</span> .<span class="type">None</span>:</div><div class="line">  <span class="built_in">print</span>(<span class="string">"No value"</span>)</div><div class="line"><span class="keyword">case</span> <span class="keyword">let</span> .<span class="type">Some</span>(value):</div><div class="line">  <span class="built_in">print</span>(<span class="string">"Got a value: <span class="subst">\(value)</span>"</span>)</div><div class="line">&#125;</div><div class="line"><span class="comment">//&gt; Got a value: docoder.com</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> optionalNil: <span class="type">Optional</span>&lt;<span class="type">Int</span>&gt; = .<span class="type">None</span></div><div class="line">optionalNil == <span class="literal">nil</span>    <span class="comment">// true</span></div><div class="line">optionalNil == .<span class="type">None</span>  <span class="comment">// true</span></div></pre></td></tr></table></figure>
<h2 id="å±æ€§-Properties"><a href="#å±æ€§-Properties" class="headerlink" title="å±æ€§ (Properties)"></a>å±æ€§ (Properties)</h2><h3 id="å­˜å‚¨å±æ€§"><a href="#å­˜å‚¨å±æ€§" class="headerlink" title="å­˜å‚¨å±æ€§"></a>å­˜å‚¨å±æ€§</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Type</span> </span>&#123;</div><div class="line">  <span class="keyword">case</span> <span class="type">Work</span>, <span class="type">Family</span>, <span class="type">Friend</span></div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Contact</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> fullName: <span class="type">String</span></div><div class="line">  <span class="keyword">let</span> emailAddress: <span class="type">String</span></div><div class="line">  <span class="keyword">var</span> type: <span class="type">Type</span> = .<span class="type">Friend</span> <span class="comment">//é»˜è®¤å€¼ä¸º .Friend</span></div><div class="line">&#125;</div><div class="line"><span class="comment">//è™½ç„¶æœ‰é»˜è®¤å€¼ï¼Œä½†é»˜è®¤è‡ªåŠ¨ç”Ÿæˆçš„æ„é€ æ–¹æ³•ä¾ç„¶è¦å¯¹æ¯ä¸ªå±æ€§èµ‹å€¼ï¼Œé™¤éè‡ªå®šä¹‰æ„é€ æ–¹æ³•ã€‚</span></div></pre></td></tr></table></figure>
<h3 id="è®¡ç®—å±æ€§"><a href="#è®¡ç®—å±æ€§" class="headerlink" title="è®¡ç®—å±æ€§"></a>è®¡ç®—å±æ€§</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">TV</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> height: <span class="type">Double</span></div><div class="line">  <span class="keyword">var</span> width: <span class="type">Double</span></div><div class="line">  <span class="comment">// è®¡ç®—å±æ€§</span></div><div class="line">  <span class="keyword">var</span> diagonal: <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">let</span> aSquared = pow(height, <span class="number">2</span>)</div><div class="line">    <span class="keyword">let</span> bSquared = pow(width, <span class="number">2</span>)</div><div class="line">    <span class="keyword">let</span> cSquared = aSquared + bSquared</div><div class="line">    <span class="keyword">let</span> <span class="built_in">c</span> = sqrt(cSquared)</div><div class="line">    <span class="keyword">let</span> rounded = round(<span class="built_in">c</span>)</div><div class="line">    <span class="keyword">return</span> <span class="type">Int</span>(rounded)</div><div class="line">  &#125; </div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> tv = <span class="type">TV</span>(height: <span class="number">53.93</span>, width: <span class="number">95.87</span>)</div><div class="line"><span class="keyword">let</span> size = tv.diagonal <span class="comment">// 110</span></div><div class="line"></div><div class="line">tv.width = <span class="number">53.93</span></div><div class="line"><span class="keyword">let</span> diagonal = tv.diagonal <span class="comment">// 76</span></div></pre></td></tr></table></figure>
<h3 id="Getter-and-setter"><a href="#Getter-and-setter" class="headerlink" title="Getter and setter"></a>Getter and setter</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">TV</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> height: <span class="type">Double</span></div><div class="line">  <span class="keyword">var</span> width: <span class="type">Double</span></div><div class="line">  <span class="keyword">var</span> diagonal: <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">get</span> &#123;</div><div class="line">      <span class="keyword">return</span> <span class="type">Int</span>(round(sqrt(height * height + width * width)))</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">set</span> &#123;</div><div class="line">      <span class="keyword">let</span> ratioWidth: <span class="type">Double</span> = <span class="number">16</span></div><div class="line">      <span class="keyword">let</span> ratioHeight: <span class="type">Double</span> = <span class="number">9</span></div><div class="line">      </div><div class="line">      <span class="comment">//newValue å…³é”®å­— ä¸º set æ–¹æ³•ä¼ è¿›çš„å€¼</span></div><div class="line">      height = <span class="type">Double</span>(newValue) * ratioHeight / sqrt(ratioWidth * ratioWidth + ratioHeight * ratioHeight)</div><div class="line">      width = height * ratioWidth / ratioHeight</div><div class="line">    &#125; </div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">tv.diagonal = <span class="number">70</span></div><div class="line"><span class="keyword">let</span> height = tv.height <span class="comment">// 34.32...</span></div><div class="line"><span class="keyword">let</span> width = tv.width <span class="comment">// 61.01...</span></div></pre></td></tr></table></figure>
<h3 id="Type-properties-é™æ€å±æ€§"><a href="#Type-properties-é™æ€å±æ€§" class="headerlink" title="Type properties (é™æ€å±æ€§)"></a>Type properties (é™æ€å±æ€§)</h3><p>ç”¨ <code>static</code> ä¿®é¥°çš„å±æ€§ä¸º <strong>Type properties</strong>ï¼Œç±»å‹æœ¬èº«çš„å±æ€§ï¼Œå¯ä»¥è·¨æ‰€æœ‰å®ä¾‹ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Level</span> </span>&#123;</div><div class="line">  <span class="keyword">static</span> <span class="keyword">var</span> highestLevel = <span class="number">1</span></div><div class="line">  <span class="keyword">let</span> id: <span class="type">Int</span></div><div class="line">  <span class="keyword">var</span> boss: <span class="type">String</span></div><div class="line">  <span class="keyword">var</span> unlocked: <span class="type">Bool</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// Error: you can't access a type property on an instance</span></div><div class="line"><span class="keyword">let</span> highestLevel = level3.highestLevel <span class="comment">//ä¸èƒ½ç”¨å®ä¾‹è®¿é—®</span></div><div class="line"><span class="comment">// å¿…é¡»ç”¨ç±»å‹åè®¿é—®</span></div><div class="line"><span class="keyword">let</span> highestLevel = <span class="type">Level</span>.highestLevel <span class="comment">// 1</span></div></pre></td></tr></table></figure>
<h3 id="å•ä¾‹"><a href="#å•ä¾‹" class="headerlink" title="å•ä¾‹"></a>å•ä¾‹</h3><p>å£°æ˜å•ä¾‹è¦ç”¨å¼•ç”¨ç±»å‹çš„ <code>class</code> ,è€Œä¸èƒ½ç”¨å€¼ç±»å‹çš„ <code>struct</code> ,å¦åˆ™ä¸èƒ½ä¿®æ”¹å…¶å±æ€§</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">GameManager</span> </span>&#123;</div><div class="line">  <span class="comment">// ç”¨ let ä¿®é¥°çš„ Type properties (static) å¸¸é‡ æ¥å­˜å‚¨ è¿™ä¸ªå•ä¸€å®ä¾‹</span></div><div class="line">  <span class="keyword">static</span> <span class="keyword">let</span> defaultManager = <span class="type">GameManager</span>()</div><div class="line">  <span class="keyword">var</span> gameScore = <span class="number">0</span></div><div class="line">  <span class="keyword">var</span> saveState = <span class="number">0</span></div><div class="line">  <span class="comment">// private ä¿®é¥°æ„é€ æ–¹æ³•ï¼Œä½¿ä¹‹ä¸èƒ½è®¿é—®ï¼Œä¸èƒ½å†æ„é€ å…¶ä»–å®ä¾‹</span></div><div class="line">  <span class="keyword">private</span> <span class="keyword">init</span>() &#123;&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Property-observers"><a href="#Property-observers" class="headerlink" title="Property observers"></a>Property observers</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Level</span> </span>&#123;</div><div class="line">  <span class="keyword">static</span> <span class="keyword">var</span> highestLevel = <span class="number">1</span></div><div class="line">  <span class="keyword">let</span> id: <span class="type">Int</span></div><div class="line">  <span class="keyword">var</span> boss: <span class="type">String</span></div><div class="line">  <span class="keyword">var</span> unlocked: <span class="type">Bool</span> &#123;</div><div class="line">  	<span class="comment">//didSetï¼Œå±æ€§è®¾å€¼åè°ƒç”¨</span></div><div class="line">    <span class="keyword">didSet</span> &#123;</div><div class="line">      <span class="keyword">if</span> unlocked &amp;&amp; id &gt; <span class="type">Level</span>.highestLevel &#123;</div><div class="line">        <span class="type">Level</span>.highestLevel = id</div><div class="line">      &#125;</div><div class="line">	&#125; </div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">LightBulb</span> </span>&#123;</div><div class="line">  <span class="keyword">static</span> <span class="keyword">let</span> maxCurrent = <span class="number">40</span></div><div class="line">  <span class="keyword">var</span> currentCurrent = <span class="number">0</span> &#123;</div><div class="line">  	<span class="comment">//ç”¨ didSet é™åˆ¶å±æ€§çš„å–å€¼</span></div><div class="line">    <span class="keyword">didSet</span> &#123;</div><div class="line">      <span class="keyword">if</span> currentCurrent &gt; <span class="type">LightBulb</span>.maxCurrent &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"Current too high, falling back to previous setting."</span>)</div><div class="line">        </div><div class="line">        <span class="comment">//oldValue å…³é”®å­— ä¸º didSet æä¾›çš„ï¼Œå¯ä»¥è®¿é—®è®¾å€¼ä¹‹å‰çš„å€¼</span></div><div class="line">        currentCurrent = oldValue</div><div class="line">      &#125;</div><div class="line">	&#125; </div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> light = <span class="type">LightBulb</span>()</div><div class="line">light.currentCurrent = <span class="number">50</span></div><div class="line"><span class="keyword">var</span> current = light.currentCurrent <span class="comment">// 0</span></div><div class="line">light.currentCurrent = <span class="number">40</span></div><div class="line">current = light.currentCurrent <span class="comment">// 40</span></div></pre></td></tr></table></figure>
<h3 id="æ‡’åŠ è½½ï¼ˆLazy-propertiesï¼‰"><a href="#æ‡’åŠ è½½ï¼ˆLazy-propertiesï¼‰" class="headerlink" title="æ‡’åŠ è½½ï¼ˆLazy propertiesï¼‰"></a>æ‡’åŠ è½½ï¼ˆLazy propertiesï¼‰</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Circle</span> </span>&#123;</div><div class="line">  </div><div class="line">  <span class="comment">//lazy çš„ä¿®é¥°ï¼Œä½¿ pi è¿™ä¸ªç«‹å³æ‰§è¡Œçš„ closure æ²¡æœ‰è¿›è¡Œå®é™…è®¡ç®—ï¼Œç›´åˆ°ç¬¬ä¸€æ¬¡è¢«è®¿é—®æ—¶æ‰å¯¹å…¶è®¡ç®—ã€‚</span></div><div class="line">  <span class="comment">//lazy å±æ€§å¿…é¡»ä¸ºå˜é‡ï¼Œå³ï¼Œç”¨ var ä¿®é¥°ï¼Œè€Œä¸èƒ½ç”¨ let ä¿®é¥°</span></div><div class="line">  <span class="built_in">lazy</span> <span class="keyword">var</span> pi = &#123;</div><div class="line">    <span class="keyword">return</span> ((<span class="number">4.0</span> * atan(<span class="number">1.0</span> / <span class="number">5.0</span>)) - atan(<span class="number">1.0</span> / <span class="number">239.0</span>)) * <span class="number">4.0</span></div><div class="line">  &#125;() <span class="comment">//closure åé¢æœ‰`()`,è¡¨ç¤ºç«‹å³æ‰§è¡Œ</span></div><div class="line">    </div><div class="line">  <span class="keyword">var</span> radius: <span class="type">Double</span> = <span class="number">0</span></div><div class="line">  <span class="keyword">var</span> circumference: <span class="type">Double</span> &#123;</div><div class="line">    <span class="keyword">return</span> pi * radius * <span class="number">2</span></div><div class="line">  &#125;</div><div class="line">  <span class="keyword">init</span> (radius: <span class="type">Double</span>) &#123;</div><div class="line">    <span class="keyword">self</span>.radius = radius</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> circle = <span class="type">Circle</span>(radius: <span class="number">5</span>) <span class="comment">// å®ä¾‹åŒ–ä¸€ä¸ª Circle, æ­¤æ—¶ pi è¿˜æ²¡æ‰§è¡Œ</span></div><div class="line"></div><div class="line"><span class="comment">// pi ç°åœ¨æœ‰å€¼äº†</span></div><div class="line"><span class="keyword">let</span> circumference = circle.circumference <span class="comment">// 31.42</span></div></pre></td></tr></table></figure>
<h2 id="æ–¹æ³•-Methods"><a href="#æ–¹æ³•-Methods" class="headerlink" title="æ–¹æ³•(Methods)"></a>æ–¹æ³•(Methods)</h2><h3 id="Function-è½¬ä¸º-Method"><a href="#Function-è½¬ä¸º-Method" class="headerlink" title="Function è½¬ä¸º Method"></a>Function è½¬ä¸º Method</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Month</span>: <span class="title">Int</span> </span>&#123;</div><div class="line">  <span class="keyword">case</span> <span class="type">January</span> = <span class="number">1</span>, <span class="type">February</span>, <span class="type">March</span>, <span class="type">April</span>, <span class="type">May</span>, <span class="type">June</span>, <span class="type">July</span>,</div><div class="line">  	   <span class="type">August</span>, <span class="type">September</span>, <span class="type">October</span>, <span class="type">November</span>, <span class="type">December</span></div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">monthsUntilWinterBreak</span><span class="params">(month: Month)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">  <span class="keyword">return</span> <span class="type">Month</span>.<span class="type">December</span>.rawValue - month.rawValue</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//è½¬æ¢ä¸ºï¼š</span></div><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Month</span>: <span class="title">Int</span> </span>&#123;</div><div class="line">  <span class="keyword">case</span> <span class="type">January</span> = <span class="number">1</span>, <span class="type">February</span>, <span class="type">March</span>, <span class="type">April</span>, <span class="type">May</span>, <span class="type">June</span>,</div><div class="line">    <span class="type">July</span>, <span class="type">August</span>, <span class="type">September</span>, <span class="type">October</span>, <span class="type">November</span>, <span class="type">December</span></div><div class="line">    </div><div class="line">  <span class="comment">//æšä¸¾ä¸­çš„Methodï¼Œæ¯”ä¹‹å‰çš„ function æ›´åˆç†</span></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">monthsUntilWinterBreak</span><span class="params">()</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="type">Month</span>.<span class="type">December</span>.rawValue - <span class="keyword">self</span>.rawValue</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> month = <span class="type">Month</span>.<span class="type">October</span></div><div class="line"><span class="keyword">let</span> monthsLeft = month.monthsUntilWinterBreak() <span class="comment">// 2</span></div></pre></td></tr></table></figure>
<h3 id="æ„é€ æ–¹æ³•-Initializers"><a href="#æ„é€ æ–¹æ³•-Initializers" class="headerlink" title="æ„é€ æ–¹æ³•(Initializers)"></a>æ„é€ æ–¹æ³•(Initializers)</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Month</span>: <span class="title">Int</span> </span>&#123;</div><div class="line">  <span class="keyword">case</span> <span class="type">January</span> = <span class="number">1</span>, <span class="type">February</span>, <span class="type">March</span>, <span class="type">April</span>, <span class="type">May</span>, <span class="type">June</span>,</div><div class="line">    <span class="type">July</span>, <span class="type">August</span>, <span class="type">September</span>, <span class="type">October</span>, <span class="type">November</span>, <span class="type">December</span></div><div class="line">  </div><div class="line">  <span class="comment">//æ„é€ æ–¹æ³•ä¸éœ€è¦ func å…³é”®å­—å’Œå‘½å</span></div><div class="line">  <span class="keyword">init</span>() &#123;</div><div class="line">    <span class="keyword">self</span> = .<span class="type">January</span></div><div class="line">  &#125;</div><div class="line">  </div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">monthsUntilWinterBreak</span><span class="params">()</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="type">Month</span>.<span class="type">December</span>.rawValue - <span class="keyword">self</span>.rawValue</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> month = <span class="type">Month</span>() <span class="comment">// January</span></div><div class="line"><span class="keyword">let</span> monthsLeft = month.monthsUntilWinterBreak() <span class="comment">// 11</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Date</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> month: <span class="type">Month</span></div><div class="line">  <span class="keyword">var</span> day: <span class="type">Int</span></div><div class="line">  <span class="comment">//è‡ªå®šä¹‰æ„é€ æ–¹æ³•åï¼Œé»˜è®¤æ„é€ æ–¹æ³•å°†æ— æ•ˆ</span></div><div class="line">  <span class="keyword">init</span>() &#123;</div><div class="line">    month = .<span class="type">January</span></div><div class="line">	day = <span class="number">1</span> </div><div class="line">  &#125;</div><div class="line"> <span class="comment">//å¦‚æœä¸é‡è½½æ­¤æ„é€ æ–¹æ³•ï¼Œå°†ä¸èƒ½è°ƒç”¨ Date(month: , day: )</span></div><div class="line">  <span class="keyword">init</span>(month: <span class="type">Month</span>, day: <span class="type">Int</span>) &#123;</div><div class="line">    <span class="keyword">self</span>.month = month</div><div class="line">    <span class="keyword">self</span>.day = day</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> date = <span class="type">Date</span>(month: .<span class="type">February</span>, day: <span class="number">14</span>)</div><div class="line"><span class="keyword">let</span> dateMonth = date.month <span class="comment">// February</span></div><div class="line"><span class="keyword">let</span> dateDay = date.day <span class="comment">// 14</span></div></pre></td></tr></table></figure>
<h3 id="Mutating-methods"><a href="#Mutating-methods" class="headerlink" title="Mutating methods"></a>Mutating methods</h3><p>ç»“æ„ä½“æœ‰ä¸ªé™åˆ¶ï¼ˆå› ä¸ºç»“æ„ä½“ä¸ºå€¼ç±»å‹ï¼‰ï¼Œå…¶æˆå‘˜æ–¹æ³• method ä¸èƒ½æ”¹å˜å…¶æˆå‘˜å±æ€§ï¼Œé™¤éç”¨ <code>mutating</code> ä¿®é¥°æ­¤ method</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Date</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> month: <span class="type">Month</span></div><div class="line">  <span class="keyword">var</span> day: <span class="type">Int</span></div><div class="line">  </div><div class="line">  <span class="comment">//ç”¨ mutating ä¿®é¥°ï¼Œæ­¤æ–¹æ³•æ‰èƒ½ä¿®æ”¹å±æ€§</span></div><div class="line">  <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">advance</span><span class="params">()</span></span> &#123;</div><div class="line">	day += <span class="number">1</span> </div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Type-methods-é™æ€æ–¹æ³•"><a href="#Type-methods-é™æ€æ–¹æ³•" class="headerlink" title="Type methods (é™æ€æ–¹æ³•)"></a>Type methods (é™æ€æ–¹æ³•)</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Utils</span> </span>&#123;</div><div class="line">  <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">factorial</span><span class="params">(number: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">return</span> (<span class="number">1</span>...number).<span class="built_in">reduce</span>(<span class="number">1</span>, combine: *)</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> factorial = <span class="type">Utils</span>.factorial(<span class="number">6</span>) <span class="comment">// 720</span></div></pre></td></tr></table></figure>
<h2 id="åè®®-Protocols"><a href="#åè®®-Protocols" class="headerlink" title="åè®® (Protocols)"></a>åè®® (Protocols)</h2><h3 id="å®šä¹‰åè®®"><a href="#å®šä¹‰åè®®" class="headerlink" title="å®šä¹‰åè®®"></a>å®šä¹‰åè®®</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Direction</span> </span>&#123;</div><div class="line">  <span class="keyword">case</span> <span class="type">Left</span></div><div class="line">  <span class="keyword">case</span> <span class="type">Right</span> </div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Vehicle</span> </span>&#123;</div><div class="line">  <span class="comment">//åè®®ä¸­ä¸èƒ½è®¾ç½®ä»»ä½• å¦‚ private, internal æˆ– public çš„è®¿é—®æ§åˆ¶</span></div><div class="line">  </div><div class="line">  <span class="comment">//å¯ä»¥å®šä¹‰å±æ€§ï¼Œä½†å¿…é¡»è¦æ ‡æ˜ get, setï¼Œè·Ÿè®¡ç®—å±æ€§ç±»ä¼¼ï¼Œä½†ä¸èƒ½æœ‰ä»»ä½•å®ç°</span></div><div class="line">  <span class="keyword">var</span> weight: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">  <span class="keyword">var</span> name: <span class="type">String</span> &#123; <span class="keyword">get</span> <span class="keyword">set</span> &#125;</div><div class="line">  </div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">accelerate</span><span class="params">()</span></span></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">stop</span><span class="params">()</span></span></div><div class="line">  </div><div class="line">  <span class="comment">//åè®®ä¸­ä¸èƒ½æœ‰å¯¹äºæ–¹æ³•çš„ä»»ä½•å®ç°ä»£ç </span></div><div class="line">  <span class="comment">//æ•…ï¼Œä¸èƒ½å†™æˆ func turn(direction: Direction = .Left)</span></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">turn</span><span class="params">(direction: Direction)</span></span></div><div class="line">  <span class="comment">//å¦‚æœè¦å®ç°å¯é€‰å‚æ•°ï¼Œåˆ™éœ€è¦å†™é‡è½½çš„æ–¹æ³•ï¼Œå¦‚ä¸‹ï¼š</span></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">turn</span><span class="params">()</span></span></div><div class="line">  </div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">description</span><span class="params">()</span></span> -&gt; <span class="type">String</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="åè®®ç»§æ‰¿"><a href="#åè®®ç»§æ‰¿" class="headerlink" title="åè®®ç»§æ‰¿"></a>åè®®ç»§æ‰¿</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Vehicle</span> </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">accelerate</span><span class="params">()</span></span></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">stop</span><span class="params">()</span></span></div><div class="line">&#125;</div><div class="line"><span class="comment">//åè®® WheeledVehicle ç»§æ‰¿äº†åè®® Vehicle</span></div><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">WheeledVehicle</span>: <span class="title">Vehicle</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> numberOfWheels: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">  <span class="keyword">var</span> wheelSize: <span class="type">Double</span> &#123; <span class="keyword">get</span> <span class="keyword">set</span> &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="å®ç°åè®®"><a href="#å®ç°åè®®" class="headerlink" title="å®ç°åè®®"></a>å®ç°åè®®</h3><p>åè®®å¯ä»¥è¢« <strong>ç±»</strong> , <strong>ç»“æ„ä½“</strong> , <strong>æšä¸¾</strong> æ¥å®ç°</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Wheeled</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> numberOfWheels: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">//ç±»</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ClassyBike</span>: <span class="title">Wheeled</span> </span>&#123;</div><div class="line">  <span class="keyword">let</span> numberOfWheels = <span class="number">2</span></div><div class="line">&#125;</div><div class="line"><span class="comment">//ç»“æ„ä½“</span></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">StructyBike</span>: <span class="title">Wheeled</span> </span>&#123;</div><div class="line">  <span class="keyword">let</span> numberOfWheels = <span class="number">2</span></div><div class="line">&#125;</div><div class="line"><span class="comment">//æšä¸¾</span></div><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">EnummyBike</span>: <span class="title">Wheeled</span> </span>&#123;</div><div class="line">  <span class="keyword">case</span> <span class="type">Mountain</span></div><div class="line">  <span class="keyword">case</span> <span class="type">Road</span></div><div class="line">  <span class="keyword">case</span> <span class="type">Tricycle</span></div><div class="line">  <span class="keyword">var</span> numberOfWheels: <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">switch</span> <span class="keyword">self</span> &#123;</div><div class="line">    <span class="keyword">case</span> <span class="type">Mountain</span>, <span class="type">Road</span>:</div><div class="line">      <span class="keyword">return</span> <span class="number">2</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Tricycle</span>:</div><div class="line">	  <span class="keyword">return</span> <span class="number">3</span> </div><div class="line">	&#125;</div><div class="line">  &#125; </div><div class="line">&#125;</div><div class="line"><span class="comment">// ç±»</span></div><div class="line"><span class="keyword">var</span> wheels: <span class="type">Wheeled</span> = <span class="type">ClassyBike</span>()</div><div class="line">wheels.numberOfWheels <span class="comment">// 2</span></div><div class="line"><span class="comment">// ç»“æ„ä½“</span></div><div class="line">wheels = <span class="type">StructyBike</span>()</div><div class="line">wheels.numberOfWheels <span class="comment">// 2</span></div><div class="line"><span class="comment">// æšä¸¾</span></div><div class="line">wheels = <span class="type">EnummyBike</span>.<span class="type">Tricycle</span></div><div class="line">wheels.numberOfWheels <span class="comment">// 3!</span></div></pre></td></tr></table></figure>
<p>å®ç°åè®®æ–¹æ³•</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Vehicle</span> </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">accelerate</span><span class="params">()</span></span></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">stop</span><span class="params">()</span></span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//ç±» Bike å®ç°äº†åè®® Vehicle</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bike</span>: <span class="title">Vehicle</span> </span>&#123;</div><div class="line"></div><div class="line">  <span class="keyword">var</span> peddling: <span class="type">Bool</span> = <span class="literal">false</span></div><div class="line">  <span class="keyword">var</span> brakesApplied: <span class="type">Bool</span> = <span class="literal">false</span></div><div class="line">  </div><div class="line">  <span class="comment">//å®ç°åè®®æ‰€æœ‰æ–¹æ³•</span></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">accelerate</span><span class="params">()</span></span> &#123;</div><div class="line">    peddling = <span class="literal">true</span></div><div class="line">    brakesApplied = <span class="literal">false</span></div><div class="line">  &#125;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">stop</span><span class="params">()</span></span> &#123;</div><div class="line">    peddling = <span class="literal">false</span></div><div class="line">    brakesApplied = <span class="literal">true</span></div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å®ç°åè®®å±æ€§</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Vehicle</span> </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">accelerate</span><span class="params">()</span></span></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">stop</span><span class="params">()</span></span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">WheeledVehicle</span>: <span class="title">Vehicle</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> numberOfWheels: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">  <span class="keyword">var</span> wheelSize: <span class="type">Double</span> &#123; <span class="keyword">get</span> <span class="keyword">set</span> &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//ç±» Bike å®ç°äº†åè®® WheeledVehicle</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bike</span>: <span class="title">WheeledVehicle</span> </span>&#123;</div><div class="line">  </div><div class="line"> <span class="comment">//ç”¨ è®¡ç®—å±æ€§ å®ç°åè®®æ‰€æœ‰å±æ€§</span></div><div class="line">  <span class="keyword">var</span> numberOfWheels: <span class="type">Int</span> &#123;</div><div class="line"> 	  <span class="keyword">return</span> <span class="number">2</span> </div><div class="line">  &#125;</div><div class="line">  </div><div class="line">  <span class="keyword">private</span> <span class="keyword">var</span> myWheelSize: <span class="type">Double</span> = <span class="number">16.0</span></div><div class="line">  </div><div class="line">  <span class="keyword">var</span> wheelSize: <span class="type">Double</span> &#123;</div><div class="line">    <span class="keyword">get</span> &#123;</div><div class="line">        <span class="keyword">return</span> myWheelSize</div><div class="line">      &#125;</div><div class="line">    <span class="keyword">set</span> &#123;</div><div class="line">        myWheelSize = newValue</div><div class="line">      &#125;</div><div class="line">  &#125; </div><div class="line">&#125;</div><div class="line"><span class="comment">//ç­‰ä»·äº</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bike</span>: <span class="title">WheeledVehicle</span> </span>&#123;</div><div class="line">  <span class="comment">//ä¸è¦æ±‚å¿…é¡»è¦ç”¨è®¡ç®—å±æ€§å®ç°åè®®å±æ€§</span></div><div class="line">  <span class="comment">//æ˜¯è¦å¯¹äºåè®®ç”¨ get ä¿®é¥°çš„å±æ€§ï¼Œç»§æ‰¿åå¯ä»¥è¯»ï¼›ç›¸åº”çš„å¯¹äºåè®®ç”¨ set ä¿®é¥°çš„å±æ€§ï¼Œç»§æ‰¿åå¯ä»¥å†™ï¼Œå³å¯ã€‚</span></div><div class="line">  <span class="keyword">let</span> numberOfWheels = <span class="number">2</span> <span class="comment">//let è¡¨æ˜ åªè¯»</span></div><div class="line">  <span class="keyword">var</span> wheelSize = <span class="number">16.0</span> <span class="comment">//var è¡¨æ˜å¯ è¯»å†™</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Vehicle</span> </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">accelerate</span><span class="params">()</span></span></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">stop</span><span class="params">()</span></span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">WheeledVehicle</span>: <span class="title">Vehicle</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> numberOfWheels: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">  <span class="keyword">var</span> wheelSize: <span class="type">Double</span> &#123; <span class="keyword">get</span> <span class="keyword">set</span> &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bike</span>: <span class="title">WheeledVehicle</span> </span>&#123;</div><div class="line"></div><div class="line">  <span class="comment">//è™½ç„¶åè®® WheeledVehicle ä¸­è¡¨æ˜åªè¯»ï¼Œä½†æ­¤å¤„å¯ä»¥ç”¨ var</span></div><div class="line">  <span class="comment">//ç”¨ var è¡¨æ˜å¯¹äºç±» Bike å¯è¯»å†™</span></div><div class="line">  <span class="keyword">var</span> numberOfWheels = <span class="number">2</span> </div><div class="line">  </div><div class="line">  <span class="keyword">var</span> wheelSize = <span class="number">16.0</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> bike: <span class="type">Bike</span> = <span class="type">Bike</span>()</div><div class="line"><span class="comment">//å¯ä»¥è¯»å†™</span></div><div class="line">bike.numberOfWheels = <span class="number">16</span> <span class="comment">// 16-wheeler!</span></div><div class="line"><span class="keyword">var</span> wheeledBike: <span class="type">WheeledVehicle</span> = bike</div><div class="line"><span class="comment">// æ­¤æ—¶ä¸èƒ½ç»™ wheeledBike çš„ numberOfWheels èµ‹å€¼ï¼Œå› ä¸ºåè®® WheeledVehicle ä¸­ numberOfWheels ä¸º åªè¯»</span></div></pre></td></tr></table></figure>
<h3 id="Typealias"><a href="#Typealias" class="headerlink" title="Typealias"></a>Typealias</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">WeightCalculatable</span> </span>&#123;</div><div class="line">  <span class="comment">//typealias ç±»å‹åˆ«åï¼Œå®ƒå…è®¸å®ç°æ­¤åè®®çš„ç±»ï¼ˆç»“æ„ä½“æˆ–æšä¸¾ï¼‰, å¯ä»¥ä»»æ„æŒ‡å®šå…¶å®é™…ç±»å‹</span></div><div class="line">  <span class="comment">//typealias ä¹ŸåŒæ—¶ä½¿åè®® WeightCalculatable ä¸èƒ½ç”¨äºå£°æ˜å˜é‡ (å› ä¸ºç¼–è¯‘å™¨ä¸çŸ¥æ™“ WeightType çš„å®é™…ç±»å‹), ä»…èƒ½ç”¨äºgeneric constraints(æ³›å‹çº¦æŸ)</span></div><div class="line">  <span class="keyword">typealias</span> <span class="type">WeightType</span></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">calculateWeight</span><span class="params">()</span></span> -&gt; <span class="type">WeightType</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">HeavyThing</span>: <span class="title">WeightCalculatable</span> </span>&#123;</div><div class="line">  <span class="comment">// HeavyThing æŒ‡å®š WeightType ä¸º Int ç±»å‹</span></div><div class="line">  <span class="keyword">typealias</span> <span class="type">WeightType</span> = <span class="type">Int</span></div><div class="line">  </div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">calculateWeight</span><span class="params">()</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">  	<span class="keyword">return</span> <span class="number">100</span> </div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">LightThing</span>: <span class="title">WeightCalculatable</span> </span>&#123;</div><div class="line">  <span class="comment">// LightThing æŒ‡å®š WeightType ä¸º Double ç±»å‹</span></div><div class="line">  <span class="keyword">typealias</span> <span class="type">WeightType</span> = <span class="type">Double</span></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">calculateWeight</span><span class="params">()</span></span> -&gt; <span class="type">Double</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="number">0.0025</span></div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// åè®® WeightCalculatable ä¸èƒ½ç”¨äºå£°æ˜å˜é‡ï¼Œä»…èƒ½ç”¨äºgeneric constraints(æ³›å‹çº¦æŸ)</span></div><div class="line"><span class="keyword">let</span> b: <span class="type">WeightCalculatable</span> = <span class="type">LightThing</span>() <span class="comment">// Build error!</span></div></pre></td></tr></table></figure>
<h3 id="Extensions-1"><a href="#Extensions-1" class="headerlink" title="Extensions"></a>Extensions</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">WhatType</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> typeName: <span class="type">String</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">//ç”¨ extension æ‰©å±•ç±»å‹çš„åè®®ï¼ŒåŒ…æ‹¬åŸå§‹ç±»å‹ä¹Ÿå¯ä»¥æ‰©å±•å…¶åè®®</span></div><div class="line"><span class="comment">//æ­¤ç‰¹å¾å¯ä»¥å…è®¸ä½ ç»™ä½ å®é™…æ— æ³•æ‹¥æœ‰å’Œæ“ä½œçš„ç±»æ·»åŠ åè®®ï¼Œæ‰©å±•åŠŸèƒ½</span></div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">String</span>: <span class="title">WhatType</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> typeName: <span class="type">String</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="string">"I'm a String"</span></div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> myType: <span class="type">String</span> = <span class="string">"Swift Apprentice!"</span></div><div class="line">myType.typeName <span class="comment">// I'm a String</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bike</span> </span>&#123; &#125;</div><div class="line"><span class="comment">//ç”¨ extension å¯ä»¥æ–¹ä¾¿çš„æ·»åŠ ç±»ï¼ˆç»“æ„ä½“æˆ–æšä¸¾ï¼‰çš„åè®®ï¼Œå¢åŠ å…¶åŠŸèƒ½ï¼›ä¹Ÿå¯ä»¥æ–¹ä¾¿çš„åˆ é™¤å…¶åè®®å’ŒåŠŸèƒ½(åªéœ€æŠŠæ•´ä¸ª extension åˆ é™¤å³å¯)</span></div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Bike</span>: <span class="title">Wheeled</span> </span>&#123;</div><div class="line">  <span class="comment">//ä½† æ­¤ç‰¹å¾ ä¸èƒ½å¢åŠ  å­˜å‚¨å±æ€§(stored properties)ï¼Œåªèƒ½å¢åŠ è®¡ç®—å±æ€§(computed properties)</span></div><div class="line">  <span class="keyword">var</span> numberOfWheels: <span class="type">Int</span> &#123;</div><div class="line">  	<span class="keyword">return</span> <span class="number">2</span> </div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Bike</span>: <span class="title">Vehicle</span> </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">accelerate</span><span class="params">()</span></span> &#123;</div><div class="line">    <span class="comment">// Accelerate</span></div><div class="line">  &#125;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">stop</span><span class="params">()</span></span> &#123;</div><div class="line">  <span class="comment">// Stop</span></div><div class="line">  &#125; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="æ“ä½œç¬¦Extensions-Equatableå’ŒComparableåè®®"><a href="#æ“ä½œç¬¦Extensions-Equatableå’ŒComparableåè®®" class="headerlink" title="æ“ä½œç¬¦Extensions (Equatableå’ŒComparableåè®®)"></a>æ“ä½œç¬¦Extensions (Equatableå’ŒComparableåè®®)</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Record</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> wins: <span class="type">Int</span></div><div class="line">  <span class="keyword">var</span> losses: <span class="type">Int</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*</span></div><div class="line">swift æ ‡å‡†åº“ä¸­ Equatable çš„å®šä¹‰</div><div class="line">protocol Equatable &#123;</div><div class="line">  func ==(lhs: Self, rhs: Self) -&gt; Bool</div><div class="line">&#125;</div><div class="line">*/</div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Record</span>: <span class="title">Equatable</span> </span>&#123;&#125;</div><div class="line"><span class="comment">//ä»…éœ€å®ç° == ( != ä¼šè‡ªåŠ¨ç”Ÿæˆ)</span></div><div class="line"><span class="function"><span class="keyword">func</span> ==<span class="params">(lhs: Record, rhs: Record)</span></span> -&gt; <span class="type">Bool</span> &#123;</div><div class="line">    <span class="keyword">return</span> lhs.wins == rhs.wins &amp;&amp; lhs.losses == rhs.losses</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> recordA = <span class="type">Record</span>(wins: <span class="number">10</span>, losses: <span class="number">5</span>)</div><div class="line"><span class="keyword">let</span> recordB = <span class="type">Record</span>(wins: <span class="number">10</span>, losses: <span class="number">5</span>)</div><div class="line">recordA == recordB <span class="comment">// True</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">/*</span></div><div class="line">swift æ ‡å‡†åº“ä¸­ Comparable çš„å®šä¹‰</div><div class="line">protocol Comparable : Equatable &#123;</div><div class="line">  func &lt;(lhs: Self, rhs: Self) -&gt; Bool</div><div class="line">  func &lt;=(lhs: Self, rhs: Self) -&gt; Bool</div><div class="line">  func &gt;=(lhs: Self, rhs: Self) -&gt; Bool</div><div class="line">  func &gt;(lhs: Self, rhs: Self) -&gt; Bool</div><div class="line">&#125;</div><div class="line">*/</div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Record</span>: <span class="title">Comparable</span> </span>&#123;&#125;</div><div class="line"><span class="comment">//ä»…éœ€å®ç° &lt; ( &gt;,&lt;=,&gt;= ä¼šè‡ªåŠ¨ç”Ÿæˆ)</span></div><div class="line"><span class="function"><span class="keyword">func</span> &lt;(lhs: Record, rhs: Record) -&gt; <span class="title">Bool</span> </span>&#123;</div><div class="line">    <span class="keyword">let</span> lhsPercent = <span class="type">Double</span>(lhs.wins) / (<span class="type">Double</span>(lhs.wins) + <span class="type">Double</span>(lhs.losses))</div><div class="line">    <span class="keyword">let</span> rhsPercent = <span class="type">Double</span>(rhs.wins) / (<span class="type">Double</span>(rhs.wins) + <span class="type">Double</span>(rhs.losses))</div><div class="line">    <span class="keyword">return</span> lhsPercent &lt; rhsPercent</div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> team1 = <span class="type">Record</span>(wins: <span class="number">23</span>, losses: <span class="number">8</span>)</div><div class="line"><span class="keyword">let</span> team2 = <span class="type">Record</span>(wins: <span class="number">23</span>, losses: <span class="number">8</span>)</div><div class="line"><span class="keyword">let</span> team3 = <span class="type">Record</span>(wins: <span class="number">14</span>, losses: <span class="number">11</span>)</div><div class="line">team1 &lt; team2 <span class="comment">// false</span></div><div class="line">team1 &gt; team3 <span class="comment">// true</span></div><div class="line">team1 &gt;= team3 <span class="comment">// true</span></div><div class="line">team1 &lt;= team3 <span class="comment">// false</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">let</span> leagueRecords = [team1, team2, team3]</div><div class="line"><span class="comment">//æ—¢ç„¶ Record å®ç°äº† Comparable åè®®ï¼Œè‡ªç„¶å¯ä»¥ä½¿ç”¨ swift æ ‡å‡†åº“çš„ç›¸å…³å‡½æ•°è¿›è¡Œæ’åºç­‰æ“ä½œï¼š</span></div><div class="line">leagueRecords.<span class="built_in">sort</span>()</div><div class="line"><span class="comment">// &#123;wins 14, losses 11&#125;</span></div><div class="line"><span class="comment">// &#123;wins 23, losses 8&#125;</span></div><div class="line"><span class="comment">// &#123;wins 23, losses 8&#125;</span></div><div class="line">leagueRecords.<span class="built_in">maxElement</span>() <span class="comment">// &#123;wins 23, losses 8&#125;</span></div><div class="line">leagueRecords.<span class="built_in">minElement</span>() <span class="comment">// &#123;wins 23, losses 8&#125;</span></div><div class="line">leagueRecords.<span class="built_in">startsWith</span>([team1, team2]) <span class="comment">// true</span></div><div class="line">leagueRecords.<span class="built_in">contains</span>(team1) <span class="comment">// true</span></div></pre></td></tr></table></figure>
<h3 id="Hashableåè®®"><a href="#Hashableåè®®" class="headerlink" title="Hashableåè®®"></a>Hashableåè®®</h3><p>å½“ä½ çš„è‡ªå®šä¹‰ç±»å‹è¦ç”¨äº <code>Dictionary</code> çš„ key æˆ– <code>Set</code> ä¸­çš„å…ƒç´ æ—¶ï¼Œå¿…é¡»è¦å®ç° Hashable åè®®ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line">swift æ ‡å‡†åº“ä¸­ Hashable çš„å®šä¹‰</div><div class="line">protocol Hashable : Equatable &#123;</div><div class="line">  var hashValue: Int &#123; get &#125;</div><div class="line">&#125;</div><div class="line">*/</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> studentId: <span class="type">Int</span></div><div class="line">    <span class="keyword">var</span> firstName: <span class="type">String</span></div><div class="line">    <span class="keyword">var</span> lastName: <span class="type">String</span></div><div class="line"></div><div class="line">    <span class="keyword">init</span>(studentId: <span class="type">Int</span>, firstName: <span class="type">String</span>, lastName: <span class="type">String</span>) &#123;</div><div class="line">        <span class="keyword">self</span>.studentId = studentId</div><div class="line">        <span class="keyword">self</span>.firstName = firstName</div><div class="line">        <span class="keyword">self</span>.lastName = lastName</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">//å› ä¸º Hashable åè®®ç»§æ‰¿è‡ª Equatable åè®®ï¼Œæ•…ï¼ŒStudent éœ€è¦å®ç° Equatable åè®®</span></div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Student</span>: <span class="title">Equatable</span> </span>&#123;&#125;</div><div class="line"><span class="function"><span class="keyword">func</span> ==<span class="params">(lhs: Student, rhs: Student)</span></span> -&gt; <span class="type">Bool</span> &#123;</div><div class="line">    <span class="keyword">return</span> lhs.studentId == rhs.studentId</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Student</span>: <span class="title">Hashable</span> </span>&#123;</div><div class="line">    <span class="comment">//è¿”å›æ•´æ•°å“ˆå¸Œå€¼ï¼Œç”¨äºåŒºåˆ†ä¸åŒ Student å®ä¾‹</span></div><div class="line">    <span class="keyword">var</span> hashValue: <span class="type">Int</span> &#123;</div><div class="line">        <span class="keyword">return</span> studentId</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> john = <span class="type">Student</span>(studentId:<span class="number">1</span>, firstName: <span class="string">"Johnny"</span>, lastName: <span class="string">"Appleseed"</span>)</div><div class="line"><span class="comment">// Dictionary</span></div><div class="line"><span class="keyword">let</span> lockerMap: [<span class="type">Student</span>: <span class="type">String</span>] = [john: <span class="string">"14B"</span>]</div><div class="line"><span class="comment">// Set</span></div><div class="line"><span class="keyword">let</span> classRoster: <span class="type">Set</span>&lt;<span class="type">Student</span>&gt; = [john, john, john, john]</div><div class="line">classRoster.<span class="built_in">count</span> <span class="comment">// 1</span></div></pre></td></tr></table></figure>
<h3 id="BooleanType-åè®®"><a href="#BooleanType-åè®®" class="headerlink" title="BooleanType åè®®"></a>BooleanType åè®®</h3><p>å®ç°äº† BooleanType åè®®çš„è‡ªå®šä¹‰ç±»å‹å¯ä»¥åœ¨åˆ¤æ–­æ¡ä»¶ä¸­ä½¿ç”¨</p>
<p>å› ä¸º Swift ä¸­å‡ ä¹æ‰€æœ‰æ ¸å¿ƒç±»å‹éƒ½æ˜¯ç”¨ç»“æ„ä½“å®ç°çš„ï¼ŒåŒ…æ‹¬ <code>Bool</code> ç±»å‹ï¼Œ<code>Bool</code> ç»“æ„ä½“ä¹Ÿå®ç°äº† BooleanType åè®®</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line">swift æ ‡å‡†åº“ä¸­ Hashable çš„å®šä¹‰</div><div class="line">protocol BooleanType &#123;</div><div class="line">  var boolValue: Bool &#123; get &#125;</div><div class="line">&#125;</div><div class="line">*/</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Record</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> wins: <span class="type">Int</span></div><div class="line">  <span class="keyword">var</span> losses: <span class="type">Int</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Record</span>: <span class="title">BooleanType</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> boolValue: <span class="type">Bool</span> &#123;</div><div class="line">    <span class="keyword">return</span> wins &gt; losses</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">if</span> <span class="type">Record</span>(wins: <span class="number">10</span>, losses: <span class="number">5</span>) &#123;</div><div class="line">  <span class="built_in">print</span>(<span class="string">"winning!"</span>)</div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">  <span class="built_in">print</span>(<span class="string">"losing :("</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="CustomStringConvertible"><a href="#CustomStringConvertible" class="headerlink" title="CustomStringConvertible"></a>CustomStringConvertible</h3><p>CustomStringConvertible åè®® ç”¨äº debug è‡ªå®šä¹‰ç±»å‹æ—¶æ‰“å° log</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line">swift æ ‡å‡†åº“ä¸­ Hashable çš„å®šä¹‰</div><div class="line">protocol CustomStringConvertible &#123;</div><div class="line">  var description: String &#123; get &#125;</div><div class="line">&#125;</div><div class="line">*/</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Record</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> wins: <span class="type">Int</span></div><div class="line">  <span class="keyword">var</span> losses: <span class="type">Int</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//é»˜è®¤</span></div><div class="line"><span class="keyword">let</span> record = <span class="type">Record</span>(wins: <span class="number">23</span>, losses: <span class="number">8</span>)</div><div class="line"><span class="built_in">print</span>(record)</div><div class="line"><span class="comment">// Record(wins: 23, losses: 8)</span></div><div class="line"></div><div class="line"><span class="comment">//è‡ªå®šä¹‰</span></div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Record</span>: <span class="title">CustomStringConvertible</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> description: <span class="type">String</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="string">"<span class="subst">\(wins)</span> - <span class="subst">\(losses)</span>"</span></div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="built_in">print</span>(record)</div><div class="line"><span class="comment">// 23 - 8</span></div></pre></td></tr></table></figure>
<h2 id="é¢å‘åè®®ç¼–ç¨‹-Protocol-Oriented-Programming"><a href="#é¢å‘åè®®ç¼–ç¨‹-Protocol-Oriented-Programming" class="headerlink" title="é¢å‘åè®®ç¼–ç¨‹ ( Protocol-Oriented Programming )"></a>é¢å‘åè®®ç¼–ç¨‹ ( Protocol-Oriented Programming )</h2><h3 id="æ‰©å±•åè®®-protocol-extensions"><a href="#æ‰©å±•åè®®-protocol-extensions" class="headerlink" title="æ‰©å±•åè®® (protocol extensions)"></a>æ‰©å±•åè®® (protocol extensions)</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">TeamRecord</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> wins: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">  <span class="keyword">var</span> losses: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">winningPercentage</span><span class="params">()</span></span> -&gt; <span class="type">Double</span></div><div class="line">&#125;</div><div class="line"><span class="comment">//å¯¹åè®®è¿›è¡Œæ‰©å±• (extension)</span></div><div class="line"><span class="comment">//ä¸åè®®ä¸åŒï¼Œåè®®çš„æ‰©å±•ï¼Œå¯ä»¥æœ‰å®ç°</span></div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">TeamRecord</span> </span>&#123;</div><div class="line">  <span class="comment">//è®¡ç®—å±æ€§ gamePlayed åŠå…¶å®ç°</span></div><div class="line">  <span class="keyword">var</span> gamesPlayed: <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">return</span> wins + losses</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//å®ç° TeamRecord åè®®</span></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">BaseballRecord</span>: <span class="title">TeamRecord</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> wins: <span class="type">Int</span></div><div class="line">  <span class="keyword">var</span> losses: <span class="type">Int</span></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">winningPercentage</span><span class="params">()</span></span> -&gt; <span class="type">Double</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="type">Double</span>(wins) / (<span class="type">Double</span>(wins) + <span class="type">Double</span>(losses))</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> sanFranciscoSwifts = <span class="type">BaseballRecord</span>(wins: <span class="number">10</span>, losses: <span class="number">5</span>)</div><div class="line"><span class="comment">//BaseballRecord å¹¶ä¸ç”¨å®ç° gamesPlayed æ–¹æ³•ï¼Œè€Œå¯ä»¥ç›´æ¥ä½¿ç”¨</span></div><div class="line">sanFranciscoSwifts.gamesPlayed <span class="comment">// 15</span></div></pre></td></tr></table></figure>
<h3 id="åè®®ä¸­æ–¹æ³•çš„é»˜è®¤å®ç°-Default-implementations"><a href="#åè®®ä¸­æ–¹æ³•çš„é»˜è®¤å®ç°-Default-implementations" class="headerlink" title="åè®®ä¸­æ–¹æ³•çš„é»˜è®¤å®ç° (Default implementations)"></a>åè®®ä¸­æ–¹æ³•çš„é»˜è®¤å®ç° (Default implementations)</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">TeamRecord</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> wins: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">  <span class="keyword">var</span> losses: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">winningPercentage</span><span class="params">()</span></span> -&gt; <span class="type">Double</span></div><div class="line">&#125;</div><div class="line"><span class="comment">//ç”¨ extension é»˜è®¤å®ç° winningPercentage</span></div><div class="line"><span class="comment">//è¦å®ç° TeamRecord æ¥å£ï¼Œä¾¿å¯ä»¥ä¸ç”¨å®ç° winningPercentage æ–¹æ³•ã€‚</span></div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">TeamRecord</span> </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">winningPercentage</span><span class="params">()</span></span> -&gt; <span class="type">Double</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="type">Double</span>(wins) / (<span class="type">Double</span>(wins) + <span class="type">Double</span>(losses))</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">BaseballRecord</span>: <span class="title">TeamRecord</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> wins: <span class="type">Int</span></div><div class="line">  <span class="keyword">var</span> losses: <span class="type">Int</span></div><div class="line">  <span class="keyword">let</span> seasonLength = <span class="number">162</span></div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">BasketballRecord</span>: <span class="title">TeamRecord</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> wins: <span class="type">Int</span></div><div class="line">  <span class="keyword">var</span> losses: <span class="type">Int</span></div><div class="line">  <span class="keyword">let</span> seasonLength = <span class="number">82</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">HockeyRecord</span>: <span class="title">TeamRecord</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> wins: <span class="type">Int</span></div><div class="line">  <span class="keyword">var</span> losses: <span class="type">Int</span></div><div class="line">  <span class="keyword">var</span> ties: <span class="type">Int</span></div><div class="line">  <span class="comment">// HockeyRecord å¼•å…¥ ties, äºæ˜¯å®ƒå¯ä»¥æœ‰å¯¹ winningPercentage æ–¹æ³• è‡ªå·±çš„å®ç°</span></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">winningPercentage</span><span class="params">()</span></span> -&gt; <span class="type">Double</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="type">Double</span>(wins) / (<span class="type">Double</span>(wins) + <span class="type">Double</span>(losses) + <span class="type">Double</span>(ties))</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> baseballRecord: <span class="type">TeamRecord</span> = <span class="type">BaseballRecord</span>(wins: <span class="number">10</span>, losses: <span class="number">6</span>)</div><div class="line"><span class="keyword">let</span> hockeyRecord: <span class="type">TeamRecord</span> = <span class="type">HockeyRecord</span>(wins: <span class="number">8</span>, losses: <span class="number">7</span>, ties: <span class="number">1</span>)</div><div class="line">baseballRecord.winningPercentage() <span class="comment">// 10/(10+6) == .625</span></div><div class="line">hockeyRecord.winningPercentage() <span class="comment">// 8/(8+7+1) == .500</span></div></pre></td></tr></table></figure>
<h3 id="æ‰©å±•åè®®çš„åˆ†æ´¾-dispatching"><a href="#æ‰©å±•åè®®çš„åˆ†æ´¾-dispatching" class="headerlink" title="æ‰©å±•åè®®çš„åˆ†æ´¾(dispatching)"></a>æ‰©å±•åè®®çš„åˆ†æ´¾(dispatching)</h3><ul>
<li>åè®® (protocol) å®šä¹‰äº†ï¼Œæ‰©å±• (extension) ä¸­ä¹Ÿå®šä¹‰é‡å†™äº†çš„æ–¹æ³•æˆ–å±æ€§ï¼Œæ— è®ºä»¥åè®®å£°æ˜è¿˜æ˜¯ä»¥å®ç°ç±»å‹å£°æ˜ï¼Œè‹¥å®ç°ç±»å‹å®ç°äº†ï¼Œåˆ™æ€»æ˜¯è°ƒç”¨å®ç°ç±»å‹ä¸­çš„æ–¹æ³•æˆ–å±æ€§ï¼Œå¦åˆ™è°ƒç”¨æ‰©å±•ï¼Œå‚è€ƒ <strong>åè®®ä¸­æ–¹æ³•çš„é»˜è®¤å®ç°</strong>ã€‚</li>
<li>åè®® (protocol) æœªå®šä¹‰äº†ï¼Œæ‰©å±• (extension) ä¸­å®šä¹‰å®ç°çš„æ–¹æ³•æˆ–å±æ€§ï¼Œåˆ™ä¾èµ–å£°æ˜çš„æ˜¯åè®®è¿˜æ˜¯å®ç°ç±»å‹ï¼Œè‹¥ä»¥åè®®å£°æ˜åˆ™è°ƒç”¨åè®®ä¸­çš„æ–¹æ³•æˆ–å±æ€§ï¼Œè‹¥ä»¥å®ç°ç±»å‹å£°æ˜åˆ™è°ƒç”¨å®ç°ç±»ä¸­çš„æ–¹æ³•æˆ–å±æ€§ (å‡å¦‚å®ç°ç±»å‹å®ç°äº†æ­¤æ–¹æ³•æˆ–å±æ€§)ï¼Œå¦‚ä¸‹ï¼š</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">TeamRecord</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> wins: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">  <span class="keyword">var</span> losses: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">winningPercentage</span><span class="params">()</span></span> -&gt; <span class="type">Double</span></div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">TeamRecord</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> gamesPlayed: <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">return</span> wins + losses</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">BaseballRecord</span>: <span class="title">TeamRecord</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> wins: <span class="type">Int</span></div><div class="line">  <span class="keyword">var</span> losses: <span class="type">Int</span></div><div class="line">  <span class="keyword">let</span> gamesPlayed: <span class="type">Int</span> = <span class="number">162</span></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">winningPercentage</span><span class="params">()</span></span> -&gt; <span class="type">Double</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="type">Double</span>(wins) / (<span class="type">Double</span>(wins) + <span class="type">Double</span>(losses))</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// ä»¥ TeamRecord åè®®å®šä¹‰</span></div><div class="line"><span class="keyword">let</span> team1: <span class="type">TeamRecord</span> = <span class="type">BaseballRecord</span>(wins: <span class="number">10</span>, losses: <span class="number">5</span>)</div><div class="line"><span class="comment">// ä»¥ BaseballRecord ç±» å®šä¹‰</span></div><div class="line"><span class="keyword">let</span> team2: <span class="type">BaseballRecord</span> = <span class="type">BaseballRecord</span>(wins: <span class="number">10</span>, losses: <span class="number">5</span>)</div><div class="line"><span class="comment">// è°ƒç”¨çš„æ˜¯ TeamRecord extension é‡Œçš„gamesPlayed</span></div><div class="line">team1.gamesPlayed <span class="comment">// 15</span></div><div class="line"><span class="comment">// è°ƒç”¨çš„æ˜¯ BaseballRecord é‡Œçš„gamesPlayed</span></div><div class="line">team2.gamesPlayed <span class="comment">// 162!!</span></div></pre></td></tr></table></figure>
<h3 id="é™åˆ¶ç±»å‹çš„åè®®æ‰©å±•-Type-constraints"><a href="#é™åˆ¶ç±»å‹çš„åè®®æ‰©å±•-Type-constraints" class="headerlink" title="é™åˆ¶ç±»å‹çš„åè®®æ‰©å±• (Type constraints)"></a>é™åˆ¶ç±»å‹çš„åè®®æ‰©å±• (Type constraints)</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">TeamRecord</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> wins: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">  <span class="keyword">var</span> losses: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">winningPercentage</span><span class="params">()</span></span> -&gt; <span class="type">Double</span></div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Tieable</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> ties: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">//å½“å®ç°ç±»å‹æ—¢å®ç°äº† TeamRecord åˆå®ç°äº† Tieable æ‰äºˆä»¥æ‰©å±•</span></div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">TeamRecord</span> <span class="title">where</span> <span class="title">Self</span>: <span class="title">Tieable</span> </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">winningPercentage</span><span class="params">()</span></span> -&gt; <span class="type">Double</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="type">Double</span>(wins) / (<span class="type">Double</span>(wins) + <span class="type">Double</span>(losses) + <span class="type">Double</span>(ties))</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">HockeyRecord</span>: <span class="title">TeamRecord</span>, <span class="title">Tieable</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> wins: <span class="type">Int</span></div><div class="line">  <span class="keyword">var</span> losses: <span class="type">Int</span></div><div class="line">  <span class="keyword">var</span> ties: <span class="type">Int</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> hockeyRecord: <span class="type">TeamRecord</span> = <span class="type">HockeyRecord</span>(wins: <span class="number">8</span>, losses: <span class="number">7</span>, ties: <span class="number">1</span>)</div><div class="line">hockeyRecord.winningPercentage() <span class="comment">// 0.5</span></div></pre></td></tr></table></figure>
<h3 id="Traits-mixins-and-multiple-inheritance"><a href="#Traits-mixins-and-multiple-inheritance" class="headerlink" title="Traits, mixins and multiple inheritance"></a>Traits, mixins and multiple inheritance</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">TeamRecord</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> wins: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">  <span class="keyword">var</span> losses: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">winningPercentage</span><span class="params">()</span></span> -&gt; <span class="type">Double</span></div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">TeamRecord</span> </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">winningPercentage</span><span class="params">()</span></span> -&gt; <span class="type">Double</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="type">Double</span>(wins) / (<span class="type">Double</span>(wins) + <span class="type">Double</span>(losses))</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">TieableRecord</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> ties: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">DivisionalRecord</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> divisionalWins: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">  <span class="keyword">var</span> divisionalLosses: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//Traitï¼Œå¢åŠ äº†è®¡ç®— totalPoints çš„åŠŸèƒ½</span></div><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">PointableRecord</span> </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">totalPoints</span><span class="params">()</span></span> -&gt; <span class="type">Int</span></div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">PointableRecord</span> <span class="title">where</span> <span class="title">Self</span>: <span class="title">TieableRecord</span>, <span class="title">Self</span>: <span class="title">TeamRecord</span> </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">totalPoints</span><span class="params">()</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">return</span> (<span class="number">2</span> * wins) + (<span class="number">1</span> * ties)</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//mixins: CustomStringConvertible, Equatable  </span></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">HockeyRecord</span>: <span class="title">TeamRecord</span>,</span></div><div class="line">                     <span class="title">TieableRecord</span>,</div><div class="line">                     <span class="title">DivisionalRecord</span>,</div><div class="line">                     <span class="title">CustomStringConvertible</span>,</div><div class="line">                     <span class="title">Equatable</span> &#123;</div><div class="line">  <span class="keyword">var</span> wins: <span class="type">Int</span></div><div class="line">  <span class="keyword">var</span> losses: <span class="type">Int</span></div><div class="line">  <span class="keyword">var</span> ties: <span class="type">Int</span></div><div class="line">  <span class="keyword">var</span> divisionalWins: <span class="type">Int</span></div><div class="line">  <span class="keyword">var</span> divisionalLosses: <span class="type">Int</span></div><div class="line">  <span class="keyword">var</span> description: <span class="type">String</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="string">"<span class="subst">\(wins)</span> - <span class="subst">\(losses)</span> - <span class="subst">\(ties)</span>"</span></div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">func</span> ==<span class="params">(lhs: HockeyRecord, rhs: HockeyRecord)</span></span> -&gt; <span class="type">Bool</span> &#123;</div><div class="line">  <span class="keyword">return</span> lhs.wins == rhs.wins &amp;&amp;</div><div class="line">  		 lhs.ties == rhs.ties &amp;&amp;</div><div class="line">	   lhs.losses == rhs.losses</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="é«˜çº§"><a href="#é«˜çº§" class="headerlink" title="é«˜çº§"></a>é«˜çº§</h1><h2 id="é”™è¯¯å¤„ç†"><a href="#é”™è¯¯å¤„ç†" class="headerlink" title="é”™è¯¯å¤„ç†"></a>é”™è¯¯å¤„ç†</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//ErrorType åè®®</span></div><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">RollingError</span>: <span class="title">ErrorType</span> </span>&#123;</div><div class="line">  <span class="keyword">case</span> <span class="type">Doubles</span></div><div class="line">  <span class="keyword">case</span> <span class="type">OutOfFunding</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> hasFunding = <span class="literal">true</span></div><div class="line"><span class="comment">//throws</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">roll</span><span class="params">(firstDice: Int, secondDice: Int)</span></span> <span class="keyword">throws</span> &#123;</div><div class="line">  <span class="keyword">let</span> error: <span class="type">RollingError</span></div><div class="line">  <span class="keyword">if</span> firstDice == secondDice &amp;&amp; hasFunding &#123;</div><div class="line">    error = .<span class="type">Doubles</span></div><div class="line">    hasFunding = <span class="literal">false</span></div><div class="line">    <span class="keyword">throw</span> error</div><div class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> firstDice == secondDice &amp;&amp; !hasFunding &#123;</div><div class="line">    hasFunding = <span class="literal">true</span></div><div class="line">    <span class="built_in">print</span>(<span class="string">"Huzzah! You raise another round of funding!"</span>)</div><div class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> !hasFunding &#123;</div><div class="line">    error = .<span class="type">OutOfFunding</span></div><div class="line">    <span class="keyword">throw</span> error</div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"You moved <span class="subst">\(firstDice + secondDice)</span> spaces"</span>)</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//try catch</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">move</span><span class="params">(firstDice: Int, secondDice: Int)</span></span> -&gt; <span class="type">String</span> &#123;</div><div class="line">  <span class="keyword">do</span> &#123;</div><div class="line">    <span class="keyword">try</span> roll(firstDice, secondDice: secondDice)</div><div class="line">    <span class="keyword">return</span> <span class="string">"Successful roll."</span></div><div class="line">  &#125; <span class="keyword">catch</span> <span class="type">RollingError</span>.<span class="type">Doubles</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="string">"You rolled doubles and have lost your funding"</span></div><div class="line">  &#125; <span class="keyword">catch</span> <span class="type">RollingError</span>.<span class="type">OutOfFunding</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="string">"You need to do another round of funding."</span></div><div class="line">  &#125; <span class="keyword">catch</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="string">"Unknown error"</span></div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Direction</span> </span>&#123;</div><div class="line">  <span class="keyword">case</span> <span class="type">Left</span></div><div class="line">  <span class="keyword">case</span> <span class="type">Right</span></div><div class="line">  <span class="keyword">case</span> <span class="type">Forward</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">PugBotError</span>: <span class="title">ErrorType</span> </span>&#123;</div><div class="line">  <span class="keyword">case</span> <span class="type">DidNotTurnLeft</span>(directionMoved: <span class="type">Direction</span>)</div><div class="line">  <span class="keyword">case</span> <span class="type">DidNotTurnRight</span>(directionMoved: <span class="type">Direction</span>)</div><div class="line">  <span class="keyword">case</span> <span class="type">DidNotGoForward</span>(directionMoved: <span class="type">Direction</span>)</div><div class="line">  <span class="keyword">case</span> <span class="type">EndOfPath</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">PugBot</span> </span>&#123;</div><div class="line">  <span class="keyword">let</span> name: <span class="type">String</span></div><div class="line">  <span class="keyword">let</span> correctPath: [<span class="type">Direction</span>]</div><div class="line">  <span class="keyword">var</span> currentStepInPath = <span class="number">0</span></div><div class="line">  </div><div class="line">  <span class="comment">//å¯å¤±è´¥çš„åˆå§‹åŒ–(failable initializer)</span></div><div class="line">  <span class="keyword">init</span>? (name: <span class="type">String</span>, correctPath: [<span class="type">Direction</span>]) &#123;</div><div class="line">    <span class="keyword">self</span>.correctPath = correctPath</div><div class="line">    <span class="keyword">self</span>.name = name</div><div class="line">    </div><div class="line">    <span class="keyword">guard</span> (correctPath.<span class="built_in">count</span> &gt; <span class="number">0</span>) <span class="keyword">else</span> &#123;<span class="keyword">return</span> <span class="literal">nil</span>&#125;</div><div class="line">    </div><div class="line">    <span class="keyword">switch</span> name &#123;</div><div class="line">      <span class="keyword">case</span> <span class="string">"Delia"</span>, <span class="string">"Olive"</span>, <span class="string">"Frank"</span>, <span class="string">"Otis"</span>, <span class="string">"Doug"</span>:</div><div class="line">        <span class="keyword">break</span></div><div class="line">      <span class="keyword">default</span>:</div><div class="line">		<span class="keyword">return</span> <span class="literal">nil</span></div><div class="line">	&#125; </div><div class="line">  &#125;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">turnLeft</span><span class="params">()</span></span> <span class="keyword">throws</span> &#123;</div><div class="line">    <span class="keyword">guard</span> (currentStepInPath &lt; correctPath.<span class="built_in">count</span>) <span class="keyword">else</span> &#123;</div><div class="line">      <span class="keyword">throw</span> <span class="type">PugBotError</span>.<span class="type">EndOfPath</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">let</span> direction = correctPath[currentStepInPath]</div><div class="line">    <span class="keyword">if</span> direction != .<span class="type">Left</span> &#123;</div><div class="line">      <span class="keyword">throw</span> <span class="type">PugBotError</span>.<span class="type">DidNotTurnLeft</span>(directionMoved: direction)</div><div class="line">    &#125;</div><div class="line">    currentStepInPath += <span class="number">1</span></div><div class="line">  &#125;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">turnRight</span><span class="params">()</span></span> <span class="keyword">throws</span> &#123;</div><div class="line">    <span class="keyword">guard</span> (currentStepInPath &lt; correctPath.<span class="built_in">count</span>) <span class="keyword">else</span> &#123;</div><div class="line">      <span class="keyword">throw</span> <span class="type">PugBotError</span>.<span class="type">EndOfPath</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">let</span> direction = correctPath[currentStepInPath]</div><div class="line">    <span class="keyword">if</span> direction != .<span class="type">Right</span> &#123;</div><div class="line">      <span class="keyword">throw</span> <span class="type">PugBotError</span>.<span class="type">DidNotTurnRight</span>(directionMoved: direction)</div><div class="line">    &#125;</div><div class="line">    currentStepInPath += <span class="number">1</span></div><div class="line">  &#125;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">moveForward</span><span class="params">()</span></span> <span class="keyword">throws</span> &#123;</div><div class="line">    <span class="keyword">guard</span> (currentStepInPath &lt; correctPath.<span class="built_in">count</span>) <span class="keyword">else</span> &#123;</div><div class="line">      <span class="keyword">throw</span> <span class="type">PugBotError</span>.<span class="type">EndOfPath</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">let</span> direction = correctPath[currentStepInPath]</div><div class="line">    <span class="keyword">if</span> direction != .<span class="type">Forward</span> &#123;</div><div class="line">      <span class="keyword">throw</span> <span class="type">PugBotError</span>.<span class="type">DidNotGoForward</span>(directionMoved: direction)</div><div class="line">    &#125;</div><div class="line">    currentStepInPath += <span class="number">1</span></div><div class="line">  &#125;</div><div class="line">  </div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">goHome</span><span class="params">()</span></span> <span class="keyword">throws</span> &#123;</div><div class="line">    <span class="keyword">try</span> moveForward()</div><div class="line">    <span class="keyword">try</span> turnLeft()</div><div class="line">    <span class="keyword">try</span> moveForward()</div><div class="line">    <span class="keyword">try</span> turnRight()</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">movePugBotSafely</span><span class="params">(move: <span class="params">()</span></span></span> <span class="keyword">throws</span> -&gt; ()) -&gt; <span class="type">String</span> &#123;</div><div class="line">    <span class="keyword">do</span> &#123;</div><div class="line">      <span class="keyword">try</span> move()</div><div class="line">          <span class="keyword">return</span> <span class="string">"Completed move successfully."</span></div><div class="line">      &#125; <span class="keyword">catch</span> <span class="type">PugBotError</span>.<span class="type">DidNotTurnLeft</span>(<span class="keyword">let</span> directionMoved) &#123;</div><div class="line">      	  <span class="keyword">return</span> <span class="string">"The PugBot was supposed to turn left, but turned <span class="subst">\(directionMoved)</span> instead."</span></div><div class="line">      &#125; <span class="keyword">catch</span> <span class="type">PugBotError</span>.<span class="type">DidNotTurnRight</span>(<span class="keyword">let</span> directionMoved) &#123;</div><div class="line">      	  <span class="keyword">return</span> <span class="string">"The PugBot was supposed to turn right, but turned <span class="subst">\(directionMoved)</span> instead."</span></div><div class="line">      &#125; <span class="keyword">catch</span> <span class="type">PugBotError</span>.<span class="type">DidNotGoForward</span>(<span class="keyword">let</span> directionMoved) &#123;</div><div class="line">          <span class="keyword">return</span> <span class="string">"The PugBot was supposed to move forward, but turned <span class="subst">\(directionMoved)</span> instead."</span></div><div class="line">      &#125; <span class="keyword">catch</span> <span class="type">PugBotError</span>.<span class="type">EndOfPath</span>() &#123;</div><div class="line">          <span class="keyword">return</span> <span class="string">"The PugBot tried to move past the end of the path."</span></div><div class="line">      &#125; <span class="keyword">catch</span> &#123;</div><div class="line">          <span class="keyword">return</span> <span class="string">"An unknown error occurred"</span></div><div class="line">      &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> rightDirections: [<span class="type">Direction</span>] =</div><div class="line"> [.<span class="type">Forward</span>, .<span class="type">Left</span>, .<span class="type">Forward</span>, .<span class="type">Right</span>]</div><div class="line"><span class="keyword">let</span> wrongDirections: [<span class="type">Direction</span>] =</div><div class="line"> [.<span class="type">Left</span>, .<span class="type">Left</span>, .<span class="type">Left</span>, .<span class="type">Forward</span>]</div><div class="line"> </div><div class="line"><span class="keyword">let</span> invalidPug = <span class="type">PugBot</span>(name: <span class="string">"Lassie"</span>, correctPath: rightDirections)</div><div class="line"><span class="keyword">let</span> myPugBot = <span class="type">PugBot</span>(name: <span class="string">"Delia"</span>, correctPath: rightDirections)!</div><div class="line"><span class="keyword">let</span> wrongPugBot = <span class="type">PugBot</span>(name: <span class="string">"Delia"</span>, correctPath: wrongDirections)!</div><div class="line"></div><div class="line">movePugBotSafely &#123;</div><div class="line">  <span class="keyword">try</span> myPugBot.goHome()</div><div class="line">  <span class="keyword">try</span> myPugBot.moveForward()</div><div class="line">&#125;</div><div class="line"><span class="comment">//&gt; The PugBot tried to move past the end of the path.</span></div></pre></td></tr></table></figure>
<h2 id="æ³›å‹-Generics"><a href="#æ³›å‹-Generics" class="headerlink" title="æ³›å‹ (Generics)"></a>æ³›å‹ (Generics)</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Cat</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> name: <span class="type">String</span></div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Dog</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> name: <span class="type">String</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Keeper</span>&lt;<span class="title">T</span>&gt; </span>&#123;</div><div class="line">  <span class="keyword">var</span> name: <span class="type">String</span></div><div class="line">  <span class="keyword">var</span> morningAnimal: <span class="type">T</span></div><div class="line">  <span class="keyword">var</span> afternoonAnimal: <span class="type">T</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> jason = <span class="type">Keeper</span>(name: <span class="string">"Jason"</span>,</div><div class="line">                   morningAnimal: <span class="type">Cat</span>(name: <span class="string">"Whiskers"</span>),</div><div class="line">                   afternoonAnimal: <span class="type">Cat</span>(name: <span class="string">"Sleepy"</span>))</div><div class="line"></div><div class="line"><span class="comment">//Swift çš„ç±»å‹æ¨æ–­</span></div><div class="line"><span class="comment">//Array</span></div><div class="line"><span class="keyword">let</span> favoriteIntsInferred = <span class="type">Array</span>(arrayLiteral: <span class="number">8</span>, <span class="number">9</span>, <span class="number">42</span>)</div><div class="line"><span class="keyword">let</span> favoriteFloatsInferred = <span class="type">Array</span>&lt;<span class="type">Float</span>&gt;(arrayLiteral: <span class="number">8</span>, <span class="number">9</span>, <span class="number">42</span>)</div><div class="line"><span class="keyword">let</span> favoriteIntsExplicit2: <span class="type">Array</span>&lt;<span class="type">Int</span>&gt;     = [<span class="number">8</span>, <span class="number">9</span>, <span class="number">42</span>]</div><div class="line"><span class="keyword">let</span> favoriteIntsInferred2: <span class="type">Array</span>          = [<span class="number">8</span>, <span class="number">9</span>, <span class="number">42</span>]</div><div class="line"><span class="keyword">let</span> favoriteFloatsInferred2: <span class="type">Array</span>&lt;<span class="type">Float</span>&gt; = [<span class="number">8</span>, <span class="number">9</span>, <span class="number">42</span>]</div><div class="line"></div><div class="line"><span class="comment">//Dictionary</span></div><div class="line"><span class="keyword">let</span> intNames: <span class="type">Dictionary</span>&lt;<span class="type">Int</span>, <span class="type">String</span>&gt; = [<span class="number">42</span>: <span class="string">"forty-two"</span>]</div><div class="line"> <span class="keyword">let</span> intNames2: [<span class="type">Int</span>: <span class="type">String</span>] = [<span class="number">42</span>: <span class="string">"forty-two"</span>, <span class="number">7</span>: <span class="string">"seven"</span>]</div><div class="line"><span class="keyword">let</span> intNames3 = [<span class="number">42</span>: <span class="string">"forty-two"</span>, <span class="number">7</span>: <span class="string">"seven"</span>]</div><div class="line"></div><div class="line"><span class="comment">//Optional</span></div><div class="line"><span class="keyword">var</span> birthdate: <span class="type">Optional</span>&lt;<span class="type">NSDate</span>&gt; = <span class="type">Optional</span>&lt;<span class="type">NSDate</span>&gt;.<span class="type">None</span></div><div class="line"><span class="keyword">if</span> birthdate == <span class="type">Optional</span>&lt;<span class="type">NSDate</span>&gt;.<span class="type">None</span> &#123;</div><div class="line">  <span class="comment">// no birthdate</span></div><div class="line">&#125;</div><div class="line"><span class="comment">//ç­‰ä»·äº</span></div><div class="line"><span class="keyword">var</span> birthdate: <span class="type">NSDate</span>? = <span class="literal">nil</span></div><div class="line"><span class="keyword">if</span> birthdate == <span class="literal">nil</span> &#123;</div><div class="line">  <span class="comment">// no birthdate</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//æ³›å‹å‡½æ•°</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">swapped</span>&lt;T, U&gt;<span class="params">(x: T, <span class="number">_</span> y: U)</span></span> -&gt; (<span class="type">U</span>, <span class="type">T</span>) &#123;</div><div class="line">  <span class="keyword">return</span> (y, x)</div><div class="line">&#125;</div><div class="line">swapped(<span class="number">33</span>, <span class="string">"Jay"</span>)  <span class="comment">// returns ("Jay", 33)</span></div></pre></td></tr></table></figure>
<h2 id="å‡½æ•°å¼ç¼–ç¨‹"><a href="#å‡½æ•°å¼ç¼–ç¨‹" class="headerlink" title="å‡½æ•°å¼ç¼–ç¨‹"></a>å‡½æ•°å¼ç¼–ç¨‹</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> Foundation</div><div class="line"><span class="comment">//map</span></div><div class="line"><span class="keyword">let</span> animals = [<span class="string">"cat"</span>, <span class="string">"dog"</span>, <span class="string">"sheep"</span>, <span class="string">"dolphin"</span>, <span class="string">"tiger"</span>]</div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">capitalize</span><span class="params">(s: String)</span></span> -&gt; <span class="type">String</span> &#123;</div><div class="line">  <span class="keyword">return</span> s.uppercaseString</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">characterForCharacterName</span><span class="params">(<span class="built_in">c</span>: String)</span></span> -&gt; <span class="type">Character</span> &#123;</div><div class="line">  <span class="keyword">let</span> curlyBracedCharacterName = <span class="string">"\\N&#123;<span class="subst">\(<span class="built_in">c</span>)</span>&#125;"</span></div><div class="line">  <span class="keyword">let</span> charStr = curlyBracedCharacterName.stringByApplyingTransform(</div><div class="line">    <span class="type">NSStringTransformToUnicodeName</span>, <span class="built_in">reverse</span>: <span class="literal">true</span>)</div><div class="line">  <span class="keyword">return</span> charStr!.characters.first!</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> uppercaseAnimals = animals.<span class="built_in">map</span>(capitalize)</div><div class="line"><span class="keyword">let</span> animalEmojis = uppercaseAnimals.<span class="built_in">map</span>(characterForCharacterName)</div><div class="line"></div><div class="line"><span class="keyword">let</span> uppercaseAnimals4 = animals.<span class="built_in">map</span>(&#123; $<span class="number">0</span>.uppercaseString &#125;)</div><div class="line"></div><div class="line"><span class="comment">//filter</span></div><div class="line"><span class="keyword">let</span> threeCharacterAnimals = animals.<span class="built_in">filter</span>() &#123;</div><div class="line">  $<span class="number">0</span>.characters.<span class="built_in">count</span> == <span class="number">3</span></div><div class="line">&#125;</div><div class="line">threeCharacterAnimals <span class="comment">// =&gt; ["cat", "dog"]</span></div><div class="line"></div><div class="line"><span class="comment">//reduce</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">sum</span><span class="params">(items: [Int])</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">  <span class="keyword">return</span> items.<span class="built_in">reduce</span>(<span class="number">0</span>, combine: +)</div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> total = sum([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</div><div class="line">total <span class="comment">// =&gt; (((0 + 1) + 2) + 3) == 6</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">concatenate</span><span class="params">(items: [String])</span></span> -&gt; <span class="type">String</span> &#123;</div><div class="line">  <span class="keyword">return</span> items.<span class="built_in">reduce</span>(<span class="string">""</span>, combine: +)</div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> phrase = concatenate([<span class="string">"Hello"</span>,<span class="string">" "</span>,<span class="string">"World"</span>])</div><div class="line">phrase <span class="comment">// =&gt; ((("" + "Hello") + " ") + "World") == "Hello World"</span></div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;é—²æš‡å­¦ä¹ Swiftè®°çš„ç¬”è®°ï¼Œåæœ‰æ—¶é—´ä¼šæŒç»­æ›´æ–°ï¼ŒæŸ¥æ¼è¡¥ç¼ºâ€¦ğŸ˜€&lt;/p&gt;
    
    </summary>
    
      <category term="Notes" scheme="https://coderdotcool.github.io/categories/Notes/"/>
    
    
      <category term="swift" scheme="https://coderdotcool.github.io/tags/swift/"/>
    
  </entry>
  
  <entry>
    <title>Gitç¬”è®°</title>
    <link href="https://coderdotcool.github.io/Notes/Git%E7%AC%94%E8%AE%B0.html"/>
    <id>https://coderdotcool.github.io/Notes/Gitç¬”è®°.html</id>
    <published>2016-05-19T07:01:27.000Z</published>
    <updated>2018-02-02T09:22:25.231Z</updated>
    
    <content type="html"><![CDATA[<p>ç»å¸¸ä¼šå¿˜gitçš„ä¸€äº›å‘½ä»¤ï¼Œå°±æ•´ç†äº†æ­¤ä»½ç¬”è®°ä¾›ä»¥åæŸ¥æ‰¾æ–¹ä¾¿ï¼Œä¼šæŒç»­æ›´æ–°â€¦</p>
<a id="more"></a>
<h1 id="åˆçº§"><a href="#åˆçº§" class="headerlink" title="åˆçº§"></a>åˆçº§</h1><h2 id="git-init"><a href="#git-init" class="headerlink" title="git init"></a>git init</h2><p>åˆå§‹åŒ–ä¸€ä¸ªç©ºä»“åº“</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git init</div></pre></td></tr></table></figure>
<h2 id="git-config"><a href="#git-config" class="headerlink" title="git config"></a>git config</h2><p>é…ç½®ã€Œç”¨æˆ·åã€å’Œã€Œé‚®ç®±ã€</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">git config --global user.name <span class="string">"docoder"</span></div><div class="line">git config --global user.email <span class="string">"docoder@163.com"</span></div><div class="line">git config â€”list</div><div class="line">git config user.email</div></pre></td></tr></table></figure>
 <!-- more -->
<h2 id="git-help"><a href="#git-help" class="headerlink" title="git help"></a>git help</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git <span class="built_in">help</span> commit</div></pre></td></tr></table></figure>
<h2 id="git-status"><a href="#git-status" class="headerlink" title="git status"></a>git status</h2><ul>
<li>untracked : æ–°å¢çš„æ–‡ä»¶ï¼ŒGit ä¸çŸ¥é“å®ƒçš„å­˜åœ¨</li>
<li>not staged : è¢«ç´¢å¼•è¿‡åˆè¢«ä¿®æ”¹äº†çš„æ–‡ä»¶</li>
<li>staged : é€šè¿‡ git add åè¢«å³å°†è¢«æäº¤çš„æ–‡ä»¶</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git status</div></pre></td></tr></table></figure>
<h2 id="git-log"><a href="#git-log" class="headerlink" title="git log"></a>git log</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">git <span class="built_in">log</span></div><div class="line">git <span class="built_in">log</span> --oneline</div><div class="line">git <span class="built_in">log</span> --oneline --decorate</div></pre></td></tr></table></figure>
<h2 id="gitignore"><a href="#gitignore" class="headerlink" title=".gitignore"></a>.gitignore</h2><p>ç”¨ ! æ¥å¯¹æ¨¡å¼å–å</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">*.a</div><div class="line">!lib.a</div></pre></td></tr></table></figure>
<h2 id="git-add"><a href="#git-add" class="headerlink" title="git add"></a>git add</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">git add README</div><div class="line">git add --all .</div><div class="line">git add .</div><div class="line">git add -A</div></pre></td></tr></table></figure>
<h2 id="git-tag"><a href="#git-tag" class="headerlink" title="git tag"></a>git tag</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">git tag new_tag</div><div class="line">git tag <span class="_">-d</span> deleteTag</div><div class="line"></div><div class="line"><span class="comment">#git push å‘½ä»¤é»˜è®¤æ˜¯ä¸ä¼š push Tags çš„ï¼Œéœ€è¦åŠ å‚æ•°ã€‚</span></div><div class="line">git push --tags</div><div class="line"></div><div class="line"><span class="comment">#æ·»åŠ è¿œç¨‹ Tag 0.0.2</span></div><div class="line">git push origin 0.0.2</div><div class="line"><span class="comment">#åˆ é™¤è¿œç¨‹ Tag 0.0.1</span></div><div class="line">git push origin :0.0.1</div></pre></td></tr></table></figure>
<h2 id="git-rm"><a href="#git-rm" class="headerlink" title="git rm"></a>git rm</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">git rm deleteme.js</div><div class="line"></div><div class="line"><span class="comment">#ä» staging area ä¸­ç§»é™¤å‡ºæ¥ï¼Œä½†ä¸åˆ é™¤æ–‡ä»¶</span></div><div class="line">git rm deleteme.js --cached</div></pre></td></tr></table></figure>
<h2 id="git-mv"><a href="#git-mv" class="headerlink" title="git mv"></a>git mv</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git mv oldfile.txt newfile.txt</div><div class="line">git mv *.html src/</div></pre></td></tr></table></figure>
<h2 id="git-merge"><a href="#git-merge" class="headerlink" title="git merge"></a>git merge</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git merge feature_branch</div></pre></td></tr></table></figure>
<h2 id="git-commit"><a href="#git-commit" class="headerlink" title="git commit"></a>git commit</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">git commit -m <span class="string">"Add README"</span></div><div class="line">git commit .</div><div class="line">git commit <span class="_">-a</span></div><div class="line">git commit -am <span class="string">"This is our first commit"</span></div><div class="line"></div><div class="line"><span class="comment">#è¿½åŠ æäº¤</span></div><div class="line">git commit --amend</div><div class="line"><span class="comment">#ä¿®æ”¹æäº¤æ—¥æœŸ</span></div><div class="line">git commit -m <span class="string">"Commit your changes with the future date"</span> --date <span class="string">'2018-04-05 23:59:59'</span></div></pre></td></tr></table></figure>
<h2 id="git-branch"><a href="#git-branch" class="headerlink" title="git branch"></a>git branch</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">git branch test_branch</div><div class="line"></div><div class="line">git checkout -b my_branch</div><div class="line"></div><div class="line"><span class="comment">#åˆ é™¤åˆ†æ”¯</span></div><div class="line">git branch <span class="_">-d</span> delete_branch</div><div class="line"></div><div class="line"><span class="comment">#æœ‰æ—¶å¿˜è®°å¼€æ–°çš„åˆ†æ”¯ï¼Œå°±ä¿®æ”¹å¹¶æäº¤äº†ä»£ç ã€‚å¼€åˆ†æ”¯çš„æ—¶å€™é»˜è®¤æ˜¯åŸºäºæœ€æ–°çš„ä¸€æ¬¡æäº¤çš„ï¼Œä½†æˆ‘ä»¬ä¹Ÿå¯ä»¥æŒ‡å®šå‚æ•°ä½¿å…¶åŸºäºä»»ä¸€æ¬¡æäº¤ã€‚</span></div><div class="line">git branch test_branch HEAD~1</div></pre></td></tr></table></figure>
<h2 id="git-remote"><a href="#git-remote" class="headerlink" title="git remote"></a>git remote</h2><p>remote å¯¹åº”è¿œç«¯ä»“åº“ </p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">git remote add origin https://github.com/docoder/docoder.github.io</div><div class="line">git remote</div><div class="line">git remote -v</div><div class="line">git remote rm origin</div></pre></td></tr></table></figure>
<h2 id="git-clone"><a href="#git-clone" class="headerlink" title="git clone"></a>git clone</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git <span class="built_in">clone</span> https://github.com/docoder/docoder.github.io</div><div class="line">git <span class="built_in">clone</span> https://github.com/docoder/docoder.github.io myname.github.io</div></pre></td></tr></table></figure>
<h2 id="git-checkout"><a href="#git-checkout" class="headerlink" title="git checkout"></a>git checkout</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">git checkout config.js</div><div class="line"></div><div class="line">git checkout -b my_branch</div><div class="line"></div><div class="line"><span class="comment">#checkout tag å’Œåˆ†æ”¯æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«</span></div><div class="line">git checkout v1.2</div><div class="line"></div><div class="line"><span class="comment">#å½“å­˜åœ¨åŒåçš„ tag å’Œåˆ†æ”¯æ—¶,åˆ†æ”¯ä¼˜å…ˆçº§é«˜ï¼Œæ‰€ä»¥è¦æ˜¾å¼åœ°å‘Šè¯‰ git æˆ‘ä»¬æ˜¯è¦åˆ‡æ¢åˆ° tag</span></div><div class="line">git checkout tags/v1.2</div></pre></td></tr></table></figure>
<h2 id="git-fetch"><a href="#git-fetch" class="headerlink" title="git fetch"></a>git fetch</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#ç”¨ fetch å‘½ä»¤æŠŠä»£ç æ‹¿ä¸‹æ¥,ä½†å¹¶ä¸åˆå¹¶åˆ°æœ¬åœ°ä»“åº“</span></div><div class="line">git fetch origin</div></pre></td></tr></table></figure>
<h2 id="git-pull"><a href="#git-pull" class="headerlink" title="git pull"></a>git pull</h2><p>å°†åˆ«äººæäº¤çš„ä»£ç ï¼Œæ‹‰åˆ°æœ¬åœ°</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git pull origin master</div></pre></td></tr></table></figure>
<h2 id="git-diff"><a href="#git-diff" class="headerlink" title="git diff"></a>git diff</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git diff</div></pre></td></tr></table></figure>
<h2 id="git-push"><a href="#git-push" class="headerlink" title="git push"></a>git push</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#æŠŠåˆ†æ”¯ push åˆ°è¿œç¨‹ä»“åº“ä¸­å»</span></div><div class="line">git push origin test_branch</div></pre></td></tr></table></figure>
<h2 id="git-reset"><a href="#git-reset" class="headerlink" title="git reset"></a>git reset</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">git reset to_commit_second.js</div><div class="line"></div><div class="line"><span class="comment">#`HEAD~1` å€’æ•°ç¬¬äºŒçš„ä½ç½®</span></div><div class="line"><span class="comment">#`--soft` æŠŠå˜æ›´ä¿æŒåœ¨ staging area</span></div><div class="line">git reset HEAD~1 --soft</div></pre></td></tr></table></figure>
<h1 id="é«˜çº§"><a href="#é«˜çº§" class="headerlink" title="é«˜çº§"></a>é«˜çº§</h1><h2 id="git-stash"><a href="#git-stash" class="headerlink" title="git stash"></a>git stash</h2><p>æŠŠå½“å‰æœªæäº¤çš„æ”¹åŠ¨ã€Œå¤åˆ¶ã€åˆ°å¦ä¸€ä¸ªåœ°æ–¹æš‚å­˜èµ·æ¥ï¼Œå¾…è¦æ¢å¤çš„æ—¶å€™æ‰§è¡Œ <code>git stash pop</code> å³å¯</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git stash</div><div class="line">git stash pop</div></pre></td></tr></table></figure>
<h2 id="git-add-1"><a href="#git-add-1" class="headerlink" title="git add"></a>git add</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Open the diff vs. the index in an editor and let the user edit it. After the editor was closed, adjust the hunk headers and apply the patch to the index.</span></div><div class="line">git add <span class="_">-e</span></div></pre></td></tr></table></figure>
<h2 id="git-merge-1"><a href="#git-merge-1" class="headerlink" title="git merge"></a>git merge</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#å°†long-feature-branchçš„æ‰€æœ‰commit åˆæˆä¸€ä¸ªcommit åˆ°æœ¬åˆ†æ”¯</span></div><div class="line">git merge long-feature-branch --squash</div><div class="line">	git commit</div><div class="line">	</div><div class="line">	</div><div class="line"><span class="comment">#è§£å†³å†²çª</span></div><div class="line">git merge mybranch</div><div class="line">	<span class="comment">#(CONFLICT (content): Merge conflict in poem.txt)</span></div><div class="line">	vim poem.txt</div><div class="line">	<span class="comment">#(è§£å†³å†²çªçš„åœ°æ–¹ä¸ºä½ æƒ³è¦çš„æ­£ç¡®çš„ä»£ç )</span></div><div class="line">	git add poem.txt</div><div class="line">	git commit</div><div class="line">	<span class="comment">#(å¯ä»¥ä¿®æ”¹messageä¹Ÿå¯ä»¥ä¸ä¿®æ”¹ï¼Œä¿å­˜)</span></div></pre></td></tr></table></figure>
<h2 id="git-rebase"><a href="#git-rebase" class="headerlink" title="git rebase"></a>git rebase</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">git rebase</div><div class="line"></div><div class="line"><span class="comment">#å°†featureåˆ†æ”¯rebaseåˆ°masterä¸Š</span></div><div class="line">git rebase master feature</div><div class="line"></div><div class="line"><span class="comment">#ä¿®æ”¹ commit message</span></div><div class="line">git rebase -i HEAD~~ </div><div class="line">	<span class="comment">#(å°†è¦ä¿®æ”¹çš„commitçš„å‰é¢çš„ pick æ”¹æˆ edit åä¿å­˜)</span></div><div class="line">	git commit --amend</div><div class="line">	<span class="comment">#(ä¿®æ”¹ commit message åä¿å­˜)</span></div><div class="line">	git rebase --continue</div><div class="line">	</div><div class="line"><span class="comment">#åˆå¹¶commit</span></div><div class="line">git rebase -i HEAD~4</div><div class="line">	<span class="comment">#(å°†è¦åˆå¹¶çš„commitçš„å‰é¢çš„ pick éƒ½æ”¹æˆ squash åä¿å­˜ )</span></div><div class="line">	<span class="comment">#(å¯ä»¥ä¿®æ”¹messageä¹Ÿå¯ä»¥ä¸ä¿®æ”¹ï¼Œä¿å­˜)</span></div><div class="line"></div><div class="line"><span class="comment">#æ‹†åˆ†commit</span></div><div class="line">git rebase -i HEAD^</div><div class="line">	<span class="comment">#(å°†`updated README formatting and added blame`æ‹†åˆ†ä¸ºï¼šç¬¬ä¸€æ¬¡ä¸º `updated README formatting`ï¼Œç¬¬äºŒæ¬¡ä¸º `added blame`)</span></div><div class="line">	<span class="comment">#(å°†è¦æ‹†åˆ†çš„commitçš„å‰é¢çš„ pick æ”¹æˆ edit åä¿å­˜ )</span></div><div class="line">	git add README</div><div class="line">	git commit -m <span class="string">'updated README formatting'</span></div><div class="line">	git add lib/simplegit.js</div><div class="line">	git commit -m <span class="string">'added blame'</span></div><div class="line">	git rebase --continue</div><div class="line"></div><div class="line"><span class="comment">#è°ƒæ•´commitçš„é¡ºåº</span></div><div class="line">git rebase -i HEAD~3</div><div class="line">	<span class="comment">#(å°† pick çš„ commit å’Œå…¶ message çš„é¡ºåºæ”¹æˆä½ çš„è¦æ±‚ï¼Œåä¿å­˜)</span></div></pre></td></tr></table></figure>
<h2 id="git-cherry-pick"><a href="#git-cherry-pick" class="headerlink" title="git cherry-pick"></a>git cherry-pick</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#å°†å…¶ä»–åˆ†æ”¯çš„æäº¤ï¼ˆca32a6dï¼‰æ‹¿è¿‡æ¥åˆ°æœ¬åˆ†æ”¯</span></div><div class="line">git cherry-pick ca32a6d</div></pre></td></tr></table></figure>
<h2 id="git-revert"><a href="#git-revert" class="headerlink" title="git revert"></a>git revert</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#æ’¤é”€ æŸæ¬¡æ“ä½œï¼Œæ­¤æ¬¡æ“ä½œä¹‹å‰å’Œä¹‹åçš„commitå’Œhistoryéƒ½ä¼šä¿ç•™ï¼Œå¹¶ä¸”æŠŠè¿™æ¬¡æ’¤é”€ä½œä¸ºä¸€æ¬¡æœ€æ–°çš„æäº¤</span></div><div class="line"><span class="comment">#æ’¤é”€å‰ä¸€æ¬¡ commit</span></div><div class="line">git revert HEAD</div><div class="line"><span class="comment">#æ’¤é”€å‰å‰ä¸€æ¬¡ commit</span></div><div class="line">git revert HEAD^</div><div class="line"><span class="comment">#æ’¤é”€æŒ‡å®šçš„commitï¼Œæ’¤é”€ä¹Ÿä¼šä½œä¸ºä¸€æ¬¡æäº¤è¿›è¡Œä¿å­˜</span></div><div class="line">git revert 7ab60ed</div></pre></td></tr></table></figure>
<h2 id="git-grep"><a href="#git-grep" class="headerlink" title="git grep"></a>git grep</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#æŸ¥æ‰¾æ¯ä¸ªåŒ…å«æœ‰å­—ç¬¦ä¸²`searchStr`çš„åœ°æ–¹</span></div><div class="line">git grep searchStr</div><div class="line"></div><div class="line"><span class="comment">#`-n` æ˜¾ç¤ºè¡Œå·</span></div><div class="line">git grep -n searchStr</div><div class="line"></div><div class="line"><span class="comment">#`--name-only` åªæ˜¾ç¤ºæ–‡ä»¶å</span></div><div class="line">git grep --name-only searchStr</div><div class="line"></div><div class="line"><span class="comment">#æŸ¥æ‰¾ä»“åº“é‡ŒæŸä¸ªç‰¹å®šç‰ˆæœ¬(æ ‡ç­¾åtag reference:`v1.5.0`)é‡Œçš„å†…å®¹</span></div><div class="line">git grep searchStr v1.5.0</div><div class="line"></div><div class="line"><span class="comment">#`-c` æŸ¥çœ‹æ¯ä¸ªæ–‡ä»¶é‡Œæœ‰å¤šå°‘è¡ŒåŒ¹é…çš„å†…å®¹ (ç»Ÿè®¡æ¯ä¸ªæ–‡ä»¶æœ‰å¤šå°‘çš„TODO)</span></div><div class="line">git grep -c TODO </div><div class="line"></div><div class="line"><span class="comment">#å“ªä¸ªåœ°æ–¹å®šä¹‰äº†å®(`#define`):`SORT_DIRENT`</span></div><div class="line">git grep <span class="_">-e</span> <span class="string">'#define'</span> --and <span class="_">-e</span> SORT_DIRENT</div><div class="line"></div><div class="line"><span class="comment">#åå­—ä¸­å«æœ‰`PATH`æˆ–æ˜¯`MAX`çš„å®(`#define`)å®šä¹‰</span></div><div class="line">git grep <span class="_">-e</span> <span class="string">'#define'</span> --and \( <span class="_">-e</span> PATH <span class="_">-e</span> MAX \)</div><div class="line"></div><div class="line"><span class="comment">#å“ªä¸ªåœ°æ–¹å«æœ‰`MAX`æˆ–æ˜¯`MIN`</span></div><div class="line">git grep --all-match <span class="_">-e</span> MAX <span class="_">-e</span> MIN</div></pre></td></tr></table></figure>
<h2 id="git-reflog"><a href="#git-reflog" class="headerlink" title="git reflog"></a>git reflog</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">git reflog</div><div class="line"></div><div class="line"><span class="comment">#Restore the deleted commit</span></div><div class="line">git reflog</div><div class="line">	git reset --hard 18cbf98</div></pre></td></tr></table></figure>
<h2 id="git-submodule"><a href="#git-submodule" class="headerlink" title="git submodule"></a>git submodule</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git submodule add https://github.com/jackmaney/githug-include-me ./githug-include-me</div></pre></td></tr></table></figure>
<h2 id="git-blame"><a href="#git-blame" class="headerlink" title="git blame"></a>git blame</h2><p>å¿«é€Ÿæ‰¾åˆ°æŸè¡Œä»£ç æœ€åçš„ä¿®æ”¹è€…,è¿½è´£</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git blame config.js</div></pre></td></tr></table></figure>
<h2 id="git-repack"><a href="#git-repack" class="headerlink" title="git repack"></a>git repack</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#Optimise how your repository is packaged ensuring that redundant packs are removed.</span></div><div class="line">git repack <span class="_">-d</span></div></pre></td></tr></table></figure>
<h2 id="git-bisect"><a href="#git-bisect" class="headerlink" title="git bisect"></a>git bisect</h2><p>Bisect å°±æ˜¯åˆ©ç”¨äºŒåˆ†æŸ¥æ‰¾å‘æ¥æŸ¥æ‰¾åœ¨ä½ çš„æŸä¸€åˆ†æ”¯ä¸­åˆ°åº•æ˜¯å“ªä¸€æ¬¡æäº¤å¼•å…¥äº†ç‰¹å®šçš„å˜æ›´(é€šå¸¸ä¸ºæ£€æµ‹bug)</p>
<p>é¦–å…ˆï¼Œè¦ç”¨æ–¹æ³•æ£€æµ‹å‡ºä¸€ä¸ªç»™å®šçš„æäº¤ç‚¹æ˜¯ä¸æ˜¯æœ‰ bugï¼Œå¯ä»¥å†™ä¸ªæµ‹è¯•ä»£ç æˆ–è„šæœ¬</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#å¼€å§‹ bisect</span></div><div class="line">git bisect start</div><div class="line"><span class="comment">#æ²¡æœ‰å¾—åˆ°æƒ³è¦çš„ç»“æœï¼ˆå°±æ˜¯æ²¡æœ‰ä»»ä½•è¾“å‡ºï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠå®ƒæ ‡è®°ä¸ºåçš„ï¼Œä½œä¸ºç»ˆç‚¹ã€‚</span></div><div class="line">git bisect bad</div><div class="line"></div><div class="line"><span class="comment">#æŒ‡å®šä¸€ä¸ªå¥½çš„æäº¤ç‚¹ï¼šå‡è®¾ç¬¬ä¸€ä¸ªæäº¤ç‚¹ï¼ˆ80a9b3dï¼‰æ˜¯æ²¡æœ‰ bug çš„ï¼Œä½œä¸ºèµ·ç‚¹ã€‚</span></div><div class="line">git bisect good 80a9b3d</div><div class="line"></div><div class="line"><span class="comment">#è¿è¡Œè‡ªåŠ¨åŒ–è„šæœ¬ `test.sh`</span></div><div class="line">	git bisect run ./test.sh</div><div class="line"><span class="comment">#æˆ– è¿è¡Œmakeè„šæœ¬ `test`</span></div><div class="line">	git bisect run make <span class="built_in">test</span></div><div class="line"><span class="comment">#(è„šæœ¬ï¼Œæ­£ç¡®çš„è¿”å› 0ï¼Œåä¹‹è¿”å› 1)</span></div><div class="line"><span class="comment">#å¦‚ï¼štest.sh:</span></div><div class="line"></div><div class="line"><span class="keyword">if</span> [[ `grep 1013 file.txt` ]]; <span class="keyword">then</span></div><div class="line">  <span class="built_in">exit</span> 1</div><div class="line"><span class="keyword">else</span></div><div class="line">  <span class="built_in">exit</span> 0</div><div class="line"><span class="keyword">fi</span></div></pre></td></tr></table></figure>
<h2 id="git-filter-branch"><a href="#git-filter-branch" class="headerlink" title="git filter-branch"></a>git filter-branch</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#è®©trunkå­ç›®å½•æˆä¸ºæ¯ä¸€æ¬¡æäº¤çš„æ–°çš„é¡¹ç›®æ ¹ç›®å½•</span></div><div class="line">$ git filter-branch --subdirectory-filter trunk HEAD</div><div class="line"></div><div class="line"><span class="comment">#å…¨å±€æ€§åœ°æ›´æ¢ç”µå­é‚®ä»¶åœ°å€</span></div><div class="line">git filter-branch --commit-filter <span class="string">' </span></div><div class="line">	if [ "$GIT_AUTHOR_EMAIL" = "schacon@localhost" ]; </div><div class="line">	then </div><div class="line">		GIT_AUTHOR_NAME="Scott Chacon";</div><div class="line">		GIT_AUTHOR_EMAIL="schacon@example.com"; </div><div class="line">		git commit-tree "$@"; </div><div class="line">	else </div><div class="line">		git commit-tree "$@"; </div><div class="line">	fi' HEAD</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»å¸¸ä¼šå¿˜gitçš„ä¸€äº›å‘½ä»¤ï¼Œå°±æ•´ç†äº†æ­¤ä»½ç¬”è®°ä¾›ä»¥åæŸ¥æ‰¾æ–¹ä¾¿ï¼Œä¼šæŒç»­æ›´æ–°â€¦&lt;/p&gt;
    
    </summary>
    
      <category term="Notes" scheme="https://coderdotcool.github.io/categories/Notes/"/>
    
    
      <category term="git" scheme="https://coderdotcool.github.io/tags/git/"/>
    
  </entry>
  
</feed>
