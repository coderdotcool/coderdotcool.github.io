<!DOCTYPE html>
<html>
<head>
    
<!-- Google Analytics -->
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'true', 'auto');
ga('send', 'pageview');
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
<!-- End Google Analytics -->


    

    



    <meta charset="utf-8">
    
    <meta name="google-site-verification" content="UA-49984855-3">
    
    
    <link rel="canonical" href="http://coder.cool/Notes/Swift笔记.html">
    
    
    <title>Swift笔记 | Coder Cool ! | Coder Just Cool !</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="swift">
    <meta name="description" content="闲暇学习Swift记的笔记，后有时间会持续更新，查漏补缺…😀">
<meta name="keywords" content="swift">
<meta property="og:type" content="article">
<meta property="og:title" content="Swift笔记">
<meta property="og:url" content="https://coderdotcool.github.io/Notes/Swift笔记.html">
<meta property="og:site_name" content="Coder Cool !">
<meta property="og:description" content="闲暇学习Swift记的笔记，后有时间会持续更新，查漏补缺…😀">
<meta property="og:image" content="https://coderdotcool.github.io/images/designated_convenience.png">
<meta property="og:updated_time" content="2017-05-12T15:19:49.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Swift笔记">
<meta name="twitter:description" content="闲暇学习Swift记的笔记，后有时间会持续更新，查漏补缺…😀">
<meta name="twitter:image" content="https://coderdotcool.github.io/images/designated_convenience.png">
    
        <link rel="alternate" type="application/atom+xml" title="Coder Cool !" href="/atom.xml">
    
    <link rel="shortcut icon" href="/img/favicon.png">
    <link rel="stylesheet" href="/css/style.css?v=1.7.0">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.png">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">codercool</h5>
          <a href="mailto:codercool@163.com" title="codercool@163.com" class="mail">codercool@163.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                首页
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                标签
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                分类
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                归档
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/docoder" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="http://docoder.com"  >
                <i class="icon icon-lg icon-link"></i>
                docoder.com
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/WeekUp" target="_blank" >
                <i class="icon icon-lg icon-diamond"></i>
                WeekUp
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/GameStar" target="_blank" >
                <i class="icon icon-lg icon-globe"></i>
                游戏星球
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">Swift笔记</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">Swift笔记</h1>
        <h5 class="subtitle">
            
                <time datetime="2016-05-19T12:22:07.000Z" itemprop="datePublished" class="page-time">
  2016-05-19
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Notes/">Notes</a></li></ul>

            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#基本"><span class="post-toc-number">1.</span> <span class="post-toc-text">基本</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#常量"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">常量</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#变量"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">变量</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#命名"><span class="post-toc-number">1.3.</span> <span class="post-toc-text">命名</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#类型推导"><span class="post-toc-number">1.4.</span> <span class="post-toc-text">类型推导</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#类型转换"><span class="post-toc-number">1.5.</span> <span class="post-toc-text">类型转换</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#元组-Tuples"><span class="post-toc-number">1.6.</span> <span class="post-toc-text">元组(Tuples)</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#取模"><span class="post-toc-number">1.7.</span> <span class="post-toc-text">取模</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Shift-operations"><span class="post-toc-number">1.8.</span> <span class="post-toc-text">Shift operations</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#字符串"><span class="post-toc-number">1.9.</span> <span class="post-toc-text">字符串</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#判断"><span class="post-toc-number">1.10.</span> <span class="post-toc-text">判断</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#if"><span class="post-toc-number">1.10.1.</span> <span class="post-toc-text">if</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#switch"><span class="post-toc-number">1.10.2.</span> <span class="post-toc-text">switch</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Ranges"><span class="post-toc-number">1.11.</span> <span class="post-toc-text">Ranges</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#循环"><span class="post-toc-number">1.12.</span> <span class="post-toc-text">循环</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#for"><span class="post-toc-number">1.12.1.</span> <span class="post-toc-text">for</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#while"><span class="post-toc-number">1.12.2.</span> <span class="post-toc-text">while</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#repeat"><span class="post-toc-number">1.12.3.</span> <span class="post-toc-text">repeat</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#labeled-statements"><span class="post-toc-number">1.12.4.</span> <span class="post-toc-text">labeled statements</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#函数"><span class="post-toc-number">1.13.</span> <span class="post-toc-text">函数</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#参数"><span class="post-toc-number">1.13.1.</span> <span class="post-toc-text">参数</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#返回值"><span class="post-toc-number">1.13.2.</span> <span class="post-toc-text">返回值</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#默认pass-by-value"><span class="post-toc-number">1.13.3.</span> <span class="post-toc-text">默认pass-by-value</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#pass-by-reference"><span class="post-toc-number">1.13.4.</span> <span class="post-toc-text">pass-by-reference</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#函数作为变量"><span class="post-toc-number">1.13.5.</span> <span class="post-toc-text">函数作为变量</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Closure"><span class="post-toc-number">1.14.</span> <span class="post-toc-text">Closure</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#简写"><span class="post-toc-number">1.14.1.</span> <span class="post-toc-text">简写</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#无返回值"><span class="post-toc-number">1.14.2.</span> <span class="post-toc-text">无返回值</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#闭包"><span class="post-toc-number">1.14.3.</span> <span class="post-toc-text">闭包</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Optionals"><span class="post-toc-number">1.15.</span> <span class="post-toc-text">Optionals</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#force-unwrapping"><span class="post-toc-number">1.15.1.</span> <span class="post-toc-text">force unwrapping</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#If-let-binding"><span class="post-toc-number">1.15.2.</span> <span class="post-toc-text">If let binding</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#nil-coalescing"><span class="post-toc-number">1.15.3.</span> <span class="post-toc-text">nil coalescing</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#集合"><span class="post-toc-number">2.</span> <span class="post-toc-text">集合</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#数组"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">数组</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#创建数组"><span class="post-toc-number">2.1.1.</span> <span class="post-toc-text">创建数组</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#属性和方法"><span class="post-toc-number">2.1.2.</span> <span class="post-toc-text">属性和方法</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#数组操作"><span class="post-toc-number">2.1.3.</span> <span class="post-toc-text">数组操作</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#遍历"><span class="post-toc-number">2.1.4.</span> <span class="post-toc-text">遍历</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Sequence-operations"><span class="post-toc-number">2.1.5.</span> <span class="post-toc-text">Sequence operations</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#字典"><span class="post-toc-number">2.2.</span> <span class="post-toc-text">字典</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#创建字典"><span class="post-toc-number">2.2.1.</span> <span class="post-toc-text">创建字典</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#属性和方法-1"><span class="post-toc-number">2.2.2.</span> <span class="post-toc-text">属性和方法</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#字典操作"><span class="post-toc-number">2.2.3.</span> <span class="post-toc-text">字典操作</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#遍历-1"><span class="post-toc-number">2.2.4.</span> <span class="post-toc-text">遍历</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Sequence-operations-1"><span class="post-toc-number">2.2.5.</span> <span class="post-toc-text">Sequence operations</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Sets"><span class="post-toc-number">2.3.</span> <span class="post-toc-text">Sets</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#创建Set"><span class="post-toc-number">2.3.1.</span> <span class="post-toc-text">创建Set</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#属性和方法-2"><span class="post-toc-number">2.3.2.</span> <span class="post-toc-text">属性和方法</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Set操作"><span class="post-toc-number">2.3.3.</span> <span class="post-toc-text">Set操作</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#遍历-2"><span class="post-toc-number">2.3.4.</span> <span class="post-toc-text">遍历</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#自定义类型"><span class="post-toc-number">3.</span> <span class="post-toc-text">自定义类型</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#结构体"><span class="post-toc-number">3.1.</span> <span class="post-toc-text">结构体</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#简单创建使用"><span class="post-toc-number">3.1.1.</span> <span class="post-toc-text">简单创建使用</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#自定义构造方法"><span class="post-toc-number">3.1.2.</span> <span class="post-toc-text">自定义构造方法</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#方法"><span class="post-toc-number">3.1.3.</span> <span class="post-toc-text">方法</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Extensions"><span class="post-toc-number">3.1.4.</span> <span class="post-toc-text">Extensions</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#结构体变量"><span class="post-toc-number">3.1.5.</span> <span class="post-toc-text">结构体变量</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#类"><span class="post-toc-number">3.2.</span> <span class="post-toc-text">类</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#创建"><span class="post-toc-number">3.2.1.</span> <span class="post-toc-text">创建</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#访问控制"><span class="post-toc-number">3.2.2.</span> <span class="post-toc-text">访问控制</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#继承"><span class="post-toc-number">3.2.3.</span> <span class="post-toc-text">继承</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#枚举"><span class="post-toc-number">3.3.</span> <span class="post-toc-text">枚举</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#创建-1"><span class="post-toc-number">3.3.1.</span> <span class="post-toc-text">创建</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Raw-values"><span class="post-toc-number">3.3.2.</span> <span class="post-toc-text">Raw values</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Associated-values"><span class="post-toc-number">3.3.3.</span> <span class="post-toc-text">Associated values</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Optionals-1"><span class="post-toc-number">3.3.4.</span> <span class="post-toc-text">Optionals</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#属性-Properties"><span class="post-toc-number">3.4.</span> <span class="post-toc-text">属性 (Properties)</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#存储属性"><span class="post-toc-number">3.4.1.</span> <span class="post-toc-text">存储属性</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#计算属性"><span class="post-toc-number">3.4.2.</span> <span class="post-toc-text">计算属性</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Getter-and-setter"><span class="post-toc-number">3.4.3.</span> <span class="post-toc-text">Getter and setter</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Type-properties-静态属性"><span class="post-toc-number">3.4.4.</span> <span class="post-toc-text">Type properties (静态属性)</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#单例"><span class="post-toc-number">3.4.5.</span> <span class="post-toc-text">单例</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Property-observers"><span class="post-toc-number">3.4.6.</span> <span class="post-toc-text">Property observers</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#懒加载（Lazy-properties）"><span class="post-toc-number">3.4.7.</span> <span class="post-toc-text">懒加载（Lazy properties）</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#方法-Methods"><span class="post-toc-number">3.5.</span> <span class="post-toc-text">方法(Methods)</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Function-转为-Method"><span class="post-toc-number">3.5.1.</span> <span class="post-toc-text">Function 转为 Method</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#构造方法-Initializers"><span class="post-toc-number">3.5.2.</span> <span class="post-toc-text">构造方法(Initializers)</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Mutating-methods"><span class="post-toc-number">3.5.3.</span> <span class="post-toc-text">Mutating methods</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Type-methods-静态方法"><span class="post-toc-number">3.5.4.</span> <span class="post-toc-text">Type methods (静态方法)</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#协议-Protocols"><span class="post-toc-number">3.6.</span> <span class="post-toc-text">协议 (Protocols)</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#定义协议"><span class="post-toc-number">3.6.1.</span> <span class="post-toc-text">定义协议</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#协议继承"><span class="post-toc-number">3.6.2.</span> <span class="post-toc-text">协议继承</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#实现协议"><span class="post-toc-number">3.6.3.</span> <span class="post-toc-text">实现协议</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Typealias"><span class="post-toc-number">3.6.4.</span> <span class="post-toc-text">Typealias</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Extensions-1"><span class="post-toc-number">3.6.5.</span> <span class="post-toc-text">Extensions</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#操作符Extensions-Equatable和Comparable协议"><span class="post-toc-number">3.6.6.</span> <span class="post-toc-text">操作符Extensions (Equatable和Comparable协议)</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Hashable协议"><span class="post-toc-number">3.6.7.</span> <span class="post-toc-text">Hashable协议</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#BooleanType-协议"><span class="post-toc-number">3.6.8.</span> <span class="post-toc-text">BooleanType 协议</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#CustomStringConvertible"><span class="post-toc-number">3.6.9.</span> <span class="post-toc-text">CustomStringConvertible</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#面向协议编程-Protocol-Oriented-Programming"><span class="post-toc-number">3.7.</span> <span class="post-toc-text">面向协议编程 ( Protocol-Oriented Programming )</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#扩展协议-protocol-extensions"><span class="post-toc-number">3.7.1.</span> <span class="post-toc-text">扩展协议 (protocol extensions)</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#协议中方法的默认实现-Default-implementations"><span class="post-toc-number">3.7.2.</span> <span class="post-toc-text">协议中方法的默认实现 (Default implementations)</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#扩展协议的分派-dispatching"><span class="post-toc-number">3.7.3.</span> <span class="post-toc-text">扩展协议的分派(dispatching)</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#限制类型的协议扩展-Type-constraints"><span class="post-toc-number">3.7.4.</span> <span class="post-toc-text">限制类型的协议扩展 (Type constraints)</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Traits-mixins-and-multiple-inheritance"><span class="post-toc-number">3.7.5.</span> <span class="post-toc-text">Traits, mixins and multiple inheritance</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#高级"><span class="post-toc-number">4.</span> <span class="post-toc-text">高级</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#错误处理"><span class="post-toc-number">4.1.</span> <span class="post-toc-text">错误处理</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#泛型-Generics"><span class="post-toc-number">4.2.</span> <span class="post-toc-text">泛型 (Generics)</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#函数式编程"><span class="post-toc-number">4.3.</span> <span class="post-toc-text">函数式编程</span></a></li></ol></li></ol>
        </nav>
    </aside>
    
<article id="post-Swift笔记"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">Swift笔记</h1>
        <div class="post-meta">
            <time class="post-time" title="2016-05-19 20:22:07" datetime="2016-05-19T12:22:07.000Z"  itemprop="datePublished">2016-05-19</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Notes/">Notes</a></li></ul>



            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style='display:none'>
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <p>闲暇学习Swift记的笔记，后有时间会持续更新，查漏补缺…😀</p>
<a id="more"></a>
<h1 id="基本"><a href="#基本" class="headerlink" title="基本"></a>基本</h1><h2 id="常量"><a href="#常量" class="headerlink" title="常量"></a>常量</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> pi: <span class="type">Double</span> = <span class="number">3.14159</span></div></pre></td></tr></table></figure>
<h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> variableNumber: <span class="type">Int</span> = <span class="number">42</span></div><div class="line">variableNumber = <span class="number">1_000_000</span></div></pre></td></tr></table></figure>
<h2 id="命名"><a href="#命名" class="headerlink" title="命名"></a>命名</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//You can even use the full range of Unicode characters</span></div><div class="line"><span class="keyword">var</span> 变量ßœ√å: <span class="type">Int</span> = -<span class="number">1</span></div></pre></td></tr></table></figure>
<!-- more -->
<h2 id="类型推导"><a href="#类型推导" class="headerlink" title="类型推导"></a>类型推导</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> coordinates3D: (x: <span class="type">Int</span>, y: <span class="type">Int</span>, z: <span class="type">Int</span>) = (<span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>)</div><div class="line"><span class="keyword">let</span> (x, y, z) = coordinates3D</div></pre></td></tr></table></figure>
<h2 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> integer: <span class="type">Int</span> = <span class="number">100</span></div><div class="line"><span class="keyword">var</span> decimal: <span class="type">Double</span> = <span class="number">12.5</span></div><div class="line">integer = <span class="type">Int</span>(decimal)</div><div class="line"></div><div class="line"><span class="keyword">let</span> hourlyRate = <span class="number">19.5</span></div><div class="line"><span class="keyword">let</span> hoursWorked = <span class="number">10</span></div><div class="line"><span class="keyword">let</span> totalCost = hourlyRate * <span class="type">Double</span>(hoursWorked)</div></pre></td></tr></table></figure>
<h2 id="元组-Tuples"><a href="#元组-Tuples" class="headerlink" title="元组(Tuples)"></a>元组(Tuples)</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> coordinates: (<span class="type">Int</span>, <span class="type">Int</span>) = (<span class="number">2</span>, <span class="number">3</span>)</div><div class="line"><span class="keyword">let</span> x: <span class="type">Int</span> = coordinates.<span class="number">0</span></div><div class="line"><span class="keyword">let</span> y: <span class="type">Int</span> = coordinates.<span class="number">1</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> coordinates3D: (x: <span class="type">Int</span>, y: <span class="type">Int</span>, z: <span class="type">Int</span>) = (<span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>)</div><div class="line"><span class="keyword">let</span> x1 = coordinates3D.x</div><div class="line"><span class="keyword">let</span> y1 = coordinates3D.y</div><div class="line"><span class="keyword">let</span> z1 = coordinates3D.z</div><div class="line"></div><div class="line"><span class="keyword">let</span> (x2, y2, <span class="number">_</span>) = coordinates3D</div></pre></td></tr></table></figure>
<h2 id="取模"><a href="#取模" class="headerlink" title="取模"></a>取模</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> moduloDecimal = <span class="number">11.6</span> % <span class="number">1.2</span></div><div class="line"><span class="comment">//moduloDecimal 等于 0.8，因为11.6 = 1.2*9+0.8</span></div></pre></td></tr></table></figure>
<h2 id="Shift-operations"><a href="#Shift-operations" class="headerlink" title="Shift operations"></a>Shift operations</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> shiftLeft = <span class="number">1</span> &lt;&lt; <span class="number">3</span></div><div class="line"><span class="keyword">let</span> shiftRight = <span class="number">32</span> &gt;&gt; <span class="number">2</span></div><div class="line"><span class="comment">//结果都等于 8</span></div></pre></td></tr></table></figure>
<h2 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> name = <span class="string">"Matt"</span></div><div class="line"><span class="keyword">let</span> message = <span class="string">"Hello my name is <span class="subst">\(name)</span>!"</span> <span class="comment">// "Hello my name is Matt!"</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> oneThird = <span class="number">1.0</span> / <span class="number">3.0</span></div><div class="line"><span class="keyword">let</span> oneThirdLongString = <span class="string">"One third is <span class="subst">\(oneThird)</span> as a decimal."</span> <span class="comment">//One third is 0.3333333333333333 as a decimal.</span></div><div class="line"></div><div class="line"><span class="comment">//combining character</span></div><div class="line"><span class="keyword">let</span> stringA = <span class="string">"café"</span></div><div class="line"><span class="keyword">let</span> stringB = <span class="string">"cafe\u&#123;0301&#125;"</span></div><div class="line">stringA.characters.<span class="built_in">count</span> <span class="comment">//4</span></div><div class="line">stringB.characters.<span class="built_in">count</span> <span class="comment">//4</span></div><div class="line"><span class="keyword">let</span> <span class="built_in">equal</span> = stringA == stringB <span class="comment">//equal 为 true</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> string = <span class="string">"Swift Apprentice is a great book!"</span></div><div class="line">string.uppercaseString <span class="comment">//SWIFT APPRENTICE IS A GREAT BOOK!</span></div><div class="line">string.lowercaseString <span class="comment">//swift apprentice is a great book!</span></div></pre></td></tr></table></figure>
<h2 id="判断"><a href="#判断" class="headerlink" title="判断"></a>判断</h2><h3 id="if"><a href="#if" class="headerlink" title="if"></a>if</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> hoursWorked = <span class="number">45</span></div><div class="line"><span class="keyword">var</span> price = <span class="number">0</span></div><div class="line"><span class="keyword">if</span> hoursWorked &gt; <span class="number">40</span> &#123;</div><div class="line">  <span class="keyword">let</span> hoursOver40 = hoursWorked - <span class="number">40</span></div><div class="line">  price += hoursOver40 * <span class="number">50</span></div><div class="line">  hoursWorked -= hoursOver40</div><div class="line">&#125;</div><div class="line">price += hoursWorked * <span class="number">25</span></div><div class="line"><span class="built_in">print</span>(price)</div><div class="line"></div><div class="line"><span class="comment">//1250</span></div></pre></td></tr></table></figure>
<h3 id="switch"><a href="#switch" class="headerlink" title="switch"></a>switch</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> hourOfDay = <span class="number">12</span></div><div class="line"><span class="keyword">let</span> timeOfDay: <span class="type">String</span></div><div class="line"><span class="keyword">switch</span> (hourOfDay) &#123;</div><div class="line"><span class="keyword">case</span> <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>:</div><div class="line">  timeOfDay = <span class="string">"Early morning"</span></div><div class="line"><span class="keyword">case</span> <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>:</div><div class="line">timeOfDay = <span class="string">"Morning"</span></div><div class="line"><span class="keyword">case</span> <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>:</div><div class="line">  timeOfDay = <span class="string">"Afternoon"</span></div><div class="line"><span class="keyword">case</span> <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>:</div><div class="line">  timeOfDay = <span class="string">"Evening"</span></div><div class="line"><span class="keyword">case</span> <span class="number">20</span>, <span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>:</div><div class="line">  timeOfDay = <span class="string">"Late evening"</span></div><div class="line"><span class="keyword">default</span>:</div><div class="line">  timeOfDay = <span class="string">"INVALID HOUR!"</span></div><div class="line">&#125;</div><div class="line"><span class="built_in">print</span>(timeOfDay)</div><div class="line"></div><div class="line"><span class="comment">//Afternoon</span></div></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> number = <span class="number">10</span></div><div class="line"><span class="keyword">switch</span> (number) &#123;</div><div class="line"><span class="keyword">case</span> <span class="keyword">let</span> x <span class="keyword">where</span> x % <span class="number">2</span> == <span class="number">0</span>:</div><div class="line">  <span class="built_in">print</span>(<span class="string">"Even"</span>)</div><div class="line"><span class="keyword">default</span>:</div><div class="line">  <span class="built_in">print</span>(<span class="string">"Odd"</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//Even</span></div></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> coordinates: (x: <span class="type">Int</span>, y: <span class="type">Int</span>, z: <span class="type">Int</span>) = (<span class="number">3</span>, <span class="number">2</span>, <span class="number">5</span>)</div><div class="line"><span class="keyword">switch</span> (coordinates) &#123;</div><div class="line"><span class="keyword">case</span> (<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>): <span class="comment">// 1</span></div><div class="line">  <span class="built_in">print</span>(<span class="string">"Origin"</span>)</div><div class="line"><span class="keyword">case</span> (<span class="number">_</span>, <span class="number">0</span>, <span class="number">0</span>): <span class="comment">// 2</span></div><div class="line">  <span class="built_in">print</span>(<span class="string">"On the x-axis."</span>)</div><div class="line"><span class="keyword">case</span> (<span class="number">0</span>, <span class="number">_</span>, <span class="number">0</span>): <span class="comment">// 3</span></div><div class="line">  <span class="built_in">print</span>(<span class="string">"On the y-axis."</span>)</div><div class="line"><span class="keyword">case</span> (<span class="number">0</span>, <span class="number">0</span>, <span class="number">_</span>): <span class="comment">// 4</span></div><div class="line">  <span class="built_in">print</span>(<span class="string">"On the z-axis."</span>)</div><div class="line"><span class="keyword">default</span>:        <span class="comment">// 5</span></div><div class="line">  <span class="built_in">print</span>(<span class="string">"Somewhere in space"</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">switch</span> (coordinates) &#123;</div><div class="line"><span class="keyword">case</span> (<span class="keyword">let</span> x, <span class="keyword">let</span> y, <span class="keyword">let</span> z) <span class="keyword">where</span> x == y &amp;&amp; y == z:</div><div class="line">  <span class="built_in">print</span>(<span class="string">"x = y = z"</span>)</div><div class="line"><span class="keyword">case</span> (<span class="number">_</span>, <span class="number">_</span>, <span class="number">0</span>):</div><div class="line">  <span class="built_in">print</span>(<span class="string">"On the x/y plane"</span>)</div><div class="line"><span class="keyword">case</span> (<span class="number">_</span>, <span class="number">0</span>, <span class="number">_</span>):</div><div class="line">  <span class="built_in">print</span>(<span class="string">"On the x/z plane"</span>)</div><div class="line"><span class="keyword">case</span> (<span class="number">0</span>, <span class="number">_</span>, <span class="number">_</span>):</div><div class="line">  <span class="built_in">print</span>(<span class="string">"On the y/z plane"</span>)</div><div class="line"><span class="keyword">default</span>:</div><div class="line">  <span class="built_in">print</span>(<span class="string">"Nothing special"</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">switch</span> (coordinates) &#123;</div><div class="line"><span class="keyword">case</span> (<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>):</div><div class="line">  <span class="built_in">print</span>(<span class="string">"Origin"</span>)</div><div class="line"><span class="keyword">case</span> (<span class="keyword">let</span> x, <span class="number">0</span>, <span class="number">0</span>):</div><div class="line">  <span class="built_in">print</span>(<span class="string">"On the x-axis at x = <span class="subst">\(x)</span>"</span>)</div><div class="line"><span class="keyword">case</span> (<span class="number">0</span>, <span class="keyword">let</span> y, <span class="number">0</span>):</div><div class="line">  <span class="built_in">print</span>(<span class="string">"On the y-axis at y = <span class="subst">\(y)</span>"</span>)</div><div class="line"><span class="keyword">case</span> (<span class="number">0</span>, <span class="number">0</span>, <span class="keyword">let</span> z):</div><div class="line">  <span class="built_in">print</span>(<span class="string">"On the z-axis at z = <span class="subst">\(z)</span>"</span>)</div><div class="line"><span class="keyword">case</span> (<span class="keyword">let</span> x, <span class="keyword">let</span> y, <span class="keyword">let</span> z):</div><div class="line">  <span class="built_in">print</span>(<span class="string">"Somewhere in space at x = <span class="subst">\(x)</span>, y = <span class="subst">\(y)</span>, z = <span class="subst">\(z)</span>"</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">switch</span> (coordinates) &#123;</div><div class="line"><span class="keyword">case</span> (<span class="keyword">let</span> x, <span class="keyword">let</span> y, <span class="number">_</span>) <span class="keyword">where</span> y == x:</div><div class="line">  <span class="built_in">print</span>(<span class="string">"Along the y = x line."</span>)</div><div class="line"><span class="keyword">case</span> (<span class="keyword">let</span> x, <span class="keyword">let</span> y, <span class="number">_</span>) <span class="keyword">where</span> y == x * x:</div><div class="line">  <span class="built_in">print</span>(<span class="string">"Along the y = x^2 line."</span>)</div><div class="line"><span class="keyword">default</span>:</div><div class="line"><span class="keyword">break</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="Ranges"><a href="#Ranges" class="headerlink" title="Ranges"></a>Ranges</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> closedRange = <span class="number">0</span>...<span class="number">5</span></div><div class="line"><span class="keyword">let</span> halfOpenRange = <span class="number">0</span>..&lt;<span class="number">5</span></div></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> hourOfDay = <span class="number">12</span></div><div class="line"><span class="keyword">let</span> timeOfDay: <span class="type">String</span></div><div class="line"><span class="keyword">switch</span> (hourOfDay) &#123;</div><div class="line"><span class="keyword">case</span> <span class="number">0</span>...<span class="number">5</span>:</div><div class="line">  timeOfDay = <span class="string">"Early morning"</span></div><div class="line"><span class="keyword">case</span> <span class="number">6</span>...<span class="number">11</span>:</div><div class="line">  timeOfDay = <span class="string">"Morning"</span></div><div class="line"><span class="keyword">case</span> <span class="number">12</span>...<span class="number">16</span>:</div><div class="line">  timeOfDay = <span class="string">"Afternoon"</span></div><div class="line"><span class="keyword">case</span> <span class="number">17</span>...<span class="number">19</span>:</div><div class="line">  timeOfDay = <span class="string">"Evening"</span></div><div class="line"><span class="keyword">case</span> <span class="number">20</span>..&lt;<span class="number">24</span>:</div><div class="line">  timeOfDay = <span class="string">"Late evening"</span></div><div class="line"><span class="keyword">default</span>:</div><div class="line">  timeOfDay = <span class="string">"INVALID HOUR!"</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h2><h3 id="for"><a href="#for" class="headerlink" title="for"></a>for</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> <span class="built_in">count</span> = <span class="number">10</span></div><div class="line"><span class="keyword">var</span> sum = <span class="number">0</span></div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1</span>...<span class="built_in">count</span> &#123;</div><div class="line">	sum += i </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> <span class="built_in">count</span> = <span class="number">10</span></div><div class="line"><span class="keyword">var</span> sum = <span class="number">1</span></div><div class="line"><span class="keyword">var</span> lastSum = <span class="number">0</span></div><div class="line"><span class="keyword">for</span> <span class="number">_</span> <span class="keyword">in</span> <span class="number">0</span>..&lt;<span class="built_in">count</span> &#123;</div><div class="line">  <span class="keyword">let</span> temp = sum</div><div class="line">  sum = sum + lastSum</div><div class="line">  lastSum = temp</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="while"><a href="#while" class="headerlink" title="while"></a>while</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> sum = <span class="number">1</span></div><div class="line"><span class="keyword">while</span> sum &lt; <span class="number">1000</span> &#123;</div><div class="line">  sum = sum + (sum + <span class="number">1</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="repeat"><a href="#repeat" class="headerlink" title="repeat"></a>repeat</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> sum = <span class="number">1</span></div><div class="line"><span class="keyword">repeat</span> &#123;</div><div class="line">  sum = sum + (sum + <span class="number">1</span>)</div><div class="line">&#125; <span class="keyword">while</span> sum &lt; <span class="number">1000</span></div></pre></td></tr></table></figure>
<h3 id="labeled-statements"><a href="#labeled-statements" class="headerlink" title="labeled statements"></a>labeled statements</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> sum = <span class="number">0</span></div><div class="line">rowLoop: <span class="keyword">for</span> row <span class="keyword">in</span> <span class="number">0</span>..&lt;<span class="number">8</span> &#123;</div><div class="line">  columnLoop: <span class="keyword">for</span> column <span class="keyword">in</span> <span class="number">0</span>..&lt;<span class="number">8</span> &#123;</div><div class="line">    <span class="keyword">if</span> row == column &#123;</div><div class="line">      <span class="keyword">continue</span> rowLoop</div><div class="line">    &#125;</div><div class="line">    sum += row * column</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><h3 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">printMyName</span><span class="params">()</span></span> &#123;</div><div class="line">  <span class="built_in">print</span>(<span class="string">"My name is Matt Galloway."</span>)</div><div class="line">&#125;</div><div class="line">printMyName()</div></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">printMultipleOf</span><span class="params">(multiplier: Int, and andValue: Int)</span></span> &#123;</div><div class="line">  <span class="built_in">print</span>(<span class="string">"<span class="subst">\(multiplier)</span> * <span class="subst">\(andValue)</span> = <span class="subst">\(multiplier * andValue)</span>"</span>)</div><div class="line">&#125;</div><div class="line">printMultipleOf(<span class="number">4</span>, and: <span class="number">2</span>)</div></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">printMultipleOf</span><span class="params">(multiplier: Int, <span class="number">_</span> andValue: Int)</span></span> &#123;</div><div class="line">  <span class="built_in">print</span>(<span class="string">"<span class="subst">\(multiplier)</span> * <span class="subst">\(andValue)</span> = <span class="subst">\(multiplier * andValue)</span>"</span>)</div><div class="line">&#125;</div><div class="line">printMultipleOf(<span class="number">4</span>, <span class="number">2</span>)</div></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">printMultipleOf</span><span class="params">(multiplier: Int, and andValue: Int = <span class="number">1</span>)</span></span> &#123;</div><div class="line">  <span class="built_in">print</span>(<span class="string">"<span class="subst">\(multiplier)</span> * <span class="subst">\(andValue)</span> = <span class="subst">\(multiplier * andValue)</span>"</span>)</div><div class="line">&#125;</div><div class="line">printMultipleOf(<span class="number">4</span>)</div></pre></td></tr></table></figure>
<h3 id="返回值"><a href="#返回值" class="headerlink" title="返回值"></a>返回值</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">multiply</span><span class="params">(number: Int, by byValue: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">  <span class="keyword">return</span> number * byValue</div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> result = multiply(<span class="number">4</span>, by: <span class="number">2</span>)</div></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">multiplyAndDivide</span><span class="params">(number: Int, by byValue: Int)</span></span> -&gt; (multiply: <span class="type">Int</span>,</div><div class="line">divide: <span class="type">Int</span>) &#123;</div><div class="line">  <span class="keyword">return</span> (number * byValue, number / byValue)</div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> result = multiplyAndDivide(<span class="number">4</span>, by: <span class="number">2</span>)</div><div class="line"><span class="keyword">let</span> multiply = result.multiply</div><div class="line"><span class="keyword">let</span> divide = result.divide</div></pre></td></tr></table></figure>
<h3 id="默认pass-by-value"><a href="#默认pass-by-value" class="headerlink" title="默认pass-by-value"></a>默认pass-by-value</h3><p>函数参数与用<code>let</code>声明的常量等价.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">incrementAndPrint</span><span class="params">(value: Int)</span></span> &#123;</div><div class="line">  value += <span class="number">1</span></div><div class="line">  <span class="built_in">print</span>(value)</div><div class="line">&#125;</div><div class="line"><span class="comment">//Error : Left side of mutating operator isn't mutable: 'value' is a 'let' constant</span></div></pre></td></tr></table></figure>
<h3 id="pass-by-reference"><a href="#pass-by-reference" class="headerlink" title="pass-by-reference"></a>pass-by-reference</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">incrementAndPrintInOut</span><span class="params">(<span class="keyword">inout</span> value: Int)</span></span> &#123;</div><div class="line">  value += <span class="number">1</span></div><div class="line">  <span class="built_in">print</span>(value)</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> value = <span class="number">5</span></div><div class="line">incrementAndPrintInOut(&amp;value)</div><div class="line"><span class="built_in">print</span>(value)</div><div class="line"></div><div class="line"><span class="comment">// 6 </span></div><div class="line"><span class="comment">// 6</span></div></pre></td></tr></table></figure>
<h3 id="函数作为变量"><a href="#函数作为变量" class="headerlink" title="函数作为变量"></a>函数作为变量</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">(a: Int, <span class="number">_</span> b: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">	<span class="keyword">return</span> a + b </div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> function: (<span class="type">Int</span>, <span class="type">Int</span>) -&gt; <span class="type">Int</span> = add</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">printResult</span><span class="params">(function: <span class="params">(Int, Int)</span></span></span> -&gt; <span class="type">Int</span>, <span class="number">_</span> a: <span class="type">Int</span>, <span class="number">_</span> b: <span class="type">Int</span>) &#123;</div><div class="line">  <span class="keyword">let</span> result = function(a, b)</div><div class="line">  <span class="built_in">print</span>(result)</div><div class="line">&#125;</div><div class="line">printResult(add, <span class="number">4</span>, <span class="number">2</span>)</div><div class="line"></div><div class="line"><span class="comment">//6</span></div></pre></td></tr></table></figure>
<h2 id="Closure"><a href="#Closure" class="headerlink" title="Closure"></a>Closure</h2><p>A closure is simply a function with no name. 匿名函数</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> multiplyClosure: (<span class="type">Int</span>, <span class="type">Int</span>) -&gt; <span class="type">Int</span></div><div class="line">multiplyClosure = &#123; (a: <span class="type">Int</span>, b: <span class="type">Int</span>) -&gt; <span class="type">Int</span> <span class="keyword">in</span></div><div class="line">	<span class="keyword">return</span> a * b </div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> result = multiplyClosure(<span class="number">4</span>, <span class="number">2</span>)</div><div class="line"></div><div class="line"><span class="comment">//8</span></div></pre></td></tr></table></figure>
<h3 id="简写"><a href="#简写" class="headerlink" title="简写"></a>简写</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> multiplyClosure: (<span class="type">Int</span>, <span class="type">Int</span>) -&gt; <span class="type">Int</span></div><div class="line"></div><div class="line"><span class="comment">//可以省掉return</span></div><div class="line">multiplyClosure = &#123; (a: <span class="type">Int</span>, b: <span class="type">Int</span>) -&gt; <span class="type">Int</span> <span class="keyword">in</span></div><div class="line">	a*b </div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//可以省掉返回类型</span></div><div class="line">multiplyClosure = &#123; (a: <span class="type">Int</span>, b: <span class="type">Int</span>) <span class="keyword">in</span></div><div class="line">	a*b </div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//可以省掉参数类型</span></div><div class="line">multiplyClosure = &#123; (a, b) <span class="keyword">in</span></div><div class="line">	a*b </div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//可以省掉参数列表</span></div><div class="line">multiplyClosure = &#123;</div><div class="line">	$<span class="number">0</span> * $<span class="number">1</span> </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">operateOnNumbers</span><span class="params">(a: Int, <span class="number">_</span> b: Int,</span></span></div><div class="line"> operation: <span class="params">(Int, Int)</span> -&gt; <span class="type">Int</span>) -&gt; <span class="type">Int</span> &#123;</div><div class="line">  <span class="keyword">let</span> result = operation(a, b)</div><div class="line">  <span class="built_in">print</span>(result)</div><div class="line">  <span class="keyword">return</span> result</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//1</span></div><div class="line"><span class="keyword">let</span> addClosure = &#123; (a: <span class="type">Int</span>, b: <span class="type">Int</span>) <span class="keyword">in</span></div><div class="line">	a+b </div><div class="line">&#125;</div><div class="line">operateOnNumbers(<span class="number">4</span>, <span class="number">2</span>, operation: addClosure)</div><div class="line"></div><div class="line"><span class="comment">//2</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">addFunction</span><span class="params">(a: Int, b: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">	<span class="keyword">return</span> a + b </div><div class="line">&#125;</div><div class="line">operateOnNumbers(<span class="number">4</span>, <span class="number">2</span>, operation: addFunction)</div><div class="line"></div><div class="line"><span class="comment">//3</span></div><div class="line">operateOnNumbers(<span class="number">4</span>, <span class="number">2</span>, operation: &#123; (a: <span class="type">Int</span>, b: <span class="type">Int</span>) -&gt; <span class="type">Int</span> <span class="keyword">in</span></div><div class="line">	<span class="keyword">return</span> a + b </div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="comment">//4</span></div><div class="line">operateOnNumbers(<span class="number">4</span>, <span class="number">2</span>, operation: &#123;</div><div class="line">	$<span class="number">0</span> + $<span class="number">1</span> </div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="comment">//最终可简写为：</span></div><div class="line">operateOnNumbers(<span class="number">4</span>, <span class="number">2</span>) &#123;</div><div class="line">	$<span class="number">0</span> + $<span class="number">1</span> </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="无返回值"><a href="#无返回值" class="headerlink" title="无返回值"></a>无返回值</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> voidClosure: () -&gt; <span class="type">Void</span> = &#123;</div><div class="line">  <span class="built_in">print</span>(<span class="string">"Swift is awesome!"</span>)</div><div class="line">&#125;</div><div class="line">voidClosure()</div></pre></td></tr></table></figure>
<h3 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">countingClosure</span><span class="params">()</span></span> -&gt; (() -&gt; <span class="type">Int</span>) &#123;</div><div class="line">  <span class="keyword">var</span> counter = <span class="number">0</span></div><div class="line">  <span class="keyword">let</span> incrementCounter: () -&gt; <span class="type">Int</span> = &#123;</div><div class="line">	counter += <span class="number">1</span></div><div class="line">    <span class="keyword">return</span> counter</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> incrementCounter</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> counter1 = countingClosure()</div><div class="line"><span class="keyword">let</span> counter2 = countingClosure()</div><div class="line"></div><div class="line">counter1() <span class="comment">// 0</span></div><div class="line">counter2() <span class="comment">// 0</span></div><div class="line">counter1() <span class="comment">// 1</span></div><div class="line">counter1() <span class="comment">// 2</span></div><div class="line">counter2() <span class="comment">// 1</span></div></pre></td></tr></table></figure>
<h2 id="Optionals"><a href="#Optionals" class="headerlink" title="Optionals"></a>Optionals</h2><h3 id="force-unwrapping"><a href="#force-unwrapping" class="headerlink" title="force unwrapping"></a>force unwrapping</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> authorName: <span class="type">String</span>? = <span class="string">"Matt Galloway"</span></div><div class="line"><span class="keyword">var</span> unwrappedAuthorName = authorName!</div><div class="line"><span class="built_in">print</span>(<span class="string">"Author is <span class="subst">\(unwrappedAuthorName)</span>"</span>)</div><div class="line"></div><div class="line"><span class="comment">//Author is Matt Galloway</span></div></pre></td></tr></table></figure>
<h3 id="If-let-binding"><a href="#If-let-binding" class="headerlink" title="If let binding"></a>If let binding</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> authorName: <span class="type">String</span>? = <span class="string">"Matt Galloway"</span></div><div class="line"><span class="keyword">let</span> authorAge: <span class="type">Int</span>? = <span class="number">30</span></div><div class="line"><span class="keyword">if</span> <span class="keyword">let</span> name: <span class="type">String</span> = authorName,</div><div class="line">       	age: <span class="type">Int</span> = authorAge &#123;</div><div class="line">  <span class="built_in">print</span>(<span class="string">"The author is <span class="subst">\(name)</span> who is <span class="subst">\(age)</span> years old."</span>)</div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">  <span class="built_in">print</span>(<span class="string">"No author or no age."</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="nil-coalescing"><a href="#nil-coalescing" class="headerlink" title="nil coalescing"></a>nil coalescing</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> optionalInt: <span class="type">Int</span>? = <span class="number">10</span></div><div class="line"></div><div class="line"><span class="comment">//result = optionalInt ？optionalInt : 0</span></div><div class="line"><span class="keyword">var</span> result: <span class="type">Int</span> = optionalInt ?? <span class="number">0</span></div><div class="line"><span class="comment">//等价于：</span></div><div class="line"><span class="keyword">var</span> optionalInt: <span class="type">Int</span>? = <span class="number">10</span></div><div class="line"><span class="keyword">var</span> result: <span class="type">Int</span></div><div class="line"><span class="keyword">if</span> <span class="keyword">let</span> unwrapped = optionalInt &#123;</div><div class="line">  	result = unwrapped</div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">	result = <span class="number">0</span> </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h1><h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><h3 id="创建数组"><a href="#创建数组" class="headerlink" title="创建数组"></a>创建数组</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> numbers: <span class="type">Array</span>&lt;<span class="type">Int</span>&gt;</div><div class="line"><span class="keyword">let</span> inferredNumbers = <span class="type">Array</span>&lt;<span class="type">Int</span>&gt;()</div><div class="line"></div><div class="line"><span class="keyword">let</span> alsoInferredNumbers = [<span class="type">Int</span>]()</div><div class="line"></div><div class="line"><span class="keyword">let</span> evenNumbers = [<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>]</div><div class="line"></div><div class="line"><span class="keyword">let</span> allZeros = [<span class="type">Int</span>](<span class="built_in">count</span>: <span class="number">5</span>, repeatedValue: <span class="number">0</span>) <span class="comment">//[0, 0, 0, 0, 0]</span></div></pre></td></tr></table></figure>
<h3 id="属性和方法"><a href="#属性和方法" class="headerlink" title="属性和方法"></a>属性和方法</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> players = [<span class="string">"Alice"</span>, <span class="string">"Bob"</span>, <span class="string">"Cindy"</span>, <span class="string">"Dan"</span>]</div><div class="line"><span class="built_in">print</span>(players.isEmpty)</div><div class="line"><span class="comment">// &gt; false</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> currentPlayer = players.first</div><div class="line"><span class="built_in">print</span>(currentPlayer)</div><div class="line"><span class="comment">// &gt; Optional("Alice")</span></div><div class="line"></div><div class="line"><span class="built_in">print</span>(players.last)</div><div class="line"><span class="comment">// &gt; Optional("Dan")</span></div><div class="line"></div><div class="line">currentPlayer = players.<span class="built_in">minElement</span>()</div><div class="line"><span class="built_in">print</span>(currentPlayer)</div><div class="line"><span class="comment">// &gt; Optional("Alice")</span></div><div class="line"></div><div class="line"><span class="keyword">if</span> <span class="keyword">let</span> currentPlayer = currentPlayer &#123;</div><div class="line">  <span class="built_in">print</span>(<span class="string">"<span class="subst">\(currentPlayer)</span> will start"</span>)</div><div class="line">&#125;</div><div class="line"><span class="comment">// &gt; Alice will start</span></div><div class="line"></div><div class="line"><span class="built_in">print</span>([<span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>].first)</div><div class="line"><span class="comment">// &gt; Optional(2)</span></div><div class="line"><span class="built_in">print</span>([<span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>].<span class="built_in">minElement</span>())</div><div class="line"><span class="comment">// &gt; Optional(1)</span></div><div class="line"><span class="built_in">print</span>([<span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>].<span class="built_in">maxElement</span>())</div><div class="line"><span class="comment">// &gt; Optional(3)</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> firstPlayer = players[<span class="number">0</span>]</div><div class="line"><span class="built_in">print</span>(<span class="string">"First player is <span class="subst">\(firstPlayer)</span>"</span>)</div><div class="line"><span class="comment">// &gt; First player is "Alice"</span></div><div class="line"></div><div class="line"><span class="comment">//用 Range</span></div><div class="line"><span class="keyword">let</span> upcomingPlayers = players[<span class="number">1</span>...<span class="number">2</span>]</div><div class="line"><span class="built_in">print</span>(upcomingPlayers)</div><div class="line"><span class="comment">// &gt; ["Bob", "Cindy"]</span></div><div class="line"></div><div class="line">players[<span class="number">1</span>...<span class="number">3</span>].<span class="built_in">contains</span>(<span class="string">"Bob"</span>)</div><div class="line"><span class="comment">// &gt; true</span></div></pre></td></tr></table></figure>
<h3 id="数组操作"><a href="#数组操作" class="headerlink" title="数组操作"></a>数组操作</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//追加</span></div><div class="line"><span class="keyword">var</span> players = [<span class="string">"Alice"</span>, <span class="string">"Bob"</span>, <span class="string">"Cindy"</span>, <span class="string">"Dan"</span>]</div><div class="line">players.append(<span class="string">"Eli"</span>)</div><div class="line">players += [<span class="string">"Gina"</span>]</div><div class="line"> <span class="built_in">print</span>(players)</div><div class="line"><span class="comment">// &gt; ["Alice", "Bob", "Cindy", "Dan", "Eli", "Gi</span></div><div class="line"></div><div class="line"><span class="comment">//插入</span></div><div class="line">players.insert(<span class="string">"Frank"</span>, atIndex: <span class="number">5</span>)</div><div class="line"></div><div class="line"><span class="comment">//删除</span></div><div class="line"><span class="keyword">var</span> removedPlayer = players.removeLast()</div><div class="line"><span class="built_in">print</span>(<span class="string">"<span class="subst">\(removedPlayer)</span> was removed"</span>)</div><div class="line"><span class="comment">// &gt; Gina was removed</span></div><div class="line"></div><div class="line">removedPlayer = players.removeAtIndex(<span class="number">2</span>)</div><div class="line"><span class="built_in">print</span>(<span class="string">"<span class="subst">\(removedPlayer)</span> was removed"</span>)</div><div class="line"><span class="comment">// &gt; Cindy was removed</span></div><div class="line"></div><div class="line"><span class="comment">//更新</span></div><div class="line"><span class="built_in">print</span>(players)</div><div class="line"><span class="comment">// &gt; ["Alice", "Bob", "Dan", "Eli", "Frank"]</span></div><div class="line">players[<span class="number">4</span>] = <span class="string">"Franklin"</span></div><div class="line"><span class="built_in">print</span>(players)</div><div class="line"><span class="comment">// &gt; ["Alice", "Bob", "Dan", "Eli", "Franklin"]</span></div><div class="line"></div><div class="line">players[<span class="number">0</span>...<span class="number">1</span>] = [<span class="string">"Donna"</span>, <span class="string">"Craig"</span>, <span class="string">"Brian"</span>, <span class="string">"Anna"</span>]</div><div class="line"><span class="built_in">print</span>(players)</div><div class="line"><span class="comment">// &gt; ["Donna", "Craig", "Brian", "Anna", "Dan", "Eli", "Franklin"]</span></div><div class="line"></div><div class="line"><span class="comment">//移动</span></div><div class="line"><span class="keyword">let</span> playerAnna = players.removeAtIndex(<span class="number">3</span>)</div><div class="line">players.insert(playerAnna, atIndex: <span class="number">0</span>)</div><div class="line"><span class="built_in">print</span>(players)</div><div class="line"><span class="comment">// &gt; ["Anna", "Donna", "Craig", "Brian", "Dan", "Eli", "Franklin"]</span></div><div class="line"></div><div class="line">players = players.<span class="built_in">sort</span>()</div><div class="line"><span class="built_in">print</span>(players)</div><div class="line"><span class="comment">// &gt; ["Anna", "Brian", "Craig", "Dan", "Donna", "Eli", "Franklin"]</span></div></pre></td></tr></table></figure>
<h3 id="遍历"><a href="#遍历" class="headerlink" title="遍历"></a>遍历</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> players = [<span class="string">"Alice"</span>, <span class="string">"Bob"</span>, <span class="string">"Cindy"</span>, <span class="string">"Dan"</span>]</div><div class="line"><span class="keyword">for</span> playerName <span class="keyword">in</span> players &#123;</div><div class="line">  <span class="built_in">print</span>(playerName)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// &gt; Anna</span></div><div class="line"><span class="comment">// &gt; Bob</span></div><div class="line"><span class="comment">// &gt; Cindy</span></div><div class="line"><span class="comment">// &gt; Dan</span></div><div class="line"></div><div class="line"><span class="keyword">for</span> (index, playerName) <span class="keyword">in</span> players.<span class="built_in">enumerate</span>() &#123;</div><div class="line">  <span class="built_in">print</span>(<span class="string">"<span class="subst">\(index + <span class="number">1</span>)</span>. <span class="subst">\(playerName)</span>"</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// &gt; 1. Anna</span></div><div class="line"><span class="comment">// &gt; 2. Bob</span></div><div class="line"><span class="comment">// &gt; 3. Cindy</span></div><div class="line"><span class="comment">// &gt; 4. Dan</span></div></pre></td></tr></table></figure>
<h3 id="Sequence-operations"><a href="#Sequence-operations" class="headerlink" title="Sequence operations"></a>Sequence operations</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> scores = [<span class="number">2</span>, <span class="number">2</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">1</span>, <span class="number">2</span>]</div><div class="line"></div><div class="line"><span class="comment">//reduce</span></div><div class="line"><span class="comment">//用第一个参数作为初始值，用combile操作符累计数组(scores)元素</span></div><div class="line"><span class="keyword">let</span> sum = scores.<span class="built_in">reduce</span>(<span class="number">0</span>, combine: +)</div><div class="line"><span class="built_in">print</span>(sum)</div><div class="line"><span class="comment">// &gt; 21</span></div><div class="line"></div><div class="line"><span class="comment">//filter</span></div><div class="line"><span class="comment">//接受一个closure作为参数，对数组(scores)每个元素执行此closure，若此closure返回true，则将对应的元素添加到返回数组中</span></div><div class="line"><span class="built_in">print</span>(scores.<span class="built_in">filter</span>(&#123; $<span class="number">0</span> &gt; <span class="number">5</span> &#125;))</div><div class="line"><span class="comment">// &gt; [8, 6]</span></div><div class="line"></div><div class="line"><span class="comment">//map</span></div><div class="line"><span class="comment">//接受一个closure作为参数,对数组(scores)每个元素执行此closure，返回一个新的元素并将之添加到返回数组中</span></div><div class="line"><span class="built_in">print</span>(scores)</div><div class="line"><span class="comment">// &gt; [2, 2, 8, 6, 1, 2]</span></div><div class="line"><span class="keyword">let</span> newScores = scores.<span class="built_in">map</span>(&#123; $<span class="number">0</span> * <span class="number">2</span> &#125;)</div><div class="line"><span class="built_in">print</span>(newScores)</div><div class="line"><span class="comment">// &gt; [4, 4, 16, 12, 2, 4]</span></div></pre></td></tr></table></figure>
<h2 id="字典"><a href="#字典" class="headerlink" title="字典"></a>字典</h2><h3 id="创建字典"><a href="#创建字典" class="headerlink" title="创建字典"></a>创建字典</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> pairs: <span class="type">Dictionary</span>&lt;<span class="type">String</span>, <span class="type">Int</span>&gt;</div><div class="line"></div><div class="line"><span class="keyword">let</span> inferredPairs = <span class="type">Dictionary</span>&lt;<span class="type">String</span>, <span class="type">Int</span>&gt;()</div><div class="line"></div><div class="line"><span class="keyword">let</span> alsoInferredPairs = [<span class="type">String</span>: <span class="type">Int</span>]()</div><div class="line"></div><div class="line"><span class="keyword">let</span> namesAndScores = [<span class="string">"Anna"</span>: <span class="number">2</span>, <span class="string">"Brian"</span>: <span class="number">2</span>, <span class="string">"Craig"</span>: <span class="number">8</span>, <span class="string">"Donna"</span>: <span class="number">6</span>]</div><div class="line"><span class="built_in">print</span>(namesAndScores)</div><div class="line"><span class="comment">// &gt; ["Brian": 2, "Anna": 2, "Craig": 8, "Donna": 6]</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> emptyDictionary: [<span class="type">Int</span>: <span class="type">Int</span>]</div><div class="line">emptyDictionar = [:]</div></pre></td></tr></table></figure>
<h3 id="属性和方法-1"><a href="#属性和方法-1" class="headerlink" title="属性和方法"></a>属性和方法</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> namesAndScores = [<span class="string">"Anna"</span>: <span class="number">2</span>, <span class="string">"Brian"</span>: <span class="number">2</span>, <span class="string">"Craig"</span>: <span class="number">8</span>, <span class="string">"Donna"</span>: <span class="number">6</span>]</div><div class="line"></div><div class="line"><span class="built_in">print</span>(namesAndScores[<span class="string">"Anna"</span>])</div><div class="line"><span class="comment">// &gt; Optional(2)</span></div><div class="line"></div><div class="line"><span class="built_in">print</span>(namesAndScores[<span class="string">"Greg"</span>])</div><div class="line"><span class="comment">// &gt; nil</span></div><div class="line"></div><div class="line"><span class="built_in">print</span>(namesAndScores.isEmpty)</div><div class="line"><span class="comment">// &gt; false</span></div><div class="line"><span class="built_in">print</span>(namesAndScores.<span class="built_in">count</span>)</div><div class="line"><span class="comment">// &gt; 4</span></div><div class="line"></div><div class="line"><span class="built_in">print</span>(<span class="type">Array</span>(namesAndScores.keys))</div><div class="line"><span class="comment">// &gt; ["Brian", "Anna", "Craig", "Donna"]</span></div><div class="line"><span class="built_in">print</span>(<span class="type">Array</span>(namesAndScores.values))</div><div class="line"><span class="comment">// &gt; [2, 2, 8, 6]</span></div></pre></td></tr></table></figure>
<h3 id="字典操作"><a href="#字典操作" class="headerlink" title="字典操作"></a>字典操作</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> bobData = [<span class="string">"name"</span>: <span class="string">"Bob"</span>, <span class="string">"profession"</span>: <span class="string">"Card Player"</span>, <span class="string">"country"</span>: <span class="string">"USA"</span>]</div><div class="line"></div><div class="line"><span class="comment">//更新</span></div><div class="line">bobData.updateValue(<span class="string">"CA"</span>, forKey: <span class="string">"state"</span>)</div><div class="line">bobData[<span class="string">"city"</span>] = <span class="string">"San Francisco"</span></div><div class="line"></div><div class="line"><span class="comment">//删除</span></div><div class="line">bobData.removeValueForKey(<span class="string">"state"</span>)</div><div class="line">bobData[<span class="string">"city"</span>] = <span class="literal">nil</span></div></pre></td></tr></table></figure>
<h3 id="遍历-1"><a href="#遍历-1" class="headerlink" title="遍历"></a>遍历</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> namesAndScores = [<span class="string">"Anna"</span>: <span class="number">2</span>, <span class="string">"Brian"</span>: <span class="number">2</span>, <span class="string">"Craig"</span>: <span class="number">8</span>, <span class="string">"Donna"</span>: <span class="number">6</span>]</div><div class="line"></div><div class="line"><span class="keyword">for</span> (key, value) <span class="keyword">in</span> namesAndScores &#123;</div><div class="line">  <span class="built_in">print</span>(<span class="string">"<span class="subst">\(key)</span> - <span class="subst">\(value)</span>"</span>)</div><div class="line">&#125;</div><div class="line"><span class="comment">// &gt; Brian - 2</span></div><div class="line"><span class="comment">// &gt; Anna - 2</span></div><div class="line"><span class="comment">// &gt; Craig - 8</span></div><div class="line"><span class="comment">// &gt; Donna - 6</span></div><div class="line"></div><div class="line"><span class="keyword">for</span> key <span class="keyword">in</span> namesAndScores.keys &#123;</div><div class="line">  <span class="built_in">print</span>(<span class="string">"<span class="subst">\(key)</span>, "</span>, terminator: <span class="string">""</span>) <span class="comment">// no newline</span></div><div class="line">&#125;</div><div class="line"><span class="built_in">print</span>(<span class="string">""</span>) <span class="comment">// print one final newline</span></div><div class="line"><span class="comment">// &gt; Brian, Anna, Craig, Donna,</span></div></pre></td></tr></table></figure>
<h3 id="Sequence-operations-1"><a href="#Sequence-operations-1" class="headerlink" title="Sequence operations"></a>Sequence operations</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> namesAndScores = [<span class="string">"Anna"</span>: <span class="number">2</span>, <span class="string">"Brian"</span>: <span class="number">2</span>, <span class="string">"Craig"</span>: <span class="number">8</span>, <span class="string">"Donna"</span>: <span class="number">6</span>]</div><div class="line"></div><div class="line"><span class="comment">//reduce</span></div><div class="line"><span class="comment">//第一个参数为""，用combile closure累计(前面字符串加上后面字典键值字符串)字典(namesAndScores)元素(键值)</span></div><div class="line"><span class="keyword">let</span> namesString = namesAndScores.<span class="built_in">reduce</span>(<span class="string">""</span>, combine: &#123; $<span class="number">0</span> + <span class="string">"<span class="subst">\($<span class="number">1.0</span>)</span>, "</span> &#125;)</div><div class="line"><span class="built_in">print</span>(namesString)</div><div class="line"><span class="comment">// &gt; Brian, Anna, Craig, Donna,</span></div><div class="line"></div><div class="line"><span class="comment">//filter</span></div><div class="line"><span class="comment">//接受一个closure作为参数，对字典(namesAndScores)每个元素执行此closure，取出字典 value 小于 5 的元素</span></div><div class="line"><span class="built_in">print</span>(namesAndScores.<span class="built_in">filter</span>(&#123; $<span class="number">0.1</span> &lt; <span class="number">5</span> &#125;))</div><div class="line"><span class="comment">// &gt; [("Brian", 2), ("Anna", 2)]</span></div></pre></td></tr></table></figure>
<h2 id="Sets"><a href="#Sets" class="headerlink" title="Sets"></a>Sets</h2><h3 id="创建Set"><a href="#创建Set" class="headerlink" title="创建Set"></a>创建Set</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> setOne: <span class="type">Set</span>&lt;<span class="type">Int</span>&gt;</div><div class="line"></div><div class="line"><span class="keyword">let</span> setTwo = <span class="type">Set</span>&lt;<span class="type">Int</span>&gt;()</div><div class="line"></div><div class="line"> <span class="built_in">print</span>(setTwo)</div><div class="line"><span class="comment">// &gt; []</span></div><div class="line"></div><div class="line"><span class="comment">//必须显式声明是Set，否则，则创建了数组</span></div><div class="line"><span class="keyword">let</span> someSet: <span class="type">Set</span>&lt;<span class="type">Int</span>&gt; = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>]</div><div class="line"><span class="comment">//可以省略Set中的元素类型</span></div><div class="line"><span class="keyword">let</span> anotherSet: <span class="type">Set</span> = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>]</div><div class="line"></div><div class="line"> <span class="built_in">print</span>(someSet)</div><div class="line"><span class="comment">// &gt; [2, 3, 1]</span></div></pre></td></tr></table></figure>
<h3 id="属性和方法-2"><a href="#属性和方法-2" class="headerlink" title="属性和方法"></a>属性和方法</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> someSet: <span class="type">Set</span>&lt;<span class="type">Int</span>&gt; = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>]</div><div class="line"></div><div class="line"><span class="built_in">print</span>(someSet.isEmpty)</div><div class="line"><span class="comment">// &gt; false</span></div><div class="line"><span class="built_in">print</span>(someSet.<span class="built_in">count</span>)</div><div class="line"><span class="comment">// &gt; 3</span></div><div class="line"></div><div class="line"><span class="built_in">print</span>(someSet.<span class="built_in">contains</span>(<span class="number">1</span>))</div><div class="line"><span class="comment">// &gt; true</span></div><div class="line"><span class="built_in">print</span>(someSet.<span class="built_in">contains</span>(<span class="number">4</span>))</div><div class="line"><span class="comment">// &gt; false</span></div><div class="line"></div><div class="line"><span class="built_in">print</span>(someSet.first)</div><div class="line"><span class="comment">// &gt; Optional(2)</span></div></pre></td></tr></table></figure>
<h3 id="Set操作"><a href="#Set操作" class="headerlink" title="Set操作"></a>Set操作</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> myTimes: <span class="type">Set</span> = [<span class="string">"8am"</span>, <span class="string">"9am"</span>, <span class="string">"10am"</span>]</div><div class="line"> </div><div class="line"><span class="comment">//插入</span></div><div class="line">myTimes.insert(<span class="string">"11am"</span>)</div><div class="line"><span class="built_in">print</span>(myTimes)</div><div class="line"><span class="comment">// &gt; ["9am", "8am", "11am", "10am"]</span></div><div class="line"></div><div class="line"><span class="comment">//删除</span></div><div class="line"><span class="keyword">let</span> removedElement = myTimes.remove(<span class="string">"8am"</span>)</div><div class="line"><span class="built_in">print</span>(removedElement)</div><div class="line"><span class="comment">// &gt; Optional("8am")</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="built_in">print</span>(myTimes)</div><div class="line"><span class="comment">//&gt;["9am", "11am", "10am"]</span></div><div class="line"><span class="keyword">let</span> adamTimes: <span class="type">Set</span> = [<span class="string">"9am"</span>, <span class="string">"11am"</span>, <span class="string">"1pm"</span>]</div><div class="line"></div><div class="line"><span class="comment">//并集 union</span></div><div class="line"><span class="keyword">let</span> unionSet = myTimes.union(adamTimes)</div><div class="line"><span class="built_in">print</span>(unionSet)</div><div class="line"><span class="comment">// &gt; ["9am", "11am", "10am", "1pm"]</span></div><div class="line"></div><div class="line"><span class="comment">//交集 intersect</span></div><div class="line"><span class="keyword">let</span> intersectSet = myTimes.intersect(adamTimes)</div><div class="line"><span class="built_in">print</span>(intersectSet)</div><div class="line"><span class="comment">// &gt; ["9am", "11am"]</span></div><div class="line"></div><div class="line"><span class="comment">//差集 subtract</span></div><div class="line"><span class="keyword">let</span> subtractSet = myTimes.subtract(adamTimes)</div><div class="line"><span class="built_in">print</span>(subtractSet)</div><div class="line"><span class="comment">// &gt; ["10am"]</span></div><div class="line"></div><div class="line"><span class="comment">//异或 Exclusive Or</span></div><div class="line"><span class="keyword">let</span> exclusiveOrSet = myTimes.exclusiveOr(adamTimes)</div><div class="line"><span class="built_in">print</span>(exclusiveOrSet)</div><div class="line"><span class="comment">// &gt; ["10am", "1pm"]</span></div></pre></td></tr></table></figure>
<h3 id="遍历-2"><a href="#遍历-2" class="headerlink" title="遍历"></a>遍历</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> myTimes: <span class="type">Set</span> = [<span class="string">"8am"</span>, <span class="string">"9am"</span>, <span class="string">"10am"</span>]</div><div class="line"><span class="keyword">for</span> element <span class="keyword">in</span> myTimes &#123;</div><div class="line">  <span class="built_in">print</span>(element)</div><div class="line">&#125;</div><div class="line"><span class="comment">// &gt; 9am</span></div><div class="line"><span class="comment">// &gt; 11am</span></div><div class="line"><span class="comment">// &gt; 10am</span></div></pre></td></tr></table></figure>
<h1 id="自定义类型"><a href="#自定义类型" class="headerlink" title="自定义类型"></a>自定义类型</h1><h2 id="结构体"><a href="#结构体" class="headerlink" title="结构体"></a>结构体</h2><p><strong>结构体无处不存在，许多Swift标准类型都是结构体，比如，Array, Int, Float, Double, Bool, Dictionary, Set 和 String都是被定义为结构体。所以它们所有自己的方法和属性。</strong></p>
<h3 id="简单创建使用"><a href="#简单创建使用" class="headerlink" title="简单创建使用"></a>简单创建使用</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Location</span> </span>&#123;</div><div class="line">  <span class="keyword">let</span> latitude: <span class="type">Double</span></div><div class="line">  <span class="keyword">let</span> longitude: <span class="type">Double</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> pizzaLocation = <span class="type">Location</span>(latitude: <span class="number">44.9871</span>,</div><div class="line">                             longitude: -<span class="number">93.2758</span>)</div><div class="line">                             </div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">DeliveryRange</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> range: <span class="type">Double</span></div><div class="line">  <span class="keyword">let</span> center: <span class="type">Location</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//常量，不能修改属性值</span></div><div class="line"><span class="keyword">let</span> storeLocation = <span class="type">Location</span>(latitude: <span class="number">44.9871</span>, longitude: -<span class="number">93.2758</span>)</div><div class="line"><span class="comment">//常量，可以修改属性值</span></div><div class="line"><span class="keyword">var</span> pizzaRange = <span class="type">DeliveryRange</span>(range: <span class="number">200</span>, center: storeLocation)</div><div class="line">                               </div><div class="line"><span class="built_in">print</span>(pizzaRange.range) <span class="comment">// 200</span></div><div class="line"><span class="built_in">print</span>(pizzaRange.center.latitude) <span class="comment">// 44.9871</span></div><div class="line"></div><div class="line">pizzaRange.range = <span class="number">250</span></div></pre></td></tr></table></figure>
<h3 id="自定义构造方法"><a href="#自定义构造方法" class="headerlink" title="自定义构造方法"></a>自定义构造方法</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Location</span> </span>&#123;</div><div class="line">  <span class="keyword">let</span> latitude: <span class="type">Double</span></div><div class="line">  <span class="keyword">let</span> longitude: <span class="type">Double</span></div><div class="line">  <span class="comment">// String in GPS format "44.9871,-93.2758"</span></div><div class="line">  <span class="keyword">init</span>(coordinateString: <span class="type">String</span>) &#123;</div><div class="line">    <span class="keyword">let</span> crdSplit = coordinateString.characters.<span class="built_in">split</span>(<span class="string">","</span>)</div><div class="line">    latitude = atof(<span class="type">String</span>(crdSplit.first!))</div><div class="line">    longitude = atof(<span class="type">String</span>(crdSplit.last!))</div><div class="line">  &#125; </div><div class="line">&#125;</div><div class="line"><span class="comment">//一旦自定义构造方法，默认构造方法将无效</span></div><div class="line"><span class="comment">//故，不能执行 Location(latitude: 44.9871, longitude: -93.2758)</span></div><div class="line"><span class="keyword">let</span> coords = <span class="type">Location</span>(coordinateString: <span class="string">"44.9871,-93.2758"</span>)</div><div class="line"><span class="built_in">print</span>(coords.latitude) <span class="comment">// 44.9871</span></div><div class="line"><span class="built_in">print</span>(coords.longitude) <span class="comment">// -93.2758</span></div></pre></td></tr></table></figure>
<p>构造方法重载</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Order</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> toppings: [<span class="type">String</span>]</div><div class="line">    <span class="keyword">var</span> size: <span class="type">String</span></div><div class="line">    <span class="keyword">var</span> crust: <span class="type">String</span></div><div class="line">    <span class="keyword">init</span>(toppings: [<span class="type">String</span>], size: <span class="type">String</span>, crust: <span class="type">String</span>) &#123;</div><div class="line">        <span class="keyword">self</span>.toppings = toppings</div><div class="line">        <span class="keyword">self</span>.size = size</div><div class="line">        <span class="keyword">self</span>.crust = crust</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">init</span>(size: <span class="type">String</span>, crust: <span class="type">String</span>) &#123;</div><div class="line">        <span class="keyword">self</span>.toppings = [<span class="string">"Cheese"</span>]</div><div class="line">        <span class="keyword">self</span>.size = size</div><div class="line">        <span class="keyword">self</span>.crust = crust</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">init</span>(special: <span class="type">String</span>) &#123;</div><div class="line">        <span class="keyword">self</span>.size = <span class="string">"Large"</span></div><div class="line">        <span class="keyword">self</span>.crust = <span class="string">"Regular"</span></div><div class="line">        <span class="keyword">if</span> special == <span class="string">"Veggie"</span> &#123;</div><div class="line">          <span class="keyword">self</span>.toppings = [<span class="string">"Tomatoes"</span>, <span class="string">"Green Pepper"</span>, <span class="string">"Mushrooms"</span>]</div><div class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> special == “<span class="type">Meat</span>” &#123;</div><div class="line">          <span class="keyword">self</span>.toppings = [<span class="string">"Sausage"</span>, <span class="string">"Pepperoni"</span>, <span class="string">"Ham"</span>, <span class="string">"Bacon"</span>]</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">          <span class="keyword">self</span>.toppings = [<span class="string">"Cheese"</span>]</div><div class="line">        &#125;</div><div class="line">    &#125; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>构造方法必须<strong>显式的</strong>给除了Option类型的所有属性赋值</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ClimateControl</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> temperature: <span class="type">Double</span></div><div class="line">  <span class="keyword">var</span> humidity: <span class="type">Double</span>?</div><div class="line">    <span class="keyword">init</span>(temp: <span class="type">Double</span>) &#123;</div><div class="line">    temperature = temp</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">init</span>(temp: <span class="type">Double</span>, hum: <span class="type">Double</span>) &#123;</div><div class="line">    temperature = temp</div><div class="line">    humidity = hum</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> ecoMode = <span class="type">ClimateControl</span>(temp: <span class="number">75.0</span>)</div><div class="line"><span class="keyword">let</span> dryAndComfortable = <span class="type">ClimateControl</span>(temp: <span class="number">71.0</span>, hum: <span class="number">30.0</span>)</div></pre></td></tr></table></figure>
<p>默认值</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ClimateControl</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> temperature: <span class="type">Double</span> = <span class="number">68.0</span></div><div class="line">  <span class="keyword">var</span> humidity: <span class="type">Double</span>?</div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> defaultClimate = <span class="type">ClimateControl</span>()</div><div class="line"><span class="built_in">print</span>(defaultClimate.temperature) <span class="comment">// 68.0</span></div></pre></td></tr></table></figure>
<h3 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">DeliveryRange</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> range: <span class="type">Double</span></div><div class="line">  <span class="keyword">let</span> center: <span class="type">Location</span></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">isInRange</span><span class="params">(customer: Location)</span></span> -&gt; <span class="type">Bool</span> &#123;</div><div class="line">    <span class="keyword">let</span> difference = sqrt(pow((latitude - center.latitude), <span class="number">2</span>) + pow((longitude - center.longitude), <span class="number">2</span>))</div><div class="line">    <span class="keyword">return</span> difference &lt; range</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> range = <span class="type">DeliveryRange</span>(range: <span class="number">150</span>, center: <span class="type">Location</span>(<span class="string">"44.9871,-93.2758"</span>))</div><div class="line"><span class="keyword">let</span> customer = <span class="type">Location</span>(coordinateString: “<span class="number">44.9850</span>,-<span class="number">93.2750</span>”)</div><div class="line">range.isInRange(customer) <span class="comment">// true!</span></div></pre></td></tr></table></figure>
<h3 id="Extensions"><a href="#Extensions" class="headerlink" title="Extensions"></a>Extensions</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Location</span> </span>&#123;</div><div class="line">  <span class="keyword">let</span> latitude: <span class="type">Double</span></div><div class="line">  <span class="keyword">let</span> longitude: <span class="type">Double</span></div><div class="line">  <span class="comment">// String in GPS format "44.9871,-93.2758"</span></div><div class="line">  <span class="keyword">init</span>(coordinateString: <span class="type">String</span>) &#123;</div><div class="line">    <span class="keyword">let</span> crdSplit = coordinateString.characters.<span class="built_in">split</span>(<span class="string">","</span>)</div><div class="line">    latitude = atof(<span class="type">String</span>(crdSplit.first!))</div><div class="line">    longitude = atof(<span class="type">String</span>(crdSplit.last!))</div><div class="line">  &#125; </div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Location</span> </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">isNorthernHemisphere</span><span class="params">()</span></span> -&gt; <span class="type">Bool</span> &#123;</div><div class="line">    <span class="keyword">return</span> latitude &gt; <span class="number">0.0</span></div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> location = <span class="type">Location</span>(coordinateString: <span class="string">"44.9850,-93.2750"</span>)</div><div class="line">location.isNorthernHemisphere() <span class="comment">// true</span></div></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">String</span> </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">evenOrOdd</span><span class="params">()</span></span> -&gt; <span class="type">String</span> &#123;</div><div class="line">    <span class="keyword">return</span> characters.<span class="built_in">count</span> % <span class="number">2</span> == <span class="number">0</span> ? <span class="string">"Even!"</span> : <span class="string">"Odd!"</span></div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="string">"I'm odd"</span>.evenOrOdd() <span class="comment">// "Odd!"</span></div></pre></td></tr></table></figure>
<h3 id="结构体变量"><a href="#结构体变量" class="headerlink" title="结构体变量"></a>结构体变量</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> range1: <span class="type">DeliveryRange</span> = <span class="type">DeliveryRange</span>(range: <span class="number">200</span>,</div><div class="line">  center: <span class="type">Location</span>(“<span class="number">44.9871</span>,-<span class="number">93.2758</span>”))</div><div class="line"><span class="comment">// 将 range1 赋值给 range2</span></div><div class="line"><span class="keyword">var</span> range2: <span class="type">DeliveryRange</span> = range1</div><div class="line"><span class="built_in">print</span>(range1.range) <span class="comment">// 200</span></div><div class="line"><span class="built_in">print</span>(range2.range) <span class="comment">// 200</span></div><div class="line"><span class="comment">// 修改 range1 的 range 为 '100'</span></div><div class="line">range1.range = <span class="number">100</span></div><div class="line"><span class="comment">// range1 的 range 为 '100', 但是 range2 的 range 仍然为 '200'</span></div><div class="line"><span class="comment">// 结构体是值类型,而非引用类型</span></div><div class="line"><span class="built_in">print</span>(range1.range) <span class="comment">// 100</span></div><div class="line"><span class="built_in">print</span>(range2.range) <span class="comment">// 200</span></div></pre></td></tr></table></figure>
<h2 id="类"><a href="#类" class="headerlink" title="类"></a>类</h2><h3 id="创建"><a href="#创建" class="headerlink" title="创建"></a>创建</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//类不像结构体，类没有提供默认构造方法，必须要写构造方法显式的给属性赋值。</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> firstName: <span class="type">String</span></div><div class="line">  <span class="keyword">var</span> lastName: <span class="type">String</span></div><div class="line">  <span class="keyword">init</span>(firstName: <span class="type">String</span>, lastName: <span class="type">String</span>) &#123;</div><div class="line">  	<span class="keyword">self</span>.firstName = firstName</div><div class="line">    <span class="keyword">self</span>.lastName = lastName</div><div class="line">  &#125;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">fullName</span><span class="params">()</span></span> -&gt; <span class="type">String</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="string">"<span class="subst">\(firstName)</span> <span class="subst">\(lastName)</span>"</span></div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> john = <span class="type">Person</span>(firstName: <span class="string">"Johnny"</span>, lastName: <span class="string">"Appleseed"</span>)</div></pre></td></tr></table></figure>
<p><strong>结构体是不可变的值类型，类是可变的应用类型。</strong><br><strong>类通常用来代表对象，结构体用来代表值</strong></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Grade</span> </span>&#123;</div><div class="line">  <span class="keyword">let</span> letter: <span class="type">String</span></div><div class="line">  <span class="keyword">let</span> points: <span class="type">Double</span></div><div class="line">  <span class="keyword">let</span> credits: <span class="type">Double</span></div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> firstName: <span class="type">String</span></div><div class="line">  <span class="keyword">var</span> lastName: <span class="type">String</span></div><div class="line">  <span class="keyword">var</span> grades: [<span class="type">Grade</span>] = []</div><div class="line">  <span class="keyword">init</span>(firstName: <span class="type">String</span>, lastName: <span class="type">String</span>) &#123;</div><div class="line">    <span class="keyword">self</span>.firstName = firstName</div><div class="line">    <span class="keyword">self</span>.lastName = lastName</div><div class="line">  &#125;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">recordGrade</span><span class="params">(grade: Grade)</span></span> &#123;</div><div class="line">    grades.append(grade)</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> jane = <span class="type">Student</span>(firstName: “<span class="type">Jane</span>”, lastName: “<span class="type">Appleseed</span>”)</div><div class="line"><span class="keyword">let</span> history = <span class="type">Grade</span>(letter: “<span class="type">B</span>”, points: <span class="number">9.0</span>, credits: <span class="number">3.0</span>)</div><div class="line"><span class="keyword">let</span> math = <span class="type">Grade</span>(letter: “<span class="type">A</span>”, points: <span class="number">16.0</span>, credits: <span class="number">4.0</span>)</div><div class="line">jane.recordGrade(history)</div><div class="line">jane.recordGrade(math)</div></pre></td></tr></table></figure>
<h3 id="访问控制"><a href="#访问控制" class="headerlink" title="访问控制"></a>访问控制</h3><ul>
<li><strong>public</strong> : 可以访问当前模块及其他模块中的任何实体（通常用于Framework）。</li>
<li><strong>internal</strong>: 可以访问当前模块中的其他任何实体，但是在模块外无法访问，这是所有实体的<strong>默认</strong>访问级别（通常在一个单目标Application中不需要自行设置访问级别）。</li>
<li><strong>private</strong>: 只能访问当前源文件中的实体（<strong>注意</strong>, Swift中的private和其他语言不太一样，它是基于源文件的，作用范围是整个源文件，如果一个源文件中有两个类，那么一个类可以访问另外一个类的私有成员）</li>
<li>类成员的访问级别<strong>不能高于</strong>类的访问级别 (<strong>注意</strong>, 嵌套类型的访问级别也符合此条规则)</li>
</ul>
<h3 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> firstName: <span class="type">String</span></div><div class="line">  <span class="keyword">var</span> lastName: <span class="type">String</span></div><div class="line">  <span class="keyword">init</span>(firstName: <span class="type">String</span>, lastName: <span class="type">String</span>) &#123;</div><div class="line">    <span class="keyword">self</span>.firstName = firstName</div><div class="line">    <span class="keyword">self</span>.lastName = lastName</div><div class="line">  &#125;</div><div class="line">  </div><div class="line">  <span class="comment">//析构</span></div><div class="line">  <span class="keyword">deinit</span> &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"<span class="subst">\(firstName)</span> <span class="subst">\(lastName)</span> is being removed from memory!"</span>)</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>: <span class="title">Person</span> </span>&#123;</div><div class="line">	<span class="comment">//weak 表示弱引用，可避免循环引用。若无 weak 修饰，都为强引用。</span></div><div class="line">	<span class="keyword">weak</span> <span class="keyword">var</span> partner: <span class="type">Student</span>?</div><div class="line">	</div><div class="line">    <span class="keyword">var</span> grades: [<span class="type">Grade</span>] = []</div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">recordGrade</span><span class="params">(grade: Grade)</span></span> &#123;</div><div class="line">    	grades.append(grade)</div><div class="line">    &#125; </div><div class="line">    <span class="comment">//required 要求其子类不仅必须要实现此构造方法，而且当其子类调用super.init时，必须要用此构造方法</span></div><div class="line">    <span class="keyword">override</span> <span class="keyword">required</span> <span class="keyword">init</span>(firstName: <span class="type">String</span>, lastName: <span class="type">String</span>) &#123;</div><div class="line">      grades = []</div><div class="line">      <span class="keyword">super</span>.<span class="keyword">init</span>(firstName: firstName, lastName: lastName)</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">convenience</span> <span class="keyword">init</span>(transfer: <span class="type">Student</span>) &#123;</div><div class="line">      <span class="comment">//使用 convenience 关键字进行修饰的构造方法必须要调用 本类 的构造方法进行初始化</span></div><div class="line">      <span class="keyword">self</span>.<span class="keyword">init</span>(firstName: transfer.firstName, lastName: transfer.lastName)</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">StudentAthlete</span>: <span class="title">Student</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> failedClasses: [<span class="type">Grade</span>] = []</div><div class="line">  </div><div class="line">  <span class="comment">// 必须要实现，因为其父类的 required，否则编译器报错</span></div><div class="line">  <span class="keyword">override</span> <span class="keyword">required</span> <span class="keyword">init</span>(firstName: <span class="type">String</span>, lastName: <span class="type">String</span>) &#123;</div><div class="line">    <span class="keyword">self</span>.sports = []</div><div class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(firstName: firstName, lastName: lastName)</div><div class="line">  &#125;</div><div class="line">  </div><div class="line">  <span class="keyword">init</span>(firstName: <span class="type">String</span>, lastName: <span class="type">String</span>, sports: [<span class="type">String</span>]) &#123;</div><div class="line">    <span class="keyword">self</span>.sports = sports</div><div class="line">    </div><div class="line">    <span class="keyword">let</span> passGrade = <span class="type">Grade</span>(letter: <span class="string">"P"</span>, points: <span class="number">0.0</span>, credits: <span class="number">0.0</span>)</div><div class="line">    </div><div class="line">    <span class="comment">//必须在初始化所有属性后调用super.init</span></div><div class="line">    <span class="keyword">super</span>.<span class="keyword">init</span>(firstName: firstName, lastName: lastName)</div><div class="line">    </div><div class="line">    recordGrade(passGrade)</div><div class="line">  &#125;</div><div class="line">  </div><div class="line">  <span class="comment">//重写</span></div><div class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">recordGrade</span><span class="params">(grade: Grade)</span></span> &#123;</div><div class="line">    <span class="keyword">var</span> newFailedClasses: [<span class="type">Grade</span>] = []</div><div class="line">    <span class="keyword">for</span> grade <span class="keyword">in</span> grades &#123;</div><div class="line">      <span class="keyword">if</span> grade.letter == <span class="string">"F"</span> &#123;</div><div class="line">        newFailedClasses.append(grade)</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">   	failedClasses = newFailedClasses</div><div class="line">   	<span class="keyword">super</span>.recordGrade(grade)</div><div class="line">  &#125;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">athleteIsEligible</span><span class="params">()</span></span> -&gt; <span class="type">Bool</span> &#123;</div><div class="line">    <span class="keyword">return</span> failedClasses.<span class="built_in">count</span> &lt; <span class="number">3</span></div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//final 阻止继承或重写</span></div><div class="line"></div><div class="line"><span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span>: <span class="title">Person</span> </span>&#123;</div><div class="line">	<span class="comment">//...</span></div><div class="line">&#125;</div><div class="line"><span class="comment">// Build error!</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">StudentAthlete</span>: <span class="title">Student</span> </span>&#123;</div><div class="line">	<span class="comment">//...</span></div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>: <span class="title">Person</span> </span>&#123;</div><div class="line">  <span class="keyword">final</span> <span class="function"><span class="keyword">func</span> <span class="title">recordGrade</span><span class="params">(grade: Grade)</span></span> &#123;</div><div class="line">	<span class="comment">//...</span></div><div class="line">  &#125; </div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">StudentAthlete</span>: <span class="title">Student</span> </span>&#123;</div><div class="line">  <span class="comment">// Build error!</span></div><div class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">recordGrade</span><span class="params">(grade: Grade)</span></span> &#123;</div><div class="line">  	<span class="comment">//...</span></div><div class="line">  &#125; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>Swift中的构造方法分为<code>designated</code>构造方法与<code>convenience</code>构造方法两类</li>
</ul>
<ul>
<li><code>designated</code>构造方法也被称为<strong>指定构造方法</strong>，<code>convenience</code>构造方法也被称为<strong>方便构造方法</strong>。</li>
</ul>
<ul>
<li><code>designated</code>构造方法不加任何修饰关键字，<code>convenience</code>构造方法需要使用<code>convenience</code>关键字进行修饰。<ul>
<li>子类<code>designated</code>构造方法中必须调用父类的<code>designated</code>构造方法。</li>
<li><code>convenience</code>构造方法中必须调用当前类的构造方法。</li>
<li><code>convenience</code>构造方法归根结底要调用到<code>designated</code>构造方法。</li>
</ul>
</li>
</ul>
<p><img src="/images/designated_convenience.png" alt="designated &amp; convenience"></p>
<h2 id="枚举"><a href="#枚举" class="headerlink" title="枚举"></a>枚举</h2><h3 id="创建-1"><a href="#创建-1" class="headerlink" title="创建"></a>创建</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Month</span> </span>&#123;</div><div class="line">  <span class="keyword">case</span> <span class="type">January</span></div><div class="line">  <span class="keyword">case</span> <span class="type">February</span></div><div class="line">  <span class="keyword">case</span> <span class="type">March</span></div><div class="line">  <span class="keyword">case</span> <span class="type">April</span></div><div class="line">  <span class="keyword">case</span> <span class="type">May</span></div><div class="line">  <span class="keyword">case</span> <span class="type">June</span></div><div class="line">  <span class="keyword">case</span> <span class="type">July</span></div><div class="line">  <span class="keyword">case</span> <span class="type">August</span></div><div class="line">  <span class="keyword">case</span> <span class="type">September</span></div><div class="line">  <span class="keyword">case</span> <span class="type">October</span></div><div class="line">  <span class="keyword">case</span> <span class="type">November</span></div><div class="line">  <span class="keyword">case</span> <span class="type">December</span></div><div class="line">&#125;</div><div class="line"><span class="comment">//等价于</span></div><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Month</span> </span>&#123;</div><div class="line">  <span class="keyword">case</span> <span class="type">January</span>, <span class="type">February</span>, <span class="type">March</span>, <span class="type">April</span>, <span class="type">May</span>, <span class="type">June</span>, <span class="type">July</span>, <span class="type">August</span>,</div><div class="line">      <span class="type">September</span>, <span class="type">October</span>, <span class="type">November</span>, <span class="type">December</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//既然编译器已知晓类型，可省掉类型</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">schoolSemester</span><span class="params">(month: Month)</span></span> -&gt; <span class="type">String</span> &#123;</div><div class="line">  <span class="keyword">switch</span> month &#123;</div><div class="line">  <span class="keyword">case</span> .<span class="type">August</span>, .<span class="type">September</span>, .<span class="type">October</span>, .<span class="type">November</span>, .<span class="type">December</span>:</div><div class="line">    <span class="keyword">return</span> <span class="string">"Autumn"</span></div><div class="line">  <span class="keyword">case</span> .<span class="type">January</span>, .<span class="type">February</span>, .<span class="type">March</span>, .<span class="type">April</span>, .<span class="type">May</span>:</div><div class="line">    <span class="keyword">return</span> <span class="string">"Spring"</span></div><div class="line">  <span class="keyword">default</span>:</div><div class="line">    <span class="keyword">return</span> <span class="string">"Not in the school year"</span></div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> month = <span class="type">Month</span>.<span class="type">April</span></div><div class="line">month = .<span class="type">September</span></div><div class="line">schoolSemester(month) <span class="comment">// "Autumn"</span></div></pre></td></tr></table></figure>
<h3 id="Raw-values"><a href="#Raw-values" class="headerlink" title="Raw values"></a>Raw values</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Month</span>: <span class="title">Int</span> </span>&#123;</div><div class="line">  <span class="keyword">case</span> <span class="type">January</span> = <span class="number">1</span>, <span class="type">February</span> = <span class="number">2</span>, <span class="type">March</span> = <span class="number">3</span>, <span class="type">April</span> = <span class="number">4</span>, <span class="type">May</span> = <span class="number">5</span>,</div><div class="line">  	   <span class="type">June</span> = <span class="number">6</span>, <span class="type">July</span> = <span class="number">7</span>, <span class="type">August</span> = <span class="number">8</span>, <span class="type">September</span> = <span class="number">9</span>,</div><div class="line">	   <span class="type">October</span> = <span class="number">10</span>, <span class="type">November</span> = <span class="number">11</span>, <span class="type">December</span> = <span class="number">12</span></div><div class="line">&#125;</div><div class="line"><span class="comment">//等价于</span></div><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Month</span>: <span class="title">Int</span> </span>&#123;</div><div class="line">  <span class="keyword">case</span> <span class="type">January</span> = <span class="number">1</span>, <span class="type">February</span>, <span class="type">March</span>, <span class="type">April</span>, <span class="type">May</span>, <span class="type">June</span>, <span class="type">July</span>,</div><div class="line">  	   <span class="type">August</span>, <span class="type">September</span>, <span class="type">October</span>, <span class="type">November</span>, <span class="type">December</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//访问 raw value</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">monthsUntilWinterBreak</span><span class="params">(month: Month)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">  <span class="keyword">return</span> <span class="type">Month</span>.<span class="type">December</span>.rawValue - month.rawValue</div><div class="line">&#125;</div><div class="line">monthsUntilWinterBreak(.<span class="type">April</span>) <span class="comment">// 8</span></div><div class="line"></div><div class="line"><span class="comment">//用 raw value 初始化</span></div><div class="line"><span class="comment">//Month(rawValue: 5) 返回 Option 类型，需要解包</span></div><div class="line"><span class="keyword">if</span> <span class="keyword">let</span> fifthMonth = <span class="type">Month</span>(rawValue: <span class="number">5</span>) &#123;</div><div class="line">  monthsUntilWinterBreak(fifthMonth)  <span class="comment">// 7</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//非递增的枚举</span></div><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Coin</span>: <span class="title">Int</span> </span>&#123;</div><div class="line">  <span class="keyword">case</span> <span class="type">Penny</span> = <span class="number">1</span></div><div class="line">  <span class="keyword">case</span> <span class="type">Nickel</span> = <span class="number">5</span></div><div class="line">  <span class="keyword">case</span> <span class="type">Dime</span> = <span class="number">10</span></div><div class="line">  <span class="keyword">case</span> <span class="type">Quarter</span> = <span class="number">25</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> coin = <span class="type">Coin</span>.<span class="type">Quarter</span></div><div class="line">coin.rawValue <span class="comment">// 25</span></div></pre></td></tr></table></figure>
<h3 id="Associated-values"><a href="#Associated-values" class="headerlink" title="Associated values"></a>Associated values</h3><ul>
<li>每个枚举 case 可以有0个或多个关联值（Associated values）</li>
<li>每个枚举 case的关联值都可以有自己的数据类型</li>
<li>可以像命名函数参数那样命名关联值</li>
<li>一个枚举不能同时有 Raw values 或 Associated values</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> balance = <span class="number">100</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">WithdrawalResult</span> </span>&#123;</div><div class="line">  <span class="keyword">case</span> <span class="type">Success</span>(<span class="type">Int</span>)</div><div class="line">  <span class="keyword">case</span> <span class="type">Error</span>(<span class="type">String</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">withdraw</span><span class="params">(amount: Int)</span></span> -&gt; <span class="type">WithdrawalResult</span> &#123;</div><div class="line"> <span class="keyword">if</span> amount &lt;= balance &#123;</div><div class="line">   balance -= amount</div><div class="line">   <span class="keyword">return</span> .<span class="type">Success</span>(balance)</div><div class="line"> &#125; <span class="keyword">else</span> &#123;</div><div class="line">   <span class="keyword">return</span> .<span class="type">Error</span>(<span class="string">"Not enough money!"</span>)</div><div class="line"> &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> result = withdraw(<span class="number">99</span>)</div><div class="line"><span class="keyword">switch</span> result &#123;</div><div class="line"><span class="keyword">case</span> <span class="keyword">let</span> .<span class="type">Success</span>(newBalance):</div><div class="line">  <span class="built_in">print</span>(<span class="string">"Your new balance is: <span class="subst">\(newBalance)</span>"</span>)</div><div class="line"><span class="keyword">case</span> <span class="keyword">let</span> .<span class="type">Error</span>(message):</div><div class="line">  <span class="built_in">print</span>(message)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">HTTPMethod</span> </span>&#123;</div><div class="line">  <span class="keyword">case</span> <span class="type">GET</span></div><div class="line">  <span class="keyword">case</span> <span class="type">POST</span>(<span class="type">String</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//枚举可以用作状态机(state machine)</span></div><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">TrafficLight</span> </span>&#123;</div><div class="line">  <span class="keyword">case</span> <span class="type">Red</span>, <span class="type">Yellow</span>, <span class="type">Green</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> trafficLight = <span class="type">TrafficLight</span>.<span class="type">Red</span></div></pre></td></tr></table></figure>
<h3 id="Optionals-1"><a href="#Optionals-1" class="headerlink" title="Optionals"></a>Optionals</h3><p><strong>Optionals 就是枚举类型</strong></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//不用 `？` 声明 Optional 类型</span></div><div class="line"><span class="keyword">let</span> email: <span class="type">Optional</span>&lt;<span class="type">String</span>&gt; = .<span class="type">None</span>  <span class="comment">//.None 表示为没有值 nil</span></div><div class="line"><span class="keyword">let</span> website: <span class="type">Optional</span>&lt;<span class="type">String</span>&gt; = .<span class="type">Some</span>(<span class="string">"docoder.com"</span>)  <span class="comment">//.Some 表示有值，为关联值(Associated values)</span></div><div class="line"></div><div class="line"><span class="keyword">switch</span> website &#123;</div><div class="line"><span class="keyword">case</span> .<span class="type">None</span>:</div><div class="line">  <span class="built_in">print</span>(<span class="string">"No value"</span>)</div><div class="line"><span class="keyword">case</span> <span class="keyword">let</span> .<span class="type">Some</span>(value):</div><div class="line">  <span class="built_in">print</span>(<span class="string">"Got a value: <span class="subst">\(value)</span>"</span>)</div><div class="line">&#125;</div><div class="line"><span class="comment">//&gt; Got a value: docoder.com</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> optionalNil: <span class="type">Optional</span>&lt;<span class="type">Int</span>&gt; = .<span class="type">None</span></div><div class="line">optionalNil == <span class="literal">nil</span>    <span class="comment">// true</span></div><div class="line">optionalNil == .<span class="type">None</span>  <span class="comment">// true</span></div></pre></td></tr></table></figure>
<h2 id="属性-Properties"><a href="#属性-Properties" class="headerlink" title="属性 (Properties)"></a>属性 (Properties)</h2><h3 id="存储属性"><a href="#存储属性" class="headerlink" title="存储属性"></a>存储属性</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Type</span> </span>&#123;</div><div class="line">  <span class="keyword">case</span> <span class="type">Work</span>, <span class="type">Family</span>, <span class="type">Friend</span></div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Contact</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> fullName: <span class="type">String</span></div><div class="line">  <span class="keyword">let</span> emailAddress: <span class="type">String</span></div><div class="line">  <span class="keyword">var</span> type: <span class="type">Type</span> = .<span class="type">Friend</span> <span class="comment">//默认值为 .Friend</span></div><div class="line">&#125;</div><div class="line"><span class="comment">//虽然有默认值，但默认自动生成的构造方法依然要对每个属性赋值，除非自定义构造方法。</span></div></pre></td></tr></table></figure>
<h3 id="计算属性"><a href="#计算属性" class="headerlink" title="计算属性"></a>计算属性</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">TV</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> height: <span class="type">Double</span></div><div class="line">  <span class="keyword">var</span> width: <span class="type">Double</span></div><div class="line">  <span class="comment">// 计算属性</span></div><div class="line">  <span class="keyword">var</span> diagonal: <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">let</span> aSquared = pow(height, <span class="number">2</span>)</div><div class="line">    <span class="keyword">let</span> bSquared = pow(width, <span class="number">2</span>)</div><div class="line">    <span class="keyword">let</span> cSquared = aSquared + bSquared</div><div class="line">    <span class="keyword">let</span> <span class="built_in">c</span> = sqrt(cSquared)</div><div class="line">    <span class="keyword">let</span> rounded = round(<span class="built_in">c</span>)</div><div class="line">    <span class="keyword">return</span> <span class="type">Int</span>(rounded)</div><div class="line">  &#125; </div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> tv = <span class="type">TV</span>(height: <span class="number">53.93</span>, width: <span class="number">95.87</span>)</div><div class="line"><span class="keyword">let</span> size = tv.diagonal <span class="comment">// 110</span></div><div class="line"></div><div class="line">tv.width = <span class="number">53.93</span></div><div class="line"><span class="keyword">let</span> diagonal = tv.diagonal <span class="comment">// 76</span></div></pre></td></tr></table></figure>
<h3 id="Getter-and-setter"><a href="#Getter-and-setter" class="headerlink" title="Getter and setter"></a>Getter and setter</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">TV</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> height: <span class="type">Double</span></div><div class="line">  <span class="keyword">var</span> width: <span class="type">Double</span></div><div class="line">  <span class="keyword">var</span> diagonal: <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">get</span> &#123;</div><div class="line">      <span class="keyword">return</span> <span class="type">Int</span>(round(sqrt(height * height + width * width)))</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">set</span> &#123;</div><div class="line">      <span class="keyword">let</span> ratioWidth: <span class="type">Double</span> = <span class="number">16</span></div><div class="line">      <span class="keyword">let</span> ratioHeight: <span class="type">Double</span> = <span class="number">9</span></div><div class="line">      </div><div class="line">      <span class="comment">//newValue 关键字 为 set 方法传进的值</span></div><div class="line">      height = <span class="type">Double</span>(newValue) * ratioHeight / sqrt(ratioWidth * ratioWidth + ratioHeight * ratioHeight)</div><div class="line">      width = height * ratioWidth / ratioHeight</div><div class="line">    &#125; </div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">tv.diagonal = <span class="number">70</span></div><div class="line"><span class="keyword">let</span> height = tv.height <span class="comment">// 34.32...</span></div><div class="line"><span class="keyword">let</span> width = tv.width <span class="comment">// 61.01...</span></div></pre></td></tr></table></figure>
<h3 id="Type-properties-静态属性"><a href="#Type-properties-静态属性" class="headerlink" title="Type properties (静态属性)"></a>Type properties (静态属性)</h3><p>用 <code>static</code> 修饰的属性为 <strong>Type properties</strong>，类型本身的属性，可以跨所有实例。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Level</span> </span>&#123;</div><div class="line">  <span class="keyword">static</span> <span class="keyword">var</span> highestLevel = <span class="number">1</span></div><div class="line">  <span class="keyword">let</span> id: <span class="type">Int</span></div><div class="line">  <span class="keyword">var</span> boss: <span class="type">String</span></div><div class="line">  <span class="keyword">var</span> unlocked: <span class="type">Bool</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// Error: you can't access a type property on an instance</span></div><div class="line"><span class="keyword">let</span> highestLevel = level3.highestLevel <span class="comment">//不能用实例访问</span></div><div class="line"><span class="comment">// 必须用类型名访问</span></div><div class="line"><span class="keyword">let</span> highestLevel = <span class="type">Level</span>.highestLevel <span class="comment">// 1</span></div></pre></td></tr></table></figure>
<h3 id="单例"><a href="#单例" class="headerlink" title="单例"></a>单例</h3><p>声明单例要用引用类型的 <code>class</code> ,而不能用值类型的 <code>struct</code> ,否则不能修改其属性</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">GameManager</span> </span>&#123;</div><div class="line">  <span class="comment">// 用 let 修饰的 Type properties (static) 常量 来存储 这个单一实例</span></div><div class="line">  <span class="keyword">static</span> <span class="keyword">let</span> defaultManager = <span class="type">GameManager</span>()</div><div class="line">  <span class="keyword">var</span> gameScore = <span class="number">0</span></div><div class="line">  <span class="keyword">var</span> saveState = <span class="number">0</span></div><div class="line">  <span class="comment">// private 修饰构造方法，使之不能访问，不能再构造其他实例</span></div><div class="line">  <span class="keyword">private</span> <span class="keyword">init</span>() &#123;&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Property-observers"><a href="#Property-observers" class="headerlink" title="Property observers"></a>Property observers</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Level</span> </span>&#123;</div><div class="line">  <span class="keyword">static</span> <span class="keyword">var</span> highestLevel = <span class="number">1</span></div><div class="line">  <span class="keyword">let</span> id: <span class="type">Int</span></div><div class="line">  <span class="keyword">var</span> boss: <span class="type">String</span></div><div class="line">  <span class="keyword">var</span> unlocked: <span class="type">Bool</span> &#123;</div><div class="line">  	<span class="comment">//didSet，属性设值后调用</span></div><div class="line">    <span class="keyword">didSet</span> &#123;</div><div class="line">      <span class="keyword">if</span> unlocked &amp;&amp; id &gt; <span class="type">Level</span>.highestLevel &#123;</div><div class="line">        <span class="type">Level</span>.highestLevel = id</div><div class="line">      &#125;</div><div class="line">	&#125; </div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">LightBulb</span> </span>&#123;</div><div class="line">  <span class="keyword">static</span> <span class="keyword">let</span> maxCurrent = <span class="number">40</span></div><div class="line">  <span class="keyword">var</span> currentCurrent = <span class="number">0</span> &#123;</div><div class="line">  	<span class="comment">//用 didSet 限制属性的取值</span></div><div class="line">    <span class="keyword">didSet</span> &#123;</div><div class="line">      <span class="keyword">if</span> currentCurrent &gt; <span class="type">LightBulb</span>.maxCurrent &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"Current too high, falling back to previous setting."</span>)</div><div class="line">        </div><div class="line">        <span class="comment">//oldValue 关键字 为 didSet 提供的，可以访问设值之前的值</span></div><div class="line">        currentCurrent = oldValue</div><div class="line">      &#125;</div><div class="line">	&#125; </div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> light = <span class="type">LightBulb</span>()</div><div class="line">light.currentCurrent = <span class="number">50</span></div><div class="line"><span class="keyword">var</span> current = light.currentCurrent <span class="comment">// 0</span></div><div class="line">light.currentCurrent = <span class="number">40</span></div><div class="line">current = light.currentCurrent <span class="comment">// 40</span></div></pre></td></tr></table></figure>
<h3 id="懒加载（Lazy-properties）"><a href="#懒加载（Lazy-properties）" class="headerlink" title="懒加载（Lazy properties）"></a>懒加载（Lazy properties）</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Circle</span> </span>&#123;</div><div class="line">  </div><div class="line">  <span class="comment">//lazy 的修饰，使 pi 这个立即执行的 closure 没有进行实际计算，直到第一次被访问时才对其计算。</span></div><div class="line">  <span class="comment">//lazy 属性必须为变量，即，用 var 修饰，而不能用 let 修饰</span></div><div class="line">  <span class="built_in">lazy</span> <span class="keyword">var</span> pi = &#123;</div><div class="line">    <span class="keyword">return</span> ((<span class="number">4.0</span> * atan(<span class="number">1.0</span> / <span class="number">5.0</span>)) - atan(<span class="number">1.0</span> / <span class="number">239.0</span>)) * <span class="number">4.0</span></div><div class="line">  &#125;() <span class="comment">//closure 后面有`()`,表示立即执行</span></div><div class="line">    </div><div class="line">  <span class="keyword">var</span> radius: <span class="type">Double</span> = <span class="number">0</span></div><div class="line">  <span class="keyword">var</span> circumference: <span class="type">Double</span> &#123;</div><div class="line">    <span class="keyword">return</span> pi * radius * <span class="number">2</span></div><div class="line">  &#125;</div><div class="line">  <span class="keyword">init</span> (radius: <span class="type">Double</span>) &#123;</div><div class="line">    <span class="keyword">self</span>.radius = radius</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> circle = <span class="type">Circle</span>(radius: <span class="number">5</span>) <span class="comment">// 实例化一个 Circle, 此时 pi 还没执行</span></div><div class="line"></div><div class="line"><span class="comment">// pi 现在有值了</span></div><div class="line"><span class="keyword">let</span> circumference = circle.circumference <span class="comment">// 31.42</span></div></pre></td></tr></table></figure>
<h2 id="方法-Methods"><a href="#方法-Methods" class="headerlink" title="方法(Methods)"></a>方法(Methods)</h2><h3 id="Function-转为-Method"><a href="#Function-转为-Method" class="headerlink" title="Function 转为 Method"></a>Function 转为 Method</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Month</span>: <span class="title">Int</span> </span>&#123;</div><div class="line">  <span class="keyword">case</span> <span class="type">January</span> = <span class="number">1</span>, <span class="type">February</span>, <span class="type">March</span>, <span class="type">April</span>, <span class="type">May</span>, <span class="type">June</span>, <span class="type">July</span>,</div><div class="line">  	   <span class="type">August</span>, <span class="type">September</span>, <span class="type">October</span>, <span class="type">November</span>, <span class="type">December</span></div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">monthsUntilWinterBreak</span><span class="params">(month: Month)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">  <span class="keyword">return</span> <span class="type">Month</span>.<span class="type">December</span>.rawValue - month.rawValue</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//转换为：</span></div><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Month</span>: <span class="title">Int</span> </span>&#123;</div><div class="line">  <span class="keyword">case</span> <span class="type">January</span> = <span class="number">1</span>, <span class="type">February</span>, <span class="type">March</span>, <span class="type">April</span>, <span class="type">May</span>, <span class="type">June</span>,</div><div class="line">    <span class="type">July</span>, <span class="type">August</span>, <span class="type">September</span>, <span class="type">October</span>, <span class="type">November</span>, <span class="type">December</span></div><div class="line">    </div><div class="line">  <span class="comment">//枚举中的Method，比之前的 function 更合理</span></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">monthsUntilWinterBreak</span><span class="params">()</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="type">Month</span>.<span class="type">December</span>.rawValue - <span class="keyword">self</span>.rawValue</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> month = <span class="type">Month</span>.<span class="type">October</span></div><div class="line"><span class="keyword">let</span> monthsLeft = month.monthsUntilWinterBreak() <span class="comment">// 2</span></div></pre></td></tr></table></figure>
<h3 id="构造方法-Initializers"><a href="#构造方法-Initializers" class="headerlink" title="构造方法(Initializers)"></a>构造方法(Initializers)</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Month</span>: <span class="title">Int</span> </span>&#123;</div><div class="line">  <span class="keyword">case</span> <span class="type">January</span> = <span class="number">1</span>, <span class="type">February</span>, <span class="type">March</span>, <span class="type">April</span>, <span class="type">May</span>, <span class="type">June</span>,</div><div class="line">    <span class="type">July</span>, <span class="type">August</span>, <span class="type">September</span>, <span class="type">October</span>, <span class="type">November</span>, <span class="type">December</span></div><div class="line">  </div><div class="line">  <span class="comment">//构造方法不需要 func 关键字和命名</span></div><div class="line">  <span class="keyword">init</span>() &#123;</div><div class="line">    <span class="keyword">self</span> = .<span class="type">January</span></div><div class="line">  &#125;</div><div class="line">  </div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">monthsUntilWinterBreak</span><span class="params">()</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="type">Month</span>.<span class="type">December</span>.rawValue - <span class="keyword">self</span>.rawValue</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> month = <span class="type">Month</span>() <span class="comment">// January</span></div><div class="line"><span class="keyword">let</span> monthsLeft = month.monthsUntilWinterBreak() <span class="comment">// 11</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Date</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> month: <span class="type">Month</span></div><div class="line">  <span class="keyword">var</span> day: <span class="type">Int</span></div><div class="line">  <span class="comment">//自定义构造方法后，默认构造方法将无效</span></div><div class="line">  <span class="keyword">init</span>() &#123;</div><div class="line">    month = .<span class="type">January</span></div><div class="line">	day = <span class="number">1</span> </div><div class="line">  &#125;</div><div class="line"> <span class="comment">//如果不重载此构造方法，将不能调用 Date(month: , day: )</span></div><div class="line">  <span class="keyword">init</span>(month: <span class="type">Month</span>, day: <span class="type">Int</span>) &#123;</div><div class="line">    <span class="keyword">self</span>.month = month</div><div class="line">    <span class="keyword">self</span>.day = day</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> date = <span class="type">Date</span>(month: .<span class="type">February</span>, day: <span class="number">14</span>)</div><div class="line"><span class="keyword">let</span> dateMonth = date.month <span class="comment">// February</span></div><div class="line"><span class="keyword">let</span> dateDay = date.day <span class="comment">// 14</span></div></pre></td></tr></table></figure>
<h3 id="Mutating-methods"><a href="#Mutating-methods" class="headerlink" title="Mutating methods"></a>Mutating methods</h3><p>结构体有个限制（因为结构体为值类型），其成员方法 method 不能改变其成员属性，除非用 <code>mutating</code> 修饰此 method</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Date</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> month: <span class="type">Month</span></div><div class="line">  <span class="keyword">var</span> day: <span class="type">Int</span></div><div class="line">  </div><div class="line">  <span class="comment">//用 mutating 修饰，此方法才能修改属性</span></div><div class="line">  <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">advance</span><span class="params">()</span></span> &#123;</div><div class="line">	day += <span class="number">1</span> </div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Type-methods-静态方法"><a href="#Type-methods-静态方法" class="headerlink" title="Type methods (静态方法)"></a>Type methods (静态方法)</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Utils</span> </span>&#123;</div><div class="line">  <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">factorial</span><span class="params">(number: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">return</span> (<span class="number">1</span>...number).<span class="built_in">reduce</span>(<span class="number">1</span>, combine: *)</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> factorial = <span class="type">Utils</span>.factorial(<span class="number">6</span>) <span class="comment">// 720</span></div></pre></td></tr></table></figure>
<h2 id="协议-Protocols"><a href="#协议-Protocols" class="headerlink" title="协议 (Protocols)"></a>协议 (Protocols)</h2><h3 id="定义协议"><a href="#定义协议" class="headerlink" title="定义协议"></a>定义协议</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Direction</span> </span>&#123;</div><div class="line">  <span class="keyword">case</span> <span class="type">Left</span></div><div class="line">  <span class="keyword">case</span> <span class="type">Right</span> </div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Vehicle</span> </span>&#123;</div><div class="line">  <span class="comment">//协议中不能设置任何 如 private, internal 或 public 的访问控制</span></div><div class="line">  </div><div class="line">  <span class="comment">//可以定义属性，但必须要标明 get, set，跟计算属性类似，但不能有任何实现</span></div><div class="line">  <span class="keyword">var</span> weight: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">  <span class="keyword">var</span> name: <span class="type">String</span> &#123; <span class="keyword">get</span> <span class="keyword">set</span> &#125;</div><div class="line">  </div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">accelerate</span><span class="params">()</span></span></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">stop</span><span class="params">()</span></span></div><div class="line">  </div><div class="line">  <span class="comment">//协议中不能有对于方法的任何实现代码</span></div><div class="line">  <span class="comment">//故，不能写成 func turn(direction: Direction = .Left)</span></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">turn</span><span class="params">(direction: Direction)</span></span></div><div class="line">  <span class="comment">//如果要实现可选参数，则需要写重载的方法，如下：</span></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">turn</span><span class="params">()</span></span></div><div class="line">  </div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">description</span><span class="params">()</span></span> -&gt; <span class="type">String</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="协议继承"><a href="#协议继承" class="headerlink" title="协议继承"></a>协议继承</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Vehicle</span> </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">accelerate</span><span class="params">()</span></span></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">stop</span><span class="params">()</span></span></div><div class="line">&#125;</div><div class="line"><span class="comment">//协议 WheeledVehicle 继承了协议 Vehicle</span></div><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">WheeledVehicle</span>: <span class="title">Vehicle</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> numberOfWheels: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">  <span class="keyword">var</span> wheelSize: <span class="type">Double</span> &#123; <span class="keyword">get</span> <span class="keyword">set</span> &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="实现协议"><a href="#实现协议" class="headerlink" title="实现协议"></a>实现协议</h3><p>协议可以被 <strong>类</strong> , <strong>结构体</strong> , <strong>枚举</strong> 来实现</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Wheeled</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> numberOfWheels: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">//类</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ClassyBike</span>: <span class="title">Wheeled</span> </span>&#123;</div><div class="line">  <span class="keyword">let</span> numberOfWheels = <span class="number">2</span></div><div class="line">&#125;</div><div class="line"><span class="comment">//结构体</span></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">StructyBike</span>: <span class="title">Wheeled</span> </span>&#123;</div><div class="line">  <span class="keyword">let</span> numberOfWheels = <span class="number">2</span></div><div class="line">&#125;</div><div class="line"><span class="comment">//枚举</span></div><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">EnummyBike</span>: <span class="title">Wheeled</span> </span>&#123;</div><div class="line">  <span class="keyword">case</span> <span class="type">Mountain</span></div><div class="line">  <span class="keyword">case</span> <span class="type">Road</span></div><div class="line">  <span class="keyword">case</span> <span class="type">Tricycle</span></div><div class="line">  <span class="keyword">var</span> numberOfWheels: <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">switch</span> <span class="keyword">self</span> &#123;</div><div class="line">    <span class="keyword">case</span> <span class="type">Mountain</span>, <span class="type">Road</span>:</div><div class="line">      <span class="keyword">return</span> <span class="number">2</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Tricycle</span>:</div><div class="line">	  <span class="keyword">return</span> <span class="number">3</span> </div><div class="line">	&#125;</div><div class="line">  &#125; </div><div class="line">&#125;</div><div class="line"><span class="comment">// 类</span></div><div class="line"><span class="keyword">var</span> wheels: <span class="type">Wheeled</span> = <span class="type">ClassyBike</span>()</div><div class="line">wheels.numberOfWheels <span class="comment">// 2</span></div><div class="line"><span class="comment">// 结构体</span></div><div class="line">wheels = <span class="type">StructyBike</span>()</div><div class="line">wheels.numberOfWheels <span class="comment">// 2</span></div><div class="line"><span class="comment">// 枚举</span></div><div class="line">wheels = <span class="type">EnummyBike</span>.<span class="type">Tricycle</span></div><div class="line">wheels.numberOfWheels <span class="comment">// 3!</span></div></pre></td></tr></table></figure>
<p>实现协议方法</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Vehicle</span> </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">accelerate</span><span class="params">()</span></span></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">stop</span><span class="params">()</span></span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//类 Bike 实现了协议 Vehicle</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bike</span>: <span class="title">Vehicle</span> </span>&#123;</div><div class="line"></div><div class="line">  <span class="keyword">var</span> peddling: <span class="type">Bool</span> = <span class="literal">false</span></div><div class="line">  <span class="keyword">var</span> brakesApplied: <span class="type">Bool</span> = <span class="literal">false</span></div><div class="line">  </div><div class="line">  <span class="comment">//实现协议所有方法</span></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">accelerate</span><span class="params">()</span></span> &#123;</div><div class="line">    peddling = <span class="literal">true</span></div><div class="line">    brakesApplied = <span class="literal">false</span></div><div class="line">  &#125;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">stop</span><span class="params">()</span></span> &#123;</div><div class="line">    peddling = <span class="literal">false</span></div><div class="line">    brakesApplied = <span class="literal">true</span></div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>实现协议属性</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Vehicle</span> </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">accelerate</span><span class="params">()</span></span></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">stop</span><span class="params">()</span></span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">WheeledVehicle</span>: <span class="title">Vehicle</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> numberOfWheels: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">  <span class="keyword">var</span> wheelSize: <span class="type">Double</span> &#123; <span class="keyword">get</span> <span class="keyword">set</span> &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//类 Bike 实现了协议 WheeledVehicle</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bike</span>: <span class="title">WheeledVehicle</span> </span>&#123;</div><div class="line">  </div><div class="line"> <span class="comment">//用 计算属性 实现协议所有属性</span></div><div class="line">  <span class="keyword">var</span> numberOfWheels: <span class="type">Int</span> &#123;</div><div class="line"> 	  <span class="keyword">return</span> <span class="number">2</span> </div><div class="line">  &#125;</div><div class="line">  </div><div class="line">  <span class="keyword">private</span> <span class="keyword">var</span> myWheelSize: <span class="type">Double</span> = <span class="number">16.0</span></div><div class="line">  </div><div class="line">  <span class="keyword">var</span> wheelSize: <span class="type">Double</span> &#123;</div><div class="line">    <span class="keyword">get</span> &#123;</div><div class="line">        <span class="keyword">return</span> myWheelSize</div><div class="line">      &#125;</div><div class="line">    <span class="keyword">set</span> &#123;</div><div class="line">        myWheelSize = newValue</div><div class="line">      &#125;</div><div class="line">  &#125; </div><div class="line">&#125;</div><div class="line"><span class="comment">//等价于</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bike</span>: <span class="title">WheeledVehicle</span> </span>&#123;</div><div class="line">  <span class="comment">//不要求必须要用计算属性实现协议属性</span></div><div class="line">  <span class="comment">//是要对于协议用 get 修饰的属性，继承后可以读；相应的对于协议用 set 修饰的属性，继承后可以写，即可。</span></div><div class="line">  <span class="keyword">let</span> numberOfWheels = <span class="number">2</span> <span class="comment">//let 表明 只读</span></div><div class="line">  <span class="keyword">var</span> wheelSize = <span class="number">16.0</span> <span class="comment">//var 表明可 读写</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Vehicle</span> </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">accelerate</span><span class="params">()</span></span></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">stop</span><span class="params">()</span></span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">WheeledVehicle</span>: <span class="title">Vehicle</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> numberOfWheels: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">  <span class="keyword">var</span> wheelSize: <span class="type">Double</span> &#123; <span class="keyword">get</span> <span class="keyword">set</span> &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bike</span>: <span class="title">WheeledVehicle</span> </span>&#123;</div><div class="line"></div><div class="line">  <span class="comment">//虽然协议 WheeledVehicle 中表明只读，但此处可以用 var</span></div><div class="line">  <span class="comment">//用 var 表明对于类 Bike 可读写</span></div><div class="line">  <span class="keyword">var</span> numberOfWheels = <span class="number">2</span> </div><div class="line">  </div><div class="line">  <span class="keyword">var</span> wheelSize = <span class="number">16.0</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> bike: <span class="type">Bike</span> = <span class="type">Bike</span>()</div><div class="line"><span class="comment">//可以读写</span></div><div class="line">bike.numberOfWheels = <span class="number">16</span> <span class="comment">// 16-wheeler!</span></div><div class="line"><span class="keyword">var</span> wheeledBike: <span class="type">WheeledVehicle</span> = bike</div><div class="line"><span class="comment">// 此时不能给 wheeledBike 的 numberOfWheels 赋值，因为协议 WheeledVehicle 中 numberOfWheels 为 只读</span></div></pre></td></tr></table></figure>
<h3 id="Typealias"><a href="#Typealias" class="headerlink" title="Typealias"></a>Typealias</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">WeightCalculatable</span> </span>&#123;</div><div class="line">  <span class="comment">//typealias 类型别名，它允许实现此协议的类（结构体或枚举）, 可以任意指定其实际类型</span></div><div class="line">  <span class="comment">//typealias 也同时使协议 WeightCalculatable 不能用于声明变量 (因为编译器不知晓 WeightType 的实际类型), 仅能用于generic constraints(泛型约束)</span></div><div class="line">  <span class="keyword">typealias</span> <span class="type">WeightType</span></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">calculateWeight</span><span class="params">()</span></span> -&gt; <span class="type">WeightType</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">HeavyThing</span>: <span class="title">WeightCalculatable</span> </span>&#123;</div><div class="line">  <span class="comment">// HeavyThing 指定 WeightType 为 Int 类型</span></div><div class="line">  <span class="keyword">typealias</span> <span class="type">WeightType</span> = <span class="type">Int</span></div><div class="line">  </div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">calculateWeight</span><span class="params">()</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">  	<span class="keyword">return</span> <span class="number">100</span> </div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">LightThing</span>: <span class="title">WeightCalculatable</span> </span>&#123;</div><div class="line">  <span class="comment">// LightThing 指定 WeightType 为 Double 类型</span></div><div class="line">  <span class="keyword">typealias</span> <span class="type">WeightType</span> = <span class="type">Double</span></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">calculateWeight</span><span class="params">()</span></span> -&gt; <span class="type">Double</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="number">0.0025</span></div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 协议 WeightCalculatable 不能用于声明变量，仅能用于generic constraints(泛型约束)</span></div><div class="line"><span class="keyword">let</span> b: <span class="type">WeightCalculatable</span> = <span class="type">LightThing</span>() <span class="comment">// Build error!</span></div></pre></td></tr></table></figure>
<h3 id="Extensions-1"><a href="#Extensions-1" class="headerlink" title="Extensions"></a>Extensions</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">WhatType</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> typeName: <span class="type">String</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">//用 extension 扩展类型的协议，包括原始类型也可以扩展其协议</span></div><div class="line"><span class="comment">//此特征可以允许你给你实际无法拥有和操作的类添加协议，扩展功能</span></div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">String</span>: <span class="title">WhatType</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> typeName: <span class="type">String</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="string">"I'm a String"</span></div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> myType: <span class="type">String</span> = <span class="string">"Swift Apprentice!"</span></div><div class="line">myType.typeName <span class="comment">// I'm a String</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bike</span> </span>&#123; &#125;</div><div class="line"><span class="comment">//用 extension 可以方便的添加类（结构体或枚举）的协议，增加其功能；也可以方便的删除其协议和功能(只需把整个 extension 删除即可)</span></div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Bike</span>: <span class="title">Wheeled</span> </span>&#123;</div><div class="line">  <span class="comment">//但 此特征 不能增加 存储属性(stored properties)，只能增加计算属性(computed properties)</span></div><div class="line">  <span class="keyword">var</span> numberOfWheels: <span class="type">Int</span> &#123;</div><div class="line">  	<span class="keyword">return</span> <span class="number">2</span> </div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Bike</span>: <span class="title">Vehicle</span> </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">accelerate</span><span class="params">()</span></span> &#123;</div><div class="line">    <span class="comment">// Accelerate</span></div><div class="line">  &#125;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">stop</span><span class="params">()</span></span> &#123;</div><div class="line">  <span class="comment">// Stop</span></div><div class="line">  &#125; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="操作符Extensions-Equatable和Comparable协议"><a href="#操作符Extensions-Equatable和Comparable协议" class="headerlink" title="操作符Extensions (Equatable和Comparable协议)"></a>操作符Extensions (Equatable和Comparable协议)</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Record</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> wins: <span class="type">Int</span></div><div class="line">  <span class="keyword">var</span> losses: <span class="type">Int</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*</span></div><div class="line">swift 标准库中 Equatable 的定义</div><div class="line">protocol Equatable &#123;</div><div class="line">  func ==(lhs: Self, rhs: Self) -&gt; Bool</div><div class="line">&#125;</div><div class="line">*/</div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Record</span>: <span class="title">Equatable</span> </span>&#123;&#125;</div><div class="line"><span class="comment">//仅需实现 == ( != 会自动生成)</span></div><div class="line"><span class="function"><span class="keyword">func</span> ==<span class="params">(lhs: Record, rhs: Record)</span></span> -&gt; <span class="type">Bool</span> &#123;</div><div class="line">    <span class="keyword">return</span> lhs.wins == rhs.wins &amp;&amp; lhs.losses == rhs.losses</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> recordA = <span class="type">Record</span>(wins: <span class="number">10</span>, losses: <span class="number">5</span>)</div><div class="line"><span class="keyword">let</span> recordB = <span class="type">Record</span>(wins: <span class="number">10</span>, losses: <span class="number">5</span>)</div><div class="line">recordA == recordB <span class="comment">// True</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">/*</span></div><div class="line">swift 标准库中 Comparable 的定义</div><div class="line">protocol Comparable : Equatable &#123;</div><div class="line">  func &lt;(lhs: Self, rhs: Self) -&gt; Bool</div><div class="line">  func &lt;=(lhs: Self, rhs: Self) -&gt; Bool</div><div class="line">  func &gt;=(lhs: Self, rhs: Self) -&gt; Bool</div><div class="line">  func &gt;(lhs: Self, rhs: Self) -&gt; Bool</div><div class="line">&#125;</div><div class="line">*/</div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Record</span>: <span class="title">Comparable</span> </span>&#123;&#125;</div><div class="line"><span class="comment">//仅需实现 &lt; ( &gt;,&lt;=,&gt;= 会自动生成)</span></div><div class="line"><span class="function"><span class="keyword">func</span> &lt;(lhs: Record, rhs: Record) -&gt; <span class="title">Bool</span> </span>&#123;</div><div class="line">    <span class="keyword">let</span> lhsPercent = <span class="type">Double</span>(lhs.wins) / (<span class="type">Double</span>(lhs.wins) + <span class="type">Double</span>(lhs.losses))</div><div class="line">    <span class="keyword">let</span> rhsPercent = <span class="type">Double</span>(rhs.wins) / (<span class="type">Double</span>(rhs.wins) + <span class="type">Double</span>(rhs.losses))</div><div class="line">    <span class="keyword">return</span> lhsPercent &lt; rhsPercent</div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> team1 = <span class="type">Record</span>(wins: <span class="number">23</span>, losses: <span class="number">8</span>)</div><div class="line"><span class="keyword">let</span> team2 = <span class="type">Record</span>(wins: <span class="number">23</span>, losses: <span class="number">8</span>)</div><div class="line"><span class="keyword">let</span> team3 = <span class="type">Record</span>(wins: <span class="number">14</span>, losses: <span class="number">11</span>)</div><div class="line">team1 &lt; team2 <span class="comment">// false</span></div><div class="line">team1 &gt; team3 <span class="comment">// true</span></div><div class="line">team1 &gt;= team3 <span class="comment">// true</span></div><div class="line">team1 &lt;= team3 <span class="comment">// false</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">let</span> leagueRecords = [team1, team2, team3]</div><div class="line"><span class="comment">//既然 Record 实现了 Comparable 协议，自然可以使用 swift 标准库的相关函数进行排序等操作：</span></div><div class="line">leagueRecords.<span class="built_in">sort</span>()</div><div class="line"><span class="comment">// &#123;wins 14, losses 11&#125;</span></div><div class="line"><span class="comment">// &#123;wins 23, losses 8&#125;</span></div><div class="line"><span class="comment">// &#123;wins 23, losses 8&#125;</span></div><div class="line">leagueRecords.<span class="built_in">maxElement</span>() <span class="comment">// &#123;wins 23, losses 8&#125;</span></div><div class="line">leagueRecords.<span class="built_in">minElement</span>() <span class="comment">// &#123;wins 23, losses 8&#125;</span></div><div class="line">leagueRecords.<span class="built_in">startsWith</span>([team1, team2]) <span class="comment">// true</span></div><div class="line">leagueRecords.<span class="built_in">contains</span>(team1) <span class="comment">// true</span></div></pre></td></tr></table></figure>
<h3 id="Hashable协议"><a href="#Hashable协议" class="headerlink" title="Hashable协议"></a>Hashable协议</h3><p>当你的自定义类型要用于 <code>Dictionary</code> 的 key 或 <code>Set</code> 中的元素时，必须要实现 Hashable 协议。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line">swift 标准库中 Hashable 的定义</div><div class="line">protocol Hashable : Equatable &#123;</div><div class="line">  var hashValue: Int &#123; get &#125;</div><div class="line">&#125;</div><div class="line">*/</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> studentId: <span class="type">Int</span></div><div class="line">    <span class="keyword">var</span> firstName: <span class="type">String</span></div><div class="line">    <span class="keyword">var</span> lastName: <span class="type">String</span></div><div class="line"></div><div class="line">    <span class="keyword">init</span>(studentId: <span class="type">Int</span>, firstName: <span class="type">String</span>, lastName: <span class="type">String</span>) &#123;</div><div class="line">        <span class="keyword">self</span>.studentId = studentId</div><div class="line">        <span class="keyword">self</span>.firstName = firstName</div><div class="line">        <span class="keyword">self</span>.lastName = lastName</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">//因为 Hashable 协议继承自 Equatable 协议，故，Student 需要实现 Equatable 协议</span></div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Student</span>: <span class="title">Equatable</span> </span>&#123;&#125;</div><div class="line"><span class="function"><span class="keyword">func</span> ==<span class="params">(lhs: Student, rhs: Student)</span></span> -&gt; <span class="type">Bool</span> &#123;</div><div class="line">    <span class="keyword">return</span> lhs.studentId == rhs.studentId</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Student</span>: <span class="title">Hashable</span> </span>&#123;</div><div class="line">    <span class="comment">//返回整数哈希值，用于区分不同 Student 实例</span></div><div class="line">    <span class="keyword">var</span> hashValue: <span class="type">Int</span> &#123;</div><div class="line">        <span class="keyword">return</span> studentId</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> john = <span class="type">Student</span>(studentId:<span class="number">1</span>, firstName: <span class="string">"Johnny"</span>, lastName: <span class="string">"Appleseed"</span>)</div><div class="line"><span class="comment">// Dictionary</span></div><div class="line"><span class="keyword">let</span> lockerMap: [<span class="type">Student</span>: <span class="type">String</span>] = [john: <span class="string">"14B"</span>]</div><div class="line"><span class="comment">// Set</span></div><div class="line"><span class="keyword">let</span> classRoster: <span class="type">Set</span>&lt;<span class="type">Student</span>&gt; = [john, john, john, john]</div><div class="line">classRoster.<span class="built_in">count</span> <span class="comment">// 1</span></div></pre></td></tr></table></figure>
<h3 id="BooleanType-协议"><a href="#BooleanType-协议" class="headerlink" title="BooleanType 协议"></a>BooleanType 协议</h3><p>实现了 BooleanType 协议的自定义类型可以在判断条件中使用</p>
<p>因为 Swift 中几乎所有核心类型都是用结构体实现的，包括 <code>Bool</code> 类型，<code>Bool</code> 结构体也实现了 BooleanType 协议</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line">swift 标准库中 Hashable 的定义</div><div class="line">protocol BooleanType &#123;</div><div class="line">  var boolValue: Bool &#123; get &#125;</div><div class="line">&#125;</div><div class="line">*/</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Record</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> wins: <span class="type">Int</span></div><div class="line">  <span class="keyword">var</span> losses: <span class="type">Int</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Record</span>: <span class="title">BooleanType</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> boolValue: <span class="type">Bool</span> &#123;</div><div class="line">    <span class="keyword">return</span> wins &gt; losses</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">if</span> <span class="type">Record</span>(wins: <span class="number">10</span>, losses: <span class="number">5</span>) &#123;</div><div class="line">  <span class="built_in">print</span>(<span class="string">"winning!"</span>)</div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">  <span class="built_in">print</span>(<span class="string">"losing :("</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="CustomStringConvertible"><a href="#CustomStringConvertible" class="headerlink" title="CustomStringConvertible"></a>CustomStringConvertible</h3><p>CustomStringConvertible 协议 用于 debug 自定义类型时打印 log</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line">swift 标准库中 Hashable 的定义</div><div class="line">protocol CustomStringConvertible &#123;</div><div class="line">  var description: String &#123; get &#125;</div><div class="line">&#125;</div><div class="line">*/</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Record</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> wins: <span class="type">Int</span></div><div class="line">  <span class="keyword">var</span> losses: <span class="type">Int</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//默认</span></div><div class="line"><span class="keyword">let</span> record = <span class="type">Record</span>(wins: <span class="number">23</span>, losses: <span class="number">8</span>)</div><div class="line"><span class="built_in">print</span>(record)</div><div class="line"><span class="comment">// Record(wins: 23, losses: 8)</span></div><div class="line"></div><div class="line"><span class="comment">//自定义</span></div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Record</span>: <span class="title">CustomStringConvertible</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> description: <span class="type">String</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="string">"<span class="subst">\(wins)</span> - <span class="subst">\(losses)</span>"</span></div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="built_in">print</span>(record)</div><div class="line"><span class="comment">// 23 - 8</span></div></pre></td></tr></table></figure>
<h2 id="面向协议编程-Protocol-Oriented-Programming"><a href="#面向协议编程-Protocol-Oriented-Programming" class="headerlink" title="面向协议编程 ( Protocol-Oriented Programming )"></a>面向协议编程 ( Protocol-Oriented Programming )</h2><h3 id="扩展协议-protocol-extensions"><a href="#扩展协议-protocol-extensions" class="headerlink" title="扩展协议 (protocol extensions)"></a>扩展协议 (protocol extensions)</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">TeamRecord</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> wins: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">  <span class="keyword">var</span> losses: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">winningPercentage</span><span class="params">()</span></span> -&gt; <span class="type">Double</span></div><div class="line">&#125;</div><div class="line"><span class="comment">//对协议进行扩展 (extension)</span></div><div class="line"><span class="comment">//与协议不同，协议的扩展，可以有实现</span></div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">TeamRecord</span> </span>&#123;</div><div class="line">  <span class="comment">//计算属性 gamePlayed 及其实现</span></div><div class="line">  <span class="keyword">var</span> gamesPlayed: <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">return</span> wins + losses</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//实现 TeamRecord 协议</span></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">BaseballRecord</span>: <span class="title">TeamRecord</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> wins: <span class="type">Int</span></div><div class="line">  <span class="keyword">var</span> losses: <span class="type">Int</span></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">winningPercentage</span><span class="params">()</span></span> -&gt; <span class="type">Double</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="type">Double</span>(wins) / (<span class="type">Double</span>(wins) + <span class="type">Double</span>(losses))</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> sanFranciscoSwifts = <span class="type">BaseballRecord</span>(wins: <span class="number">10</span>, losses: <span class="number">5</span>)</div><div class="line"><span class="comment">//BaseballRecord 并不用实现 gamesPlayed 方法，而可以直接使用</span></div><div class="line">sanFranciscoSwifts.gamesPlayed <span class="comment">// 15</span></div></pre></td></tr></table></figure>
<h3 id="协议中方法的默认实现-Default-implementations"><a href="#协议中方法的默认实现-Default-implementations" class="headerlink" title="协议中方法的默认实现 (Default implementations)"></a>协议中方法的默认实现 (Default implementations)</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">TeamRecord</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> wins: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">  <span class="keyword">var</span> losses: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">winningPercentage</span><span class="params">()</span></span> -&gt; <span class="type">Double</span></div><div class="line">&#125;</div><div class="line"><span class="comment">//用 extension 默认实现 winningPercentage</span></div><div class="line"><span class="comment">//要实现 TeamRecord 接口，便可以不用实现 winningPercentage 方法。</span></div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">TeamRecord</span> </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">winningPercentage</span><span class="params">()</span></span> -&gt; <span class="type">Double</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="type">Double</span>(wins) / (<span class="type">Double</span>(wins) + <span class="type">Double</span>(losses))</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">BaseballRecord</span>: <span class="title">TeamRecord</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> wins: <span class="type">Int</span></div><div class="line">  <span class="keyword">var</span> losses: <span class="type">Int</span></div><div class="line">  <span class="keyword">let</span> seasonLength = <span class="number">162</span></div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">BasketballRecord</span>: <span class="title">TeamRecord</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> wins: <span class="type">Int</span></div><div class="line">  <span class="keyword">var</span> losses: <span class="type">Int</span></div><div class="line">  <span class="keyword">let</span> seasonLength = <span class="number">82</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">HockeyRecord</span>: <span class="title">TeamRecord</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> wins: <span class="type">Int</span></div><div class="line">  <span class="keyword">var</span> losses: <span class="type">Int</span></div><div class="line">  <span class="keyword">var</span> ties: <span class="type">Int</span></div><div class="line">  <span class="comment">// HockeyRecord 引入 ties, 于是它可以有对 winningPercentage 方法 自己的实现</span></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">winningPercentage</span><span class="params">()</span></span> -&gt; <span class="type">Double</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="type">Double</span>(wins) / (<span class="type">Double</span>(wins) + <span class="type">Double</span>(losses) + <span class="type">Double</span>(ties))</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> baseballRecord: <span class="type">TeamRecord</span> = <span class="type">BaseballRecord</span>(wins: <span class="number">10</span>, losses: <span class="number">6</span>)</div><div class="line"><span class="keyword">let</span> hockeyRecord: <span class="type">TeamRecord</span> = <span class="type">HockeyRecord</span>(wins: <span class="number">8</span>, losses: <span class="number">7</span>, ties: <span class="number">1</span>)</div><div class="line">baseballRecord.winningPercentage() <span class="comment">// 10/(10+6) == .625</span></div><div class="line">hockeyRecord.winningPercentage() <span class="comment">// 8/(8+7+1) == .500</span></div></pre></td></tr></table></figure>
<h3 id="扩展协议的分派-dispatching"><a href="#扩展协议的分派-dispatching" class="headerlink" title="扩展协议的分派(dispatching)"></a>扩展协议的分派(dispatching)</h3><ul>
<li>协议 (protocol) 定义了，扩展 (extension) 中也定义重写了的方法或属性，无论以协议声明还是以实现类型声明，若实现类型实现了，则总是调用实现类型中的方法或属性，否则调用扩展，参考 <strong>协议中方法的默认实现</strong>。</li>
<li>协议 (protocol) 未定义了，扩展 (extension) 中定义实现的方法或属性，则依赖声明的是协议还是实现类型，若以协议声明则调用协议中的方法或属性，若以实现类型声明则调用实现类中的方法或属性 (假如实现类型实现了此方法或属性)，如下：</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">TeamRecord</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> wins: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">  <span class="keyword">var</span> losses: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">winningPercentage</span><span class="params">()</span></span> -&gt; <span class="type">Double</span></div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">TeamRecord</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> gamesPlayed: <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">return</span> wins + losses</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">BaseballRecord</span>: <span class="title">TeamRecord</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> wins: <span class="type">Int</span></div><div class="line">  <span class="keyword">var</span> losses: <span class="type">Int</span></div><div class="line">  <span class="keyword">let</span> gamesPlayed: <span class="type">Int</span> = <span class="number">162</span></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">winningPercentage</span><span class="params">()</span></span> -&gt; <span class="type">Double</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="type">Double</span>(wins) / (<span class="type">Double</span>(wins) + <span class="type">Double</span>(losses))</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 以 TeamRecord 协议定义</span></div><div class="line"><span class="keyword">let</span> team1: <span class="type">TeamRecord</span> = <span class="type">BaseballRecord</span>(wins: <span class="number">10</span>, losses: <span class="number">5</span>)</div><div class="line"><span class="comment">// 以 BaseballRecord 类 定义</span></div><div class="line"><span class="keyword">let</span> team2: <span class="type">BaseballRecord</span> = <span class="type">BaseballRecord</span>(wins: <span class="number">10</span>, losses: <span class="number">5</span>)</div><div class="line"><span class="comment">// 调用的是 TeamRecord extension 里的gamesPlayed</span></div><div class="line">team1.gamesPlayed <span class="comment">// 15</span></div><div class="line"><span class="comment">// 调用的是 BaseballRecord 里的gamesPlayed</span></div><div class="line">team2.gamesPlayed <span class="comment">// 162!!</span></div></pre></td></tr></table></figure>
<h3 id="限制类型的协议扩展-Type-constraints"><a href="#限制类型的协议扩展-Type-constraints" class="headerlink" title="限制类型的协议扩展 (Type constraints)"></a>限制类型的协议扩展 (Type constraints)</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">TeamRecord</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> wins: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">  <span class="keyword">var</span> losses: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">winningPercentage</span><span class="params">()</span></span> -&gt; <span class="type">Double</span></div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Tieable</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> ties: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">//当实现类型既实现了 TeamRecord 又实现了 Tieable 才予以扩展</span></div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">TeamRecord</span> <span class="title">where</span> <span class="title">Self</span>: <span class="title">Tieable</span> </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">winningPercentage</span><span class="params">()</span></span> -&gt; <span class="type">Double</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="type">Double</span>(wins) / (<span class="type">Double</span>(wins) + <span class="type">Double</span>(losses) + <span class="type">Double</span>(ties))</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">HockeyRecord</span>: <span class="title">TeamRecord</span>, <span class="title">Tieable</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> wins: <span class="type">Int</span></div><div class="line">  <span class="keyword">var</span> losses: <span class="type">Int</span></div><div class="line">  <span class="keyword">var</span> ties: <span class="type">Int</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> hockeyRecord: <span class="type">TeamRecord</span> = <span class="type">HockeyRecord</span>(wins: <span class="number">8</span>, losses: <span class="number">7</span>, ties: <span class="number">1</span>)</div><div class="line">hockeyRecord.winningPercentage() <span class="comment">// 0.5</span></div></pre></td></tr></table></figure>
<h3 id="Traits-mixins-and-multiple-inheritance"><a href="#Traits-mixins-and-multiple-inheritance" class="headerlink" title="Traits, mixins and multiple inheritance"></a>Traits, mixins and multiple inheritance</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">TeamRecord</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> wins: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">  <span class="keyword">var</span> losses: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">winningPercentage</span><span class="params">()</span></span> -&gt; <span class="type">Double</span></div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">TeamRecord</span> </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">winningPercentage</span><span class="params">()</span></span> -&gt; <span class="type">Double</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="type">Double</span>(wins) / (<span class="type">Double</span>(wins) + <span class="type">Double</span>(losses))</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">TieableRecord</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> ties: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">DivisionalRecord</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> divisionalWins: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">  <span class="keyword">var</span> divisionalLosses: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//Trait，增加了计算 totalPoints 的功能</span></div><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">PointableRecord</span> </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">totalPoints</span><span class="params">()</span></span> -&gt; <span class="type">Int</span></div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">PointableRecord</span> <span class="title">where</span> <span class="title">Self</span>: <span class="title">TieableRecord</span>, <span class="title">Self</span>: <span class="title">TeamRecord</span> </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">totalPoints</span><span class="params">()</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">return</span> (<span class="number">2</span> * wins) + (<span class="number">1</span> * ties)</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//mixins: CustomStringConvertible, Equatable  </span></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">HockeyRecord</span>: <span class="title">TeamRecord</span>,</span></div><div class="line">                     <span class="title">TieableRecord</span>,</div><div class="line">                     <span class="title">DivisionalRecord</span>,</div><div class="line">                     <span class="title">CustomStringConvertible</span>,</div><div class="line">                     <span class="title">Equatable</span> &#123;</div><div class="line">  <span class="keyword">var</span> wins: <span class="type">Int</span></div><div class="line">  <span class="keyword">var</span> losses: <span class="type">Int</span></div><div class="line">  <span class="keyword">var</span> ties: <span class="type">Int</span></div><div class="line">  <span class="keyword">var</span> divisionalWins: <span class="type">Int</span></div><div class="line">  <span class="keyword">var</span> divisionalLosses: <span class="type">Int</span></div><div class="line">  <span class="keyword">var</span> description: <span class="type">String</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="string">"<span class="subst">\(wins)</span> - <span class="subst">\(losses)</span> - <span class="subst">\(ties)</span>"</span></div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">func</span> ==<span class="params">(lhs: HockeyRecord, rhs: HockeyRecord)</span></span> -&gt; <span class="type">Bool</span> &#123;</div><div class="line">  <span class="keyword">return</span> lhs.wins == rhs.wins &amp;&amp;</div><div class="line">  		 lhs.ties == rhs.ties &amp;&amp;</div><div class="line">	   lhs.losses == rhs.losses</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="高级"><a href="#高级" class="headerlink" title="高级"></a>高级</h1><h2 id="错误处理"><a href="#错误处理" class="headerlink" title="错误处理"></a>错误处理</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//ErrorType 协议</span></div><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">RollingError</span>: <span class="title">ErrorType</span> </span>&#123;</div><div class="line">  <span class="keyword">case</span> <span class="type">Doubles</span></div><div class="line">  <span class="keyword">case</span> <span class="type">OutOfFunding</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> hasFunding = <span class="literal">true</span></div><div class="line"><span class="comment">//throws</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">roll</span><span class="params">(firstDice: Int, secondDice: Int)</span></span> <span class="keyword">throws</span> &#123;</div><div class="line">  <span class="keyword">let</span> error: <span class="type">RollingError</span></div><div class="line">  <span class="keyword">if</span> firstDice == secondDice &amp;&amp; hasFunding &#123;</div><div class="line">    error = .<span class="type">Doubles</span></div><div class="line">    hasFunding = <span class="literal">false</span></div><div class="line">    <span class="keyword">throw</span> error</div><div class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> firstDice == secondDice &amp;&amp; !hasFunding &#123;</div><div class="line">    hasFunding = <span class="literal">true</span></div><div class="line">    <span class="built_in">print</span>(<span class="string">"Huzzah! You raise another round of funding!"</span>)</div><div class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> !hasFunding &#123;</div><div class="line">    error = .<span class="type">OutOfFunding</span></div><div class="line">    <span class="keyword">throw</span> error</div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"You moved <span class="subst">\(firstDice + secondDice)</span> spaces"</span>)</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//try catch</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">move</span><span class="params">(firstDice: Int, secondDice: Int)</span></span> -&gt; <span class="type">String</span> &#123;</div><div class="line">  <span class="keyword">do</span> &#123;</div><div class="line">    <span class="keyword">try</span> roll(firstDice, secondDice: secondDice)</div><div class="line">    <span class="keyword">return</span> <span class="string">"Successful roll."</span></div><div class="line">  &#125; <span class="keyword">catch</span> <span class="type">RollingError</span>.<span class="type">Doubles</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="string">"You rolled doubles and have lost your funding"</span></div><div class="line">  &#125; <span class="keyword">catch</span> <span class="type">RollingError</span>.<span class="type">OutOfFunding</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="string">"You need to do another round of funding."</span></div><div class="line">  &#125; <span class="keyword">catch</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="string">"Unknown error"</span></div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Direction</span> </span>&#123;</div><div class="line">  <span class="keyword">case</span> <span class="type">Left</span></div><div class="line">  <span class="keyword">case</span> <span class="type">Right</span></div><div class="line">  <span class="keyword">case</span> <span class="type">Forward</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">PugBotError</span>: <span class="title">ErrorType</span> </span>&#123;</div><div class="line">  <span class="keyword">case</span> <span class="type">DidNotTurnLeft</span>(directionMoved: <span class="type">Direction</span>)</div><div class="line">  <span class="keyword">case</span> <span class="type">DidNotTurnRight</span>(directionMoved: <span class="type">Direction</span>)</div><div class="line">  <span class="keyword">case</span> <span class="type">DidNotGoForward</span>(directionMoved: <span class="type">Direction</span>)</div><div class="line">  <span class="keyword">case</span> <span class="type">EndOfPath</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">PugBot</span> </span>&#123;</div><div class="line">  <span class="keyword">let</span> name: <span class="type">String</span></div><div class="line">  <span class="keyword">let</span> correctPath: [<span class="type">Direction</span>]</div><div class="line">  <span class="keyword">var</span> currentStepInPath = <span class="number">0</span></div><div class="line">  </div><div class="line">  <span class="comment">//可失败的初始化(failable initializer)</span></div><div class="line">  <span class="keyword">init</span>? (name: <span class="type">String</span>, correctPath: [<span class="type">Direction</span>]) &#123;</div><div class="line">    <span class="keyword">self</span>.correctPath = correctPath</div><div class="line">    <span class="keyword">self</span>.name = name</div><div class="line">    </div><div class="line">    <span class="keyword">guard</span> (correctPath.<span class="built_in">count</span> &gt; <span class="number">0</span>) <span class="keyword">else</span> &#123;<span class="keyword">return</span> <span class="literal">nil</span>&#125;</div><div class="line">    </div><div class="line">    <span class="keyword">switch</span> name &#123;</div><div class="line">      <span class="keyword">case</span> <span class="string">"Delia"</span>, <span class="string">"Olive"</span>, <span class="string">"Frank"</span>, <span class="string">"Otis"</span>, <span class="string">"Doug"</span>:</div><div class="line">        <span class="keyword">break</span></div><div class="line">      <span class="keyword">default</span>:</div><div class="line">		<span class="keyword">return</span> <span class="literal">nil</span></div><div class="line">	&#125; </div><div class="line">  &#125;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">turnLeft</span><span class="params">()</span></span> <span class="keyword">throws</span> &#123;</div><div class="line">    <span class="keyword">guard</span> (currentStepInPath &lt; correctPath.<span class="built_in">count</span>) <span class="keyword">else</span> &#123;</div><div class="line">      <span class="keyword">throw</span> <span class="type">PugBotError</span>.<span class="type">EndOfPath</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">let</span> direction = correctPath[currentStepInPath]</div><div class="line">    <span class="keyword">if</span> direction != .<span class="type">Left</span> &#123;</div><div class="line">      <span class="keyword">throw</span> <span class="type">PugBotError</span>.<span class="type">DidNotTurnLeft</span>(directionMoved: direction)</div><div class="line">    &#125;</div><div class="line">    currentStepInPath += <span class="number">1</span></div><div class="line">  &#125;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">turnRight</span><span class="params">()</span></span> <span class="keyword">throws</span> &#123;</div><div class="line">    <span class="keyword">guard</span> (currentStepInPath &lt; correctPath.<span class="built_in">count</span>) <span class="keyword">else</span> &#123;</div><div class="line">      <span class="keyword">throw</span> <span class="type">PugBotError</span>.<span class="type">EndOfPath</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">let</span> direction = correctPath[currentStepInPath]</div><div class="line">    <span class="keyword">if</span> direction != .<span class="type">Right</span> &#123;</div><div class="line">      <span class="keyword">throw</span> <span class="type">PugBotError</span>.<span class="type">DidNotTurnRight</span>(directionMoved: direction)</div><div class="line">    &#125;</div><div class="line">    currentStepInPath += <span class="number">1</span></div><div class="line">  &#125;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">moveForward</span><span class="params">()</span></span> <span class="keyword">throws</span> &#123;</div><div class="line">    <span class="keyword">guard</span> (currentStepInPath &lt; correctPath.<span class="built_in">count</span>) <span class="keyword">else</span> &#123;</div><div class="line">      <span class="keyword">throw</span> <span class="type">PugBotError</span>.<span class="type">EndOfPath</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">let</span> direction = correctPath[currentStepInPath]</div><div class="line">    <span class="keyword">if</span> direction != .<span class="type">Forward</span> &#123;</div><div class="line">      <span class="keyword">throw</span> <span class="type">PugBotError</span>.<span class="type">DidNotGoForward</span>(directionMoved: direction)</div><div class="line">    &#125;</div><div class="line">    currentStepInPath += <span class="number">1</span></div><div class="line">  &#125;</div><div class="line">  </div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">goHome</span><span class="params">()</span></span> <span class="keyword">throws</span> &#123;</div><div class="line">    <span class="keyword">try</span> moveForward()</div><div class="line">    <span class="keyword">try</span> turnLeft()</div><div class="line">    <span class="keyword">try</span> moveForward()</div><div class="line">    <span class="keyword">try</span> turnRight()</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">movePugBotSafely</span><span class="params">(move: <span class="params">()</span></span></span> <span class="keyword">throws</span> -&gt; ()) -&gt; <span class="type">String</span> &#123;</div><div class="line">    <span class="keyword">do</span> &#123;</div><div class="line">      <span class="keyword">try</span> move()</div><div class="line">          <span class="keyword">return</span> <span class="string">"Completed move successfully."</span></div><div class="line">      &#125; <span class="keyword">catch</span> <span class="type">PugBotError</span>.<span class="type">DidNotTurnLeft</span>(<span class="keyword">let</span> directionMoved) &#123;</div><div class="line">      	  <span class="keyword">return</span> <span class="string">"The PugBot was supposed to turn left, but turned <span class="subst">\(directionMoved)</span> instead."</span></div><div class="line">      &#125; <span class="keyword">catch</span> <span class="type">PugBotError</span>.<span class="type">DidNotTurnRight</span>(<span class="keyword">let</span> directionMoved) &#123;</div><div class="line">      	  <span class="keyword">return</span> <span class="string">"The PugBot was supposed to turn right, but turned <span class="subst">\(directionMoved)</span> instead."</span></div><div class="line">      &#125; <span class="keyword">catch</span> <span class="type">PugBotError</span>.<span class="type">DidNotGoForward</span>(<span class="keyword">let</span> directionMoved) &#123;</div><div class="line">          <span class="keyword">return</span> <span class="string">"The PugBot was supposed to move forward, but turned <span class="subst">\(directionMoved)</span> instead."</span></div><div class="line">      &#125; <span class="keyword">catch</span> <span class="type">PugBotError</span>.<span class="type">EndOfPath</span>() &#123;</div><div class="line">          <span class="keyword">return</span> <span class="string">"The PugBot tried to move past the end of the path."</span></div><div class="line">      &#125; <span class="keyword">catch</span> &#123;</div><div class="line">          <span class="keyword">return</span> <span class="string">"An unknown error occurred"</span></div><div class="line">      &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> rightDirections: [<span class="type">Direction</span>] =</div><div class="line"> [.<span class="type">Forward</span>, .<span class="type">Left</span>, .<span class="type">Forward</span>, .<span class="type">Right</span>]</div><div class="line"><span class="keyword">let</span> wrongDirections: [<span class="type">Direction</span>] =</div><div class="line"> [.<span class="type">Left</span>, .<span class="type">Left</span>, .<span class="type">Left</span>, .<span class="type">Forward</span>]</div><div class="line"> </div><div class="line"><span class="keyword">let</span> invalidPug = <span class="type">PugBot</span>(name: <span class="string">"Lassie"</span>, correctPath: rightDirections)</div><div class="line"><span class="keyword">let</span> myPugBot = <span class="type">PugBot</span>(name: <span class="string">"Delia"</span>, correctPath: rightDirections)!</div><div class="line"><span class="keyword">let</span> wrongPugBot = <span class="type">PugBot</span>(name: <span class="string">"Delia"</span>, correctPath: wrongDirections)!</div><div class="line"></div><div class="line">movePugBotSafely &#123;</div><div class="line">  <span class="keyword">try</span> myPugBot.goHome()</div><div class="line">  <span class="keyword">try</span> myPugBot.moveForward()</div><div class="line">&#125;</div><div class="line"><span class="comment">//&gt; The PugBot tried to move past the end of the path.</span></div></pre></td></tr></table></figure>
<h2 id="泛型-Generics"><a href="#泛型-Generics" class="headerlink" title="泛型 (Generics)"></a>泛型 (Generics)</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Cat</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> name: <span class="type">String</span></div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Dog</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> name: <span class="type">String</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Keeper</span>&lt;<span class="title">T</span>&gt; </span>&#123;</div><div class="line">  <span class="keyword">var</span> name: <span class="type">String</span></div><div class="line">  <span class="keyword">var</span> morningAnimal: <span class="type">T</span></div><div class="line">  <span class="keyword">var</span> afternoonAnimal: <span class="type">T</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> jason = <span class="type">Keeper</span>(name: <span class="string">"Jason"</span>,</div><div class="line">                   morningAnimal: <span class="type">Cat</span>(name: <span class="string">"Whiskers"</span>),</div><div class="line">                   afternoonAnimal: <span class="type">Cat</span>(name: <span class="string">"Sleepy"</span>))</div><div class="line"></div><div class="line"><span class="comment">//Swift 的类型推断</span></div><div class="line"><span class="comment">//Array</span></div><div class="line"><span class="keyword">let</span> favoriteIntsInferred = <span class="type">Array</span>(arrayLiteral: <span class="number">8</span>, <span class="number">9</span>, <span class="number">42</span>)</div><div class="line"><span class="keyword">let</span> favoriteFloatsInferred = <span class="type">Array</span>&lt;<span class="type">Float</span>&gt;(arrayLiteral: <span class="number">8</span>, <span class="number">9</span>, <span class="number">42</span>)</div><div class="line"><span class="keyword">let</span> favoriteIntsExplicit2: <span class="type">Array</span>&lt;<span class="type">Int</span>&gt;     = [<span class="number">8</span>, <span class="number">9</span>, <span class="number">42</span>]</div><div class="line"><span class="keyword">let</span> favoriteIntsInferred2: <span class="type">Array</span>          = [<span class="number">8</span>, <span class="number">9</span>, <span class="number">42</span>]</div><div class="line"><span class="keyword">let</span> favoriteFloatsInferred2: <span class="type">Array</span>&lt;<span class="type">Float</span>&gt; = [<span class="number">8</span>, <span class="number">9</span>, <span class="number">42</span>]</div><div class="line"></div><div class="line"><span class="comment">//Dictionary</span></div><div class="line"><span class="keyword">let</span> intNames: <span class="type">Dictionary</span>&lt;<span class="type">Int</span>, <span class="type">String</span>&gt; = [<span class="number">42</span>: <span class="string">"forty-two"</span>]</div><div class="line"> <span class="keyword">let</span> intNames2: [<span class="type">Int</span>: <span class="type">String</span>] = [<span class="number">42</span>: <span class="string">"forty-two"</span>, <span class="number">7</span>: <span class="string">"seven"</span>]</div><div class="line"><span class="keyword">let</span> intNames3 = [<span class="number">42</span>: <span class="string">"forty-two"</span>, <span class="number">7</span>: <span class="string">"seven"</span>]</div><div class="line"></div><div class="line"><span class="comment">//Optional</span></div><div class="line"><span class="keyword">var</span> birthdate: <span class="type">Optional</span>&lt;<span class="type">NSDate</span>&gt; = <span class="type">Optional</span>&lt;<span class="type">NSDate</span>&gt;.<span class="type">None</span></div><div class="line"><span class="keyword">if</span> birthdate == <span class="type">Optional</span>&lt;<span class="type">NSDate</span>&gt;.<span class="type">None</span> &#123;</div><div class="line">  <span class="comment">// no birthdate</span></div><div class="line">&#125;</div><div class="line"><span class="comment">//等价于</span></div><div class="line"><span class="keyword">var</span> birthdate: <span class="type">NSDate</span>? = <span class="literal">nil</span></div><div class="line"><span class="keyword">if</span> birthdate == <span class="literal">nil</span> &#123;</div><div class="line">  <span class="comment">// no birthdate</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//泛型函数</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">swapped</span>&lt;T, U&gt;<span class="params">(x: T, <span class="number">_</span> y: U)</span></span> -&gt; (<span class="type">U</span>, <span class="type">T</span>) &#123;</div><div class="line">  <span class="keyword">return</span> (y, x)</div><div class="line">&#125;</div><div class="line">swapped(<span class="number">33</span>, <span class="string">"Jay"</span>)  <span class="comment">// returns ("Jay", 33)</span></div></pre></td></tr></table></figure>
<h2 id="函数式编程"><a href="#函数式编程" class="headerlink" title="函数式编程"></a>函数式编程</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> Foundation</div><div class="line"><span class="comment">//map</span></div><div class="line"><span class="keyword">let</span> animals = [<span class="string">"cat"</span>, <span class="string">"dog"</span>, <span class="string">"sheep"</span>, <span class="string">"dolphin"</span>, <span class="string">"tiger"</span>]</div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">capitalize</span><span class="params">(s: String)</span></span> -&gt; <span class="type">String</span> &#123;</div><div class="line">  <span class="keyword">return</span> s.uppercaseString</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">characterForCharacterName</span><span class="params">(<span class="built_in">c</span>: String)</span></span> -&gt; <span class="type">Character</span> &#123;</div><div class="line">  <span class="keyword">let</span> curlyBracedCharacterName = <span class="string">"\\N&#123;<span class="subst">\(<span class="built_in">c</span>)</span>&#125;"</span></div><div class="line">  <span class="keyword">let</span> charStr = curlyBracedCharacterName.stringByApplyingTransform(</div><div class="line">    <span class="type">NSStringTransformToUnicodeName</span>, <span class="built_in">reverse</span>: <span class="literal">true</span>)</div><div class="line">  <span class="keyword">return</span> charStr!.characters.first!</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> uppercaseAnimals = animals.<span class="built_in">map</span>(capitalize)</div><div class="line"><span class="keyword">let</span> animalEmojis = uppercaseAnimals.<span class="built_in">map</span>(characterForCharacterName)</div><div class="line"></div><div class="line"><span class="keyword">let</span> uppercaseAnimals4 = animals.<span class="built_in">map</span>(&#123; $<span class="number">0</span>.uppercaseString &#125;)</div><div class="line"></div><div class="line"><span class="comment">//filter</span></div><div class="line"><span class="keyword">let</span> threeCharacterAnimals = animals.<span class="built_in">filter</span>() &#123;</div><div class="line">  $<span class="number">0</span>.characters.<span class="built_in">count</span> == <span class="number">3</span></div><div class="line">&#125;</div><div class="line">threeCharacterAnimals <span class="comment">// =&gt; ["cat", "dog"]</span></div><div class="line"></div><div class="line"><span class="comment">//reduce</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">sum</span><span class="params">(items: [Int])</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">  <span class="keyword">return</span> items.<span class="built_in">reduce</span>(<span class="number">0</span>, combine: +)</div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> total = sum([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</div><div class="line">total <span class="comment">// =&gt; (((0 + 1) + 2) + 3) == 6</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">concatenate</span><span class="params">(items: [String])</span></span> -&gt; <span class="type">String</span> &#123;</div><div class="line">  <span class="keyword">return</span> items.<span class="built_in">reduce</span>(<span class="string">""</span>, combine: +)</div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> phrase = concatenate([<span class="string">"Hello"</span>,<span class="string">" "</span>,<span class="string">"World"</span>])</div><div class="line">phrase <span class="comment">// =&gt; ((("" + "Hello") + " ") + "World") == "Hello World"</span></div></pre></td></tr></table></figure>

        </div>

        <blockquote class="post-copyright">
    <div class="content">
        
<span class="post-time">
    最后更新时间：<time datetime="2017-05-12T15:19:49.000Z" itemprop="dateUpdated">2017-05-12 23:19:49</time>
</span><br>


        
        原始链接：<a href="/Notes/Swift笔记.html" target="_blank" rel="external">https://coderdotcool.github.io/Notes/Swift笔记.html</a>
        
    </div>
    <footer>
        <a href="https://coderdotcool.github.io">
            <img src="/img/avatar.png" alt="codercool">
            codercool
        </a>
    </footer>
</blockquote>

        
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>



        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/swift/">swift</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://coderdotcool.github.io/Notes/Swift笔记.html&title=《Swift笔记》 — Coder Cool !&pic=https://coderdotcool.github.io/img/avatar.png" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://coderdotcool.github.io/Notes/Swift笔记.html&title=《Swift笔记》 — Coder Cool !&source=闲暇学习Swift记的笔记，后有时间会持续更新，查漏补缺…😀" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://coderdotcool.github.io/Notes/Swift笔记.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Swift笔记》 — Coder Cool !&url=https://coderdotcool.github.io/Notes/Swift笔记.html&via=https://coderdotcool.github.io" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://coderdotcool.github.io/Notes/Swift笔记.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/Notes/iOS-Animations-笔记.html" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">iOS Animations 笔记</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/Notes/Git笔记.html" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">Git笔记</h4>
      </a>
    </div>
  
</nav>



    








<section class="comments" id="comments">
    <div id="gitment_thread"></div>
    <link rel="stylesheet" href="//unpkg.com/gitment/style/default.css">
    <script src="//unpkg.com/gitment/dist/gitment.browser.js"></script>
    <script>
        var gitment = new Gitment({
            owner: 'docoder',
            repo: 'docoder.github.io',
            oauth: {
                client_id: '11fabee21d6dd417c960',
                client_secret: 'a72543f86723239bf13dcb31df66e4d78444447e',
            },
        })
        gitment.render('comments')
    </script>
</section>







</article>

<div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        谢谢~😘
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/img/wechat.jpg" alt="打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check"
                data-wechat="/img/wechat.jpg" data-alipay="/img/alipay.jpg">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">微信</span>
                <span class="reward-toggle-label"></span>
                <span class="reward-toggle-item alipay">支付宝</span>
            </div>
        </label>
        
    </div>
</div>



</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        站点总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        站点总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>博客内容遵循 <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a></span>
        </p>
    </div>
    <div class="bottom">
        <p><span>codercool &copy; 2017 - 2018</span>
            <span>
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://coderdotcool.github.io/Notes/Swift笔记.html&title=《Swift笔记》 — Coder Cool !&pic=https://coderdotcool.github.io/img/avatar.png" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://coderdotcool.github.io/Notes/Swift笔记.html&title=《Swift笔记》 — Coder Cool !&source=闲暇学习Swift记的笔记，后有时间会持续更新，查漏补缺…😀" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://coderdotcool.github.io/Notes/Swift笔记.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Swift笔记》 — Coder Cool !&url=https://coderdotcool.github.io/Notes/Swift笔记.html&via=https://coderdotcool.github.io" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://coderdotcool.github.io/Notes/Swift笔记.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACJklEQVR42u3azXKDMAxG0bz/S9OZbtO634/JFPl6xUBCOCwUydLrJa/re/12/v3q9bayz29eMGDAeCzjWq41Q2GvH105Xj8bDBgwzmEoj6JfdR/XvTMMGDBgKEFzDVPOr0MqDBgwYPQB1y1394ZyGDBgnMlQAl9W3Db3vKUWhwEDxgMZ2fbZZ45v7G/AgAHjIYyrXkrSpoTa6hlgwIAxmrFuMepRThmYcBuldhoKAwaMoQy3fHV/oHk1ysuV/jdgwIDxcIZbTLpnlMfK2qLVTAcMGDAey1ACa9aAzAbI7OQVBgwYoxlNsFOK1SahtLf8YMCAMY6hj0E0QxLKJp2esP5wHxgwYIxmZD/gFqh9UNbTVhgwYJzA0ANu1j1sWphS2goDBoxxjGxUIksQ7RkQfXMQBgwYoxn6xpnb/sw2/ZWXYvxvwIABYwTDtTbb/UbQdIcwYMCAMZqRbas1382aEFIQhwEDxmjG3tGKNVU/dpsNMGDAmM3IGo3ud93GpB7KYcCAcQ5DD7VNe9ItWY3yGAYMGAcwsuDYp5Ju8+CPWhwGDBhDGU3ClwVlvUXqthNgwIAxj3GZqxmqaFoF0pwIDBgwhjL0pRefYQkaFbQ2DAYMGI9luEE23LiPrtozIzBgwBjN6AOfmzI2RSwMGDBgKIld1pK8Ma2EAQMGjE0tzOb+RmcDBgwYQxn9Zn1zHzeIw4AB4zRG0xjYi3SHLbb1N2DAgPF/GV8BCgPxf2fbJQAAAABJRU5ErkJggg==" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: true };


</script>

<script src="/js/main.min.js?v=1.7.0"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="/js/search.min.js?v=1.7.0" async></script>



<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});
</script>

<script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" async></script>




<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>





</body>
</html>
